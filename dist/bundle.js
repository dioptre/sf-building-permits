!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=13)}([function(t,n,e){"use strict";var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){return 1===t.length&&(t=function(t){return function(n,e){return r(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,u=o.left,s=a,c=function(t,n){null==n&&(n=l);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o};function l(t,n){return[t,n]}var f=function(t,n,e){var r,i,o,a,u=t.length,s=n.length,c=new Array(u*s);for(null==e&&(e=l),r=o=0;r<u;++r)for(a=t[r],i=0;i<s;++i,++o)c[o]=e(a,n[i]);return c},h=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,n){var e,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==n)for(;++a<i;)isNaN(e=d(t[a]))||(s+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=d(n(t[a],a,t)))||(s+=(r=e-u)*(e-(u+=r/++o)));if(o>1)return s/(o-1)},g=function(t,n){var e=p(t,n);return e?Math.sqrt(e):e},_=function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},y=Array.prototype,v=y.slice,x=y.map,m=function(t){return function(){return t}},b=function(t){return t},w=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},S=Math.sqrt(50),A=Math.sqrt(10),T=Math.sqrt(2),P=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=M(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function M(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=A?5:o>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=A?5:o>=T?2:1)}function C(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=A?i*=5:o>=T&&(i*=2),n<t?-i:i}var E=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},L=function(){var t=b,n=_,e=E;function r(r){var i,o,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var c=n(u),l=c[0],f=c[1],h=e(u,l,f);Array.isArray(h)||(h=C(l,f,h),h=w(Math.ceil(l/h)*h,Math.floor(f/h)*h,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:f;for(i=0;i<a;++i)l<=(o=u[i])&&o<=f&&g[s(h,o,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:m(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:m([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?m(v.call(t)):m(t),r):e},r},k=function(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}},O=function(t,n,e){return t=x.call(t,d).sort(r),Math.ceil((e-n)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},V=function(t,n,e){return Math.ceil((e-n)/(3.5*g(t)*Math.pow(t.length,-1/3)))},G=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},N=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=d(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=d(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},R=function(t,n){var e,i=t.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||a.push(e);else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||a.push(e);return k(a.sort(r),.5)},I=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e},D=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},z=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},F=function(t,n){if(e=t.length){var e,i,o=0,a=0,u=t[a];for(null==n&&(n=r);++o<e;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},j=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},B=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},X=function(t){if(!(i=t.length))return[];for(var n=-1,e=D(t,H),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r};function H(t){return t.length}var Y=function(){return X(arguments)};e.d(n,"b",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"a",function(){return r}),e.d(n,"e",function(){return i}),e.d(n,"f",function(){return f}),e.d(n,"g",function(){return h}),e.d(n,"h",function(){return g}),e.d(n,"i",function(){return _}),e.d(n,"j",function(){return L}),e.d(n,"w",function(){return O}),e.d(n,"x",function(){return V}),e.d(n,"y",function(){return E}),e.d(n,"k",function(){return G}),e.d(n,"l",function(){return N}),e.d(n,"m",function(){return R}),e.d(n,"n",function(){return I}),e.d(n,"o",function(){return D}),e.d(n,"p",function(){return c}),e.d(n,"q",function(){return z}),e.d(n,"r",function(){return k}),e.d(n,"s",function(){return w}),e.d(n,"t",function(){return F}),e.d(n,"u",function(){return j}),e.d(n,"v",function(){return B}),e.d(n,"B",function(){return P}),e.d(n,"z",function(){return M}),e.d(n,"A",function(){return C}),e.d(n,"C",function(){return X}),e.d(n,"D",function(){return p}),e.d(n,"E",function(){return Y})},function(t,n,e){"use strict";var r=new Date,i=new Date;function o(t,n,e,a){function u(n){return t(n=new Date(+n)),n}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var o,a=[];if(e=u.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return a;do{a.push(o=new Date(+e)),n(e,i),t(e)}while(o<e&&e<r);return a},u.filter=function(e){return o(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(u.count=function(n,o){return r.setTime(+n),i.setTime(+o),t(r),t(i),Math.floor(e(r,i))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(n){return a(n)%t==0}:function(n){return u.count(0,n)%t==0}):u:null}),u}var a=o(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):a:null};var u=a,s=a.range,c=6e4,l=6048e5,f=o(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),h=f,d=f.range,p=o(function(t){t.setTime(Math.floor(t/c)*c)},function(t,n){t.setTime(+t+n*c)},function(t,n){return(n-t)/c},function(t){return t.getMinutes()}),g=p,_=p.range,y=o(function(t){var n=t.getTimezoneOffset()*c%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),v=y,x=y.range,m=o(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*c)/864e5},function(t){return t.getDate()-1}),b=m,w=m.range;function S(t){return o(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*c)/l})}var A=S(0),T=S(1),P=S(2),M=S(3),C=S(4),E=S(5),L=S(6),k=A.range,O=T.range,V=P.range,G=M.range,N=C.range,R=E.range,I=L.range,D=o(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),z=D,F=D.range,j=o(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var B=j,X=j.range,H=o(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*c)},function(t,n){return(n-t)/c},function(t){return t.getUTCMinutes()}),Y=H,U=H.range,q=o(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),W=q,Q=q.range,$=o(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),Z=$,K=$.range;function J(t){return o(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/l})}var tt=J(0),nt=J(1),et=J(2),rt=J(3),it=J(4),ot=J(5),at=J(6),ut=tt.range,st=nt.range,ct=et.range,lt=rt.range,ft=it.range,ht=ot.range,dt=at.range,pt=o(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),gt=pt,_t=pt.range,yt=o(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});yt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var vt=yt,xt=yt.range;e.d(n,"g",function(){return o}),e.d(n,"h",function(){return u}),e.d(n,"i",function(){return s}),e.d(n,"L",function(){return u}),e.d(n,"M",function(){return s}),e.d(n,"r",function(){return h}),e.d(n,"s",function(){return d}),e.d(n,"V",function(){return h}),e.d(n,"W",function(){return d}),e.d(n,"j",function(){return g}),e.d(n,"k",function(){return _}),e.d(n,"e",function(){return v}),e.d(n,"f",function(){return x}),e.d(n,"a",function(){return b}),e.d(n,"b",function(){return w}),e.d(n,"B",function(){return A}),e.d(n,"C",function(){return k}),e.d(n,"t",function(){return A}),e.d(n,"u",function(){return k}),e.d(n,"l",function(){return T}),e.d(n,"m",function(){return O}),e.d(n,"x",function(){return P}),e.d(n,"y",function(){return V}),e.d(n,"z",function(){return M}),e.d(n,"A",function(){return G}),e.d(n,"v",function(){return C}),e.d(n,"w",function(){return N}),e.d(n,"c",function(){return E}),e.d(n,"d",function(){return R}),e.d(n,"p",function(){return L}),e.d(n,"q",function(){return I}),e.d(n,"n",function(){return z}),e.d(n,"o",function(){return F}),e.d(n,"D",function(){return B}),e.d(n,"E",function(){return X}),e.d(n,"N",function(){return Y}),e.d(n,"O",function(){return U}),e.d(n,"J",function(){return W}),e.d(n,"K",function(){return Q}),e.d(n,"F",function(){return Z}),e.d(n,"G",function(){return K}),e.d(n,"fb",function(){return tt}),e.d(n,"gb",function(){return ut}),e.d(n,"X",function(){return tt}),e.d(n,"Y",function(){return ut}),e.d(n,"P",function(){return nt}),e.d(n,"Q",function(){return st}),e.d(n,"bb",function(){return et}),e.d(n,"cb",function(){return ct}),e.d(n,"db",function(){return rt}),e.d(n,"eb",function(){return lt}),e.d(n,"Z",function(){return it}),e.d(n,"ab",function(){return ft}),e.d(n,"H",function(){return ot}),e.d(n,"I",function(){return ht}),e.d(n,"T",function(){return at}),e.d(n,"U",function(){return dt}),e.d(n,"R",function(){return gt}),e.d(n,"S",function(){return _t}),e.d(n,"hb",function(){return vt}),e.d(n,"ib",function(){return xt})},function(t,n,e){"use strict";var r=e(3);function i(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),o=t[r],a=t[r+1],u=r>0?t[r-1]:2*o-a,s=r<n-1?t[r+2]:2*a-o;return i((e-r/n)*n,u,o,a,s)}},a=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),o=t[(r+n-1)%n],a=t[r%n],u=t[(r+1)%n],s=t[(r+2)%n];return i((e-r/n)*n,o,a,u,s)}},u=function(t){return function(){return t}};function s(t,n){return function(e){return t+e*n}}function c(t,n){var e=n-t;return e?s(t,e>180||e<-180?e-360*Math.round(e/360):e):u(isNaN(t)?n:t)}function l(t){return 1==(t=+t)?f:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):u(isNaN(n)?e:n)}}function f(t,n){var e=n-t;return e?s(t,e):u(isNaN(t)?n:t)}var h=function t(n){var e=l(n);function i(t,n){var i=e((t=Object(r.h)(t)).r,(n=Object(r.h)(n)).r),o=e(t.g,n.g),a=e(t.b,n.b),u=f(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=o(n),t.b=a(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function d(t){return function(n){var e,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(e=0;e<o;++e)i=Object(r.h)(n[e]),a[e]=i.r||0,u[e]=i.g||0,s[e]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}var p=d(o),g=d(a),_=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=M(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}},y=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},v=function(t,n){return n-=t=+t,function(e){return t+n*e}},x=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=M(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(m.source,"g");var w,S,A,T,P=function(t,n){var e,r,i,o=m.lastIndex=b.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=m.exec(t))&&(r=b.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:v(e,r)})),o=b.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},M=function(t,n){var e,i=typeof n;return null==n||"boolean"===i?u(n):("number"===i?v:"string"===i?(e=Object(r.a)(n))?(n=e,h):P:n instanceof r.a?h:n instanceof Date?y:Array.isArray(n)?_:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?x:v)(t,n)},C=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},E=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},k=function(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*E,skewX:Math.atan(s)*E,scaleX:a,scaleY:u}};function O(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:v(t,i)},{i:s-2,x:v(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:v(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:v(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:v(t,e)},{i:u-2,x:v(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var V=O(function(t){return"none"===t?L:(w||(w=document.createElement("DIV"),S=document.documentElement,A=document.defaultView),w.style.transform=t,t=A.getComputedStyle(S.appendChild(w),null).getPropertyValue("transform"),S.removeChild(w),t=t.slice(7,-1).split(","),k(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),G=O(function(t){return null==t?L:(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",t),(t=T.transform.baseVal.consolidate())?(t=t.matrix,k(t.a,t.b,t.c,t.d,t.e,t.f)):L)},", ",")",")"),N=Math.SQRT2;function R(t){return((t=Math.exp(t))+1/t)/2}var I=function(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],s=n[1],c=n[2],l=u-i,f=s-o,h=l*l+f*f;if(h<1e-12)r=Math.log(c/a)/N,e=function(t){return[i+t*l,o+t*f,a*Math.exp(N*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*d),g=(c*c-a*a-4*h)/(2*c*2*d),_=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-_)/N,e=function(t){var n=t*r,e=R(_),u=a/(2*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(N*n+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[i+u*l,o+u*f,a*e/R(N*n+_)]}}return e.duration=1e3*r,e};function D(t){return function(n,e){var i=t((n=Object(r.e)(n)).h,(e=Object(r.e)(e)).h),o=f(n.s,e.s),a=f(n.l,e.l),u=f(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}var z=D(c),F=D(f);function j(t,n){var e=f((t=Object(r.f)(t)).l,(n=Object(r.f)(n)).l),i=f(t.a,n.a),o=f(t.b,n.b),a=f(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=i(n),t.b=o(n),t.opacity=a(n),t+""}}function B(t){return function(n,e){var i=t((n=Object(r.d)(n)).h,(e=Object(r.d)(e)).h),o=f(n.c,e.c),a=f(n.l,e.l),u=f(n.opacity,e.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}var X=B(c),H=B(f);function Y(t){return function n(e){function i(n,i){var o=t((n=Object(r.b)(n)).h,(i=Object(r.b)(i)).h),a=f(n.s,i.s),u=f(n.l,i.l),s=f(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,e)),n.opacity=s(t),n+""}}return e=+e,i.gamma=n,i}(1)}var U=Y(c),q=Y(f);function W(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var Q=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e};e.d(n,"a",function(){return M}),e.d(n,"b",function(){return _}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return a}),e.d(n,"g",function(){return y}),e.d(n,"m",function(){return v}),e.d(n,"n",function(){return x}),e.d(n,"r",function(){return C}),e.d(n,"s",function(){return P}),e.d(n,"t",function(){return V}),e.d(n,"u",function(){return G}),e.d(n,"v",function(){return I}),e.d(n,"o",function(){return h}),e.d(n,"p",function(){return p}),e.d(n,"q",function(){return g}),e.d(n,"j",function(){return z}),e.d(n,"k",function(){return F}),e.d(n,"l",function(){return j}),e.d(n,"h",function(){return X}),e.d(n,"i",function(){return H}),e.d(n,"e",function(){return U}),e.d(n,"f",function(){return q}),e.d(n,"w",function(){return W}),e.d(n,"x",function(){return Q})},function(t,n,e){"use strict";var r=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function i(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function o(){}var a="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,u]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,s,s]+"\\)$"),_=new RegExp("^hsla\\("+[u,s,s,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(t){var n;return t=(t+"").trim().toLowerCase(),(n=c.exec(t))?new S((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=l.exec(t))?x(parseInt(n[1],16)):(n=f.exec(t))?new S(n[1],n[2],n[3],1):(n=h.exec(t))?new S(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=d.exec(t))?m(n[1],n[2],n[3],n[4]):(n=p.exec(t))?m(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=g.exec(t))?T(n[1],n[2]/100,n[3]/100,1):(n=_.exec(t))?T(n[1],n[2]/100,n[3]/100,n[4]):y.hasOwnProperty(t)?x(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function x(t){return new S(t>>16&255,t>>8&255,255&t,1)}function m(t,n,e,r){return r<=0&&(t=n=e=NaN),new S(t,n,e,r)}function b(t){return t instanceof o||(t=v(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function w(t,n,e,r){return 1===arguments.length?b(t):new S(t,n,e,null==r?1:r)}function S(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function A(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new M(t,n,e,r)}function P(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=v(t)),!t)return new M;if(t instanceof M)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),u=NaN,s=a-i,c=(a+i)/2;return s?(u=n===a?(e-r)/s+6*(e<r):e===a?(r-n)/s+2:(n-e)/s+4,s/=c<.5?a+i:2-a-i,u*=60):s=c>0&&c<1?0:u,new M(u,s,c,t.opacity)}(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function C(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}r(o,v,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(S,w,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(M,P,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new S(C(t>=240?t-240:t+120,i,r),C(t,i,r),C(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var E=Math.PI/180,L=180/Math.PI,k=.96422,O=1,V=.82521,G=4/29,N=6/29,R=3*N*N,I=N*N*N;function D(t){if(t instanceof j)return new j(t.l,t.a,t.b,t.opacity);if(t instanceof Q){if(isNaN(t.h))return new j(t.l,0,0,t.opacity);var n=t.h*E;return new j(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof S||(t=b(t));var e,r,i=Y(t.r),o=Y(t.g),a=Y(t.b),u=B((.2225045*i+.7168786*o+.0606169*a)/O);return i===o&&o===a?e=r=u:(e=B((.4360747*i+.3850649*o+.1430804*a)/k),r=B((.0139322*i+.0971045*o+.7141733*a)/V)),new j(116*u-16,500*(e-u),200*(u-r),t.opacity)}function z(t,n){return new j(t,0,0,null==n?1:n)}function F(t,n,e,r){return 1===arguments.length?D(t):new j(t,n,e,null==r?1:r)}function j(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function B(t){return t>I?Math.pow(t,1/3):t/R+G}function X(t){return t>N?t*t*t:R*(t-G)}function H(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Y(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U(t){if(t instanceof Q)return new Q(t.h,t.c,t.l,t.opacity);if(t instanceof j||(t=D(t)),0===t.a&&0===t.b)return new Q(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*L;return new Q(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function q(t,n,e,r){return 1===arguments.length?U(t):new Q(e,n,t,null==r?1:r)}function W(t,n,e,r){return 1===arguments.length?U(t):new Q(t,n,e,null==r?1:r)}function Q(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}r(j,F,i(o,{brighter:function(t){return new j(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new j(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new S(H(3.1338561*(n=k*X(n))-1.6168667*(t=O*X(t))-.4906146*(e=V*X(e))),H(-.9787684*n+1.9161415*t+.033454*e),H(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),r(Q,W,i(o,{brighter:function(t){return new Q(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Q(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return D(this).rgb()}}));var $=-.14861,Z=1.78277,K=-.29227,J=-.90649,tt=1.97294,nt=tt*J,et=tt*Z,rt=Z*K-J*$;function it(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof ot)return new ot(t.h,t.s,t.l,t.opacity);t instanceof S||(t=b(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(rt*r+nt*n-et*e)/(rt+nt-et),o=r-i,a=(tt*(e-i)-K*o)/J,u=Math.sqrt(a*a+o*o)/(tt*i*(1-i)),s=u?Math.atan2(a,o)*L-120:NaN;return new ot(s<0?s+360:s,u,i,t.opacity)}(t):new ot(t,n,e,null==r?1:r)}function ot(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}r(ot,it,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*E,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new S(255*(n+e*($*r+Z*i)),255*(n+e*(K*r+J*i)),255*(n+e*(tt*r)),this.opacity)}})),e.d(n,"a",function(){return v}),e.d(n,"h",function(){return w}),e.d(n,"e",function(){return P}),e.d(n,"f",function(){return F}),e.d(n,"d",function(){return W}),e.d(n,"g",function(){return q}),e.d(n,"c",function(){return z}),e.d(n,"b",function(){return it})},function(t,n,e){"use strict";var r,i,o=0,a=0,u=0,s=1e3,c=0,l=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return l||(d(g),l=h.now()+f)}function g(){l=0}function _(){this._call=this._time=this._next=null}function y(t,n,e){var r=new _;return r.restart(t,n,e),r}function v(){p(),++o;for(var t,n=r;n;)(t=l-n._time)>=0&&n._call.call(null,t),n=n._next;--o}function x(){l=(c=h.now())+f,o=a=0;try{v()}finally{o=0,function(){var t,n,e=r,o=1/0;for(;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:r=n);i=t,b(o)}(),l=0}}function m(){var t=h.now(),n=t-c;n>s&&(f-=n,c=t)}function b(t){o||(a&&(a=clearTimeout(a)),t-l>24?(t<1/0&&(a=setTimeout(x,t-h.now()-f)),u&&(u=clearInterval(u))):(u||(c=h.now(),u=setInterval(m,s)),o=1,d(x)))}_.prototype=y.prototype={constructor:_,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?p():+e)+(null==n?0:+n),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=e,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}};var w=function(t,n,e){var r=new _;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},S=function(t,n,e){var r=new _,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?p():+e,r.restart(function o(a){a+=i,r.restart(o,i+=n,e),t(a)},n,e),r)};e.d(n,"b",function(){return p}),e.d(n,"d",function(){return y}),e.d(n,"e",function(){return v}),e.d(n,"c",function(){return w}),e.d(n,"a",function(){return S})},function(t,n,e){"use strict";var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new a}a.prototype=u.prototype={constructor:a,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var a=this._x1,u=this._y1,s=e-t,c=i-n,l=a-t,f=u-n,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*s-c*l)>1e-6&&o){var d=e-a,p=i-u,g=s*s+c*c,_=d*d+p*p,y=Math.sqrt(g),v=Math.sqrt(h),x=o*Math.tan((r-Math.acos((g+h-_)/(2*y*v)))/2),m=x/v,b=x/y;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*l)+","+(n+m*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+b*s)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,u,s){t=+t,n=+n;var c=(e=+e)*Math.cos(a),l=e*Math.sin(a),f=t+c,h=n+l,d=1^s,p=s?a-u:u-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),e&&(p<0&&(p=p%i+i),p>o?this._+="A"+e+","+e+",0,1,"+d+","+(t-c)+","+(n-l)+"A"+e+","+e+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+e+","+e+",0,"+ +(p>=r)+","+d+","+(this._x1=t+e*Math.cos(u))+","+(this._y1=n+e*Math.sin(u))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var s=u;e.d(n,"a",function(){return s})},function(t,n,e){"use strict";var r=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},i=function(t){return(t=r(Math.abs(t)))?t[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(t){return new u(t)}function u(t){if(!(n=o.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}a.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s,c,l,f,h=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t},d=function(t,n){var e=r(t,n);if(!e)return t+"";var i=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},p={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return d(100*t,n)},r:d,s:function(t,n){var e=r(t,n);if(!e)return t+"";var i=e[0],o=e[1],a=o-(s=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},g=function(t){return t},_=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],y=function(t){var n=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):g,e=t.currency,r=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):g,u=t.percent||"%";function c(t){var i=(t=a(t)).fill,c=t.align,l=t.sign,f=t.symbol,d=t.zero,g=t.width,y=t.comma,v=t.precision,x=t.trim,m=t.type;"n"===m?(y=!0,m="g"):p[m]||(null==v&&(v=12),x=!0,m="g"),(d||"0"===i&&"="===c)&&(d=!0,i="0",c="=");var b="$"===f?e[0]:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===f?e[1]:/[%p]/.test(m)?u:"",S=p[m],A=/[defgprs%]/.test(m);function T(t){var e,a,u,f=b,p=w;if("c"===m)p=S(t)+p,t="";else{var T=(t=+t)<0;if(t=S(Math.abs(t),v),x&&(t=h(t)),T&&0==+t&&(T=!1),f=(T?"("===l?l:"-":"-"===l||"("===l?"":l)+f,p=("s"===m?_[8+s/3]:"")+p+(T&&"("===l?")":""),A)for(e=-1,a=t.length;++e<a;)if(48>(u=t.charCodeAt(e))||u>57){p=(46===u?r+t.slice(e+1):t.slice(e))+p,t=t.slice(0,e);break}}y&&!d&&(t=n(t,1/0));var P=f.length+t.length+p.length,M=P<g?new Array(g-P+1).join(i):"";switch(y&&d&&(t=n(M+t,M.length?g-p.length:1/0),M=""),c){case"<":t=f+t+p+M;break;case"=":t=f+M+t+p;break;case"^":t=M.slice(0,P=M.length>>1)+f+t+p+M.slice(P);break;default:t=M+f+t+p}return o(t)}return v=null==v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),T.toString=function(){return t+""},T}return{format:c,formatPrefix:function(t,n){var e=c(((t=a(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(i(n)/3))),o=Math.pow(10,-r),u=_[8+r/3];return function(t){return e(o*t)+u}}}};function v(t){return c=y(t),l=c.format,f=c.formatPrefix,c}v({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var x=function(t){return Math.max(0,-i(Math.abs(t)))},m=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(n)/3)))-i(Math.abs(t)))},b=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,i(n)-i(t))+1};e.d(n,"b",function(){return v}),e.d(n,"a",function(){return l}),e.d(n,"d",function(){return f}),e.d(n,"c",function(){return y}),e.d(n,"e",function(){return a}),e.d(n,"f",function(){return x}),e.d(n,"g",function(){return m}),e.d(n,"h",function(){return b})},function(t,n,e){"use strict";var r={value:function(){}};function i(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function u(t,n,e){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=i.prototype={constructor:o,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<s;)if(e=(t=i[o]).type)r[e]=u(r[e],t.name,n);else if(null==n)for(e in r)r[e]=u(r[e],t.name,null);return this}for(;++o<s;)if((e=(t=i[o]).type)&&(e=a(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new o(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var s=i;e.d(n,"a",function(){return s})},function(t,n,e){"use strict";var r=e(1);function i(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function u(t){var n=t.dateTime,e=t.date,u=t.time,s=t.periods,c=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,p=x(s),g=m(s),_=x(c),y=m(c),v=x(l),St=m(l),At=x(f),Tt=m(f),Pt=x(h),Mt=m(h),Ct={a:function(t){return l[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:F,e:F,f:Y,H:j,I:B,j:X,L:H,m:U,M:q,p:function(t){return s[+(t.getHours()>=12)]},Q:bt,s:wt,S:W,u:Q,U:$,V:Z,w:K,W:J,x:null,X:null,y:tt,Y:nt,Z:et,"%":mt},Et={a:function(t){return l[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:rt,e:rt,f:st,H:it,I:ot,j:at,L:ut,m:ct,M:lt,p:function(t){return s[+(t.getUTCHours()>=12)]},Q:bt,s:wt,S:ft,u:ht,U:dt,V:pt,w:gt,W:_t,x:null,X:null,y:yt,Y:vt,Z:xt,"%":mt},Lt={a:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.w=St[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.w=y[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=Pt.exec(n.slice(e));return r?(t.m=Mt[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=At.exec(n.slice(e));return r?(t.m=Tt[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return Vt(t,n,e,r)},d:L,e:L,f:R,H:O,I:O,j:k,L:N,m:E,M:V,p:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.p=g[r[0].toLowerCase()],e+r[0].length):-1},Q:D,s:z,S:G,u:w,U:S,V:A,w:b,W:T,x:function(t,n,r){return Vt(t,e,n,r)},X:function(t,n,e){return Vt(t,u,n,e)},y:M,Y:P,Z:C,"%":I};function kt(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=d[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function Ot(t,n){return function(e){var i,u,s=a(1900);if(Vt(s,t,e+="",0)!=e.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(u=(i=o(a(s.y))).getUTCDay())>4||0===u?r.P.ceil(i):Object(r.P)(i),i=r.F.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(i=(u=(i=n(a(s.y))).getDay())>4||0===u?r.l.ceil(i):Object(r.l)(i),i=r.a.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),u="Z"in s?o(a(s.y)).getUTCDay():n(a(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(u+5)%7:s.w+7*s.U-(u+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,o(s)):n(s)}}function Vt(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=Lt[i in d?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return Ct.x=kt(e,Ct),Ct.X=kt(u,Ct),Ct.c=kt(n,Ct),Et.x=kt(e,Et),Et.X=kt(u,Et),Et.c=kt(n,Et),{format:function(t){var n=kt(t+="",Ct);return n.toString=function(){return t},n},parse:function(t){var n=Ot(t+="",i);return n.toString=function(){return t},n},utcFormat:function(t){var n=kt(t+="",Et);return n.toString=function(){return t},n},utcParse:function(t){var n=Ot(t,o);return n.toString=function(){return t},n}}}var s,c,l,f,h,d={"-":"",_:" ",0:"0"},p=/^\s*\d+/,g=/^%/,_=/[\\^$*+?|[\]().{}]/g;function y(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function v(t){return t.replace(_,"\\$&")}function x(t){return new RegExp("^(?:"+t.map(v).join("|")+")","i")}function m(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function b(t,n,e){var r=p.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function w(t,n,e){var r=p.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function S(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function A(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function T(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function P(t,n,e){var r=p.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function M(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function C(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function E(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function L(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function k(t,n,e){var r=p.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function O(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function V(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function G(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function N(t,n,e){var r=p.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function R(t,n,e){var r=p.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function I(t,n,e){var r=g.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function D(t,n,e){var r=p.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function z(t,n,e){var r=p.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function F(t,n){return y(t.getDate(),n,2)}function j(t,n){return y(t.getHours(),n,2)}function B(t,n){return y(t.getHours()%12||12,n,2)}function X(t,n){return y(1+r.a.count(Object(r.D)(t),t),n,3)}function H(t,n){return y(t.getMilliseconds(),n,3)}function Y(t,n){return H(t,n)+"000"}function U(t,n){return y(t.getMonth()+1,n,2)}function q(t,n){return y(t.getMinutes(),n,2)}function W(t,n){return y(t.getSeconds(),n,2)}function Q(t){var n=t.getDay();return 0===n?7:n}function $(t,n){return y(r.t.count(Object(r.D)(t),t),n,2)}function Z(t,n){var e=t.getDay();return t=e>=4||0===e?Object(r.v)(t):r.v.ceil(t),y(r.v.count(Object(r.D)(t),t)+(4===Object(r.D)(t).getDay()),n,2)}function K(t){return t.getDay()}function J(t,n){return y(r.l.count(Object(r.D)(t),t),n,2)}function tt(t,n){return y(t.getFullYear()%100,n,2)}function nt(t,n){return y(t.getFullYear()%1e4,n,4)}function et(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+y(n/60|0,"0",2)+y(n%60,"0",2)}function rt(t,n){return y(t.getUTCDate(),n,2)}function it(t,n){return y(t.getUTCHours(),n,2)}function ot(t,n){return y(t.getUTCHours()%12||12,n,2)}function at(t,n){return y(1+r.F.count(Object(r.hb)(t),t),n,3)}function ut(t,n){return y(t.getUTCMilliseconds(),n,3)}function st(t,n){return ut(t,n)+"000"}function ct(t,n){return y(t.getUTCMonth()+1,n,2)}function lt(t,n){return y(t.getUTCMinutes(),n,2)}function ft(t,n){return y(t.getUTCSeconds(),n,2)}function ht(t){var n=t.getUTCDay();return 0===n?7:n}function dt(t,n){return y(r.X.count(Object(r.hb)(t),t),n,2)}function pt(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Object(r.Z)(t):r.Z.ceil(t),y(r.Z.count(Object(r.hb)(t),t)+(4===Object(r.hb)(t).getUTCDay()),n,2)}function gt(t){return t.getUTCDay()}function _t(t,n){return y(r.P.count(Object(r.hb)(t),t),n,2)}function yt(t,n){return y(t.getUTCFullYear()%100,n,2)}function vt(t,n){return y(t.getUTCFullYear()%1e4,n,4)}function xt(){return"+0000"}function mt(){return"%"}function bt(t){return+t}function wt(t){return Math.floor(+t/1e3)}function St(t){return s=u(t),c=s.format,l=s.parse,f=s.utcFormat,h=s.utcParse,s}St({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var At=Date.prototype.toISOString?function(t){return t.toISOString()}:f("%Y-%m-%dT%H:%M:%S.%LZ");var Tt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:h("%Y-%m-%dT%H:%M:%S.%LZ");e.d(n,"d",function(){return St}),e.d(n,"c",function(){return c}),e.d(n,"f",function(){return l}),e.d(n,"g",function(){return f}),e.d(n,"h",function(){return h}),e.d(n,"e",function(){return u}),e.d(n,"a",function(){return At}),e.d(n,"b",function(){return Tt})},function(t,n,e){"use strict";var r={},i={},o=34,a=10,u=13;function s(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var c=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function c(t,n){var s,c=[],l=t.length,f=0,h=0,d=l<=0,p=!1;function g(){if(d)return i;if(p)return p=!1,r;var n,s,c=f;if(t.charCodeAt(c)===o){for(;f++<l&&t.charCodeAt(f)!==o||t.charCodeAt(++f)===o;);return(n=f)>=l?d=!0:(s=t.charCodeAt(f++))===a?p=!0:s===u&&(p=!0,t.charCodeAt(f)===a&&++f),t.slice(c+1,n-1).replace(/""/g,'"')}for(;f<l;){if((s=t.charCodeAt(n=f++))===a)p=!0;else if(s===u)p=!0,t.charCodeAt(f)===a&&++f;else if(s!==e)continue;return t.slice(c,n)}return d=!0,t.slice(c,l)}for(t.charCodeAt(l-1)===a&&--l,t.charCodeAt(l-1)===u&&--l;(s=g())!==i;){for(var _=[];s!==r&&s!==i;)_.push(s),s=g();n&&null==(_=n(_,h++))||c.push(_)}return c}function l(n){return n.map(f).join(t)}function f(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,r,i=c(t,function(t,i){if(e)return e(t,i-1);r=t,e=n?function(t,n){var e=s(t);return function(r,i){return n(e(r),i,t)}}(t,n):s(t)});return i.columns=r||[],i},parseRows:c,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(f).join(t)].concat(n.map(function(n){return e.map(function(t){return f(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(l).join("\n")}}},l=c(","),f=l.parse,h=l.parseRows,d=l.format,p=l.formatRows,g=c("\t"),_=g.parse,y=g.parseRows,v=g.format,x=g.formatRows;e.d(n,"e",function(){return c}),e.d(n,"c",function(){return f}),e.d(n,"d",function(){return h}),e.d(n,"a",function(){return d}),e.d(n,"b",function(){return p}),e.d(n,"h",function(){return _}),e.d(n,"i",function(){return y}),e.d(n,"f",function(){return v}),e.d(n,"g",function(){return x})},function(t){t.exports={features:[{geometry:{geometries:[{coordinates:[[[-122.391701,37.794113],[-122.39198,37.793906],[-122.391614,37.793571],[-122.391714,37.793459],[-122.388816,37.791005],[-122.388932,37.790919],[-122.388616,37.790348],[-122.388076,37.790518],[-122.388375,37.790334],[-122.388225,37.790032],[-122.385852,37.790951],[-122.385496,37.790559],[-122.387589,37.789838],[-122.387289,37.789347],[-122.385303,37.789838],[-122.38512,37.789313],[-122.387174,37.788807],[-122.387032,37.788255],[-122.385261,37.788537],[-122.385136,37.788156],[-122.38739,37.787736],[-122.387415,37.787269],[-122.3845,37.787437],[-122.384342,37.785728],[-122.387577,37.785485],[-122.38765,37.784929],[-122.385546,37.785009],[-122.385455,37.784711],[-122.387477,37.784493],[-122.387691,37.784412],[-122.387722,37.783928],[-122.385271,37.784049],[-122.38525,37.78379],[-122.38572,37.783774],[-122.38573,37.78354],[-122.386088,37.783435],[-122.387732,37.783282],[-122.387773,37.782911],[-122.388426,37.781801],[-122.388189,37.784771],[-122.388504,37.785348],[-122.389694,37.786243],[-122.39141,37.785103],[-122.39146,37.7855],[-122.393512,37.784564],[-122.394567,37.783783],[-122.396711,37.785549],[-122.398941,37.783785],[-122.400955,37.785389],[-122.399523,37.786631],[-122.39999,37.787004],[-122.401497,37.785824],[-122.403374,37.787401],[-122.403427,37.787676],[-122.393875,37.795248],[-122.392429,37.793835],[-122.391701,37.794113]]],type:"Polygon"}],type:"GeometryCollection"},id:"94105",properties:{id:"94105",name:"Financial District"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.387773,37.782911],[-122.38474,37.782975],[-122.384693,37.78256],[-122.387778,37.782318],[-122.387757,37.781825],[-122.385561,37.781946],[-122.385521,37.781607],[-122.387737,37.781454],[-122.38743,37.778402],[-122.385306,37.778443],[-122.387471,37.778322],[-122.389642,37.777478],[-122.390383,37.777037],[-122.391116,37.777571],[-122.393279,37.775838],[-122.393858,37.776284],[-122.396169,37.774505],[-122.39557,37.774012],[-122.40004,37.7705],[-122.395085,37.766537],[-122.394825,37.766551],[-122.394286,37.766114],[-122.393456,37.765089],[-122.393013,37.764089],[-122.387845,37.764369],[-122.386873,37.765646],[-122.386312,37.765628],[-122.386523,37.765339],[-122.386427,37.764449],[-122.386725,37.76414],[-122.386629,37.76392],[-122.387081,37.76357],[-122.386533,37.763395],[-122.386581,37.763239],[-122.386331,37.763148],[-122.386187,37.763369],[-122.385513,37.763308],[-122.385484,37.763163],[-122.385186,37.763369],[-122.385099,37.762353],[-122.384723,37.76214],[-122.38429,37.762162],[-122.384473,37.764079],[-122.384319,37.764072],[-122.384098,37.762261],[-122.38326,37.762322],[-122.383289,37.762543],[-122.383771,37.762573],[-122.383809,37.764277],[-122.383289,37.764148],[-122.383116,37.762467],[-122.382337,37.762482],[-122.382519,37.764647],[-122.382336,37.764639],[-122.382125,37.762425],[-122.381894,37.762425],[-122.381865,37.762745],[-122.381682,37.762737],[-122.381643,37.764852],[-122.381153,37.764951],[-122.380883,37.764776],[-122.380874,37.763308],[-122.380691,37.763293],[-122.380383,37.760219],[-122.379507,37.76028],[-122.379776,37.763506],[-122.379526,37.763513],[-122.379218,37.759968],[-122.381288,37.759787],[-122.381327,37.759353],[-122.381202,37.759322],[-122.381317,37.75901],[-122.381182,37.758995],[-122.381288,37.75866],[-122.381134,37.758638],[-122.38125,37.758318],[-122.381096,37.758211],[-122.38124,37.758211],[-122.3815,37.75777],[-122.381481,37.757549],[-122.381288,37.755936],[-122.380787,37.755487],[-122.380797,37.755258],[-122.384109,37.75497],[-122.384109,37.754719],[-122.38333,37.754689],[-122.382868,37.754384],[-122.382896,37.753699],[-122.382723,37.753418],[-122.381703,37.753197],[-122.381433,37.752999],[-122.380095,37.752923],[-122.380089,37.752759],[-122.381482,37.752782],[-122.382078,37.753131],[-122.382933,37.753184],[-122.387833,37.752817],[-122.387666,37.750267],[-122.391705,37.750133],[-122.401546,37.74945],[-122.403798,37.749443],[-122.403022,37.752336],[-122.403364,37.752366],[-122.403524,37.754463],[-122.40315,37.754488],[-122.403328,37.756082],[-122.403585,37.756818],[-122.403428,37.756871],[-122.40405,37.757619],[-122.405604,37.758851],[-122.406015,37.759409],[-122.406167,37.759315],[-122.40645,37.760114],[-122.406451,37.760865],[-122.40604,37.761865],[-122.405859,37.761815],[-122.405832,37.762199],[-122.405271,37.763272],[-122.405115,37.764635],[-122.399688,37.765005],[-122.3998,37.766807],[-122.400422,37.767291],[-122.40001,37.767614],[-122.400915,37.768096],[-122.400881,37.767518],[-122.401851,37.767416],[-122.402021,37.768998],[-122.401768,37.769145],[-122.401685,37.769721],[-122.402091,37.769716],[-122.402105,37.769912],[-122.403477,37.769842],[-122.404003,37.77018],[-122.403723,37.770182],[-122.399425,37.773612],[-122.405629,37.778502],[-122.396711,37.785549],[-122.394567,37.783783],[-122.393512,37.784564],[-122.39146,37.7855],[-122.39141,37.785103],[-122.389694,37.786243],[-122.388504,37.785348],[-122.388189,37.784771],[-122.388426,37.781801],[-122.387773,37.782911]]],type:"Polygon"}],type:"GeometryCollection"},id:"94107",properties:{id:"94107",name:"Potrero Hill"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.404959,37.795337],[-122.404055,37.790751],[-122.402694,37.790937],[-122.402535,37.790006],[-122.403858,37.789819],[-122.403478,37.787965],[-122.403247,37.787814],[-122.405883,37.785718],[-122.406236,37.785793],[-122.406602,37.787583],[-122.408244,37.787369],[-122.408655,37.789244],[-122.411913,37.788812],[-122.41229,37.790669],[-122.413931,37.79047],[-122.414883,37.79503],[-122.411553,37.795409],[-122.411484,37.795033],[-122.411024,37.795145],[-122.411087,37.795467],[-122.407091,37.79597],[-122.407014,37.795587],[-122.406591,37.795697],[-122.406649,37.796027],[-122.40568,37.796152],[-122.405526,37.795292],[-122.404959,37.795337]]],type:"Polygon"}],type:"GeometryCollection"},id:"94108",properties:{id:"94108",name:"Chinatown"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.420432,37.808308],[-122.420342,37.807746],[-122.420746,37.807598],[-122.419084,37.807804],[-122.418879,37.806877],[-122.4196,37.806783],[-122.418789,37.806249],[-122.418349,37.804101],[-122.418468,37.804109],[-122.418129,37.803168],[-122.417893,37.80172],[-122.419167,37.801559],[-122.419075,37.801144],[-122.417814,37.80132],[-122.417548,37.799967],[-122.418252,37.799884],[-122.418226,37.799295],[-122.41741,37.799405],[-122.417224,37.798494],[-122.415574,37.798688],[-122.413931,37.79047],[-122.41229,37.790669],[-122.411712,37.78787],[-122.413356,37.787657],[-122.413165,37.786726],[-122.414805,37.786523],[-122.414256,37.783728],[-122.427427,37.782055],[-122.430001,37.794906],[-122.423491,37.795723],[-122.42553,37.805821],[-122.425374,37.806107],[-122.425397,37.806565],[-122.426352,37.807528],[-122.425528,37.806976],[-122.424292,37.806622],[-122.423469,37.80678],[-122.422145,37.80759],[-122.421381,37.808188],[-122.42109,37.808549],[-122.421123,37.808812],[-122.422852,37.810176],[-122.422752,37.810251],[-122.421319,37.809178],[-122.421194,37.809232],[-122.420906,37.808818],[-122.420739,37.808837],[-122.420764,37.809105],[-122.420323,37.809002],[-122.420639,37.80884],[-122.42032,37.808739],[-122.420514,37.808645],[-122.420432,37.808308]]],type:"Polygon"}],type:"GeometryCollection"},id:"94109",properties:{id:"94109",name:"Polk/Russian Hill (Nob Hill)"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.420701,37.731936],[-122.420551,37.731562],[-122.420949,37.731304],[-122.420182,37.731449],[-122.420306,37.729926],[-122.420399,37.729529],[-122.420599,37.729374],[-122.422911,37.729289],[-122.423689,37.729515],[-122.426026,37.729391],[-122.426016,37.728636],[-122.423712,37.728761],[-122.423154,37.727262],[-122.424157,37.725984],[-122.423554,37.725625],[-122.422873,37.723983],[-122.424475,37.723544],[-122.425246,37.722277],[-122.424405,37.721949],[-122.425484,37.720235],[-122.423682,37.719801],[-122.423493,37.719533],[-122.423541,37.718906],[-122.423308,37.718471],[-122.422477,37.717882],[-122.423615,37.71719],[-122.424422,37.717063],[-122.425093,37.717356],[-122.425602,37.718097],[-122.42605,37.718375],[-122.427306,37.715611],[-122.42836,37.716053],[-122.431213,37.716631],[-122.433751,37.713118],[-122.42923,37.712203],[-122.426175,37.710959],[-122.427347,37.710021],[-122.427285,37.708352],[-122.433961,37.708232],[-122.435558,37.70799],[-122.436272,37.708244],[-122.440646,37.708221],[-122.441103,37.708333],[-122.442024,37.708085],[-122.44211,37.708251],[-122.44981,37.708246],[-122.449854,37.708358],[-122.450204,37.708242],[-122.454386,37.708221],[-122.455966,37.708386],[-122.45716,37.708221],[-122.458838,37.708437],[-122.459901,37.708244],[-122.469004,37.708187],[-122.46745,37.709496],[-122.465786,37.710243],[-122.464028,37.710549],[-122.460894,37.710579],[-122.462503,37.711207],[-122.462598,37.711377],[-122.462562,37.713806],[-122.462758,37.714264],[-122.462626,37.714469],[-122.46268,37.720018],[-122.462264,37.720021],[-122.46227,37.72527],[-122.462838,37.725488],[-122.462587,37.727158],[-122.462888,37.728087],[-122.462066,37.728095],[-122.460858,37.728754],[-122.460039,37.728777],[-122.459911,37.729952],[-122.459585,37.730425],[-122.459231,37.730582],[-122.459245,37.730838],[-122.458191,37.73088],[-122.454427,37.731533],[-122.444271,37.731596],[-122.444304,37.728562],[-122.444115,37.7283],[-122.443605,37.728313],[-122.439982,37.729929],[-122.435069,37.731505],[-122.433944,37.732408],[-122.428578,37.735082],[-122.427849,37.734718],[-122.426983,37.735455],[-122.422133,37.735162],[-122.422243,37.734846],[-122.422901,37.734388],[-122.421827,37.732917],[-122.421889,37.732533],[-122.422997,37.732224],[-122.423493,37.732317],[-122.4237,37.732172],[-122.425256,37.732125],[-122.425944,37.731698],[-122.423718,37.73155],[-122.420701,37.731936]]],type:"Polygon"}],type:"GeometryCollection"},id:"94112",properties:{id:"94112",name:"Ingelside-Excelsior"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.42828,37.769641],[-122.428262,37.769541],[-122.426242,37.769644],[-122.426896,37.769009],[-122.424928,37.748628],[-122.438168,37.747841],[-122.438259,37.748644],[-122.441209,37.748622],[-122.441851,37.748537],[-122.442512,37.748218],[-122.44399,37.746777],[-122.444318,37.747004],[-122.444685,37.746982],[-122.444081,37.747453],[-122.44411,37.74842],[-122.44345,37.749502],[-122.44273,37.752373],[-122.442509,37.75242],[-122.441838,37.753439],[-122.441256,37.753916],[-122.440108,37.755715],[-122.440154,37.756433],[-122.441013,37.756239],[-122.441426,37.756562],[-122.442224,37.756707],[-122.441394,37.756449],[-122.441139,37.756211],[-122.442884,37.755494],[-122.443334,37.75639],[-122.444617,37.757198],[-122.445648,37.757231],[-122.446474,37.757533],[-122.446912,37.757892],[-122.447093,37.757671],[-122.447003,37.75746],[-122.445905,37.756932],[-122.44605,37.756429],[-122.445121,37.756601],[-122.444679,37.756524],[-122.444373,37.756212],[-122.44423,37.755714],[-122.44423,37.755536],[-122.444746,37.755293],[-122.444639,37.754422],[-122.445121,37.75366],[-122.445427,37.75266],[-122.445085,37.751871],[-122.445069,37.751444],[-122.445288,37.750918],[-122.445771,37.750465],[-122.445935,37.750721],[-122.445661,37.751657],[-122.446088,37.752524],[-122.446427,37.752725],[-122.446108,37.753046],[-122.445997,37.753716],[-122.447214,37.754064],[-122.447519,37.753835],[-122.44743,37.754333],[-122.448641,37.754793],[-122.449441,37.755474],[-122.449611,37.756321],[-122.450168,37.756772],[-122.452095,37.756675],[-122.452084,37.756971],[-122.452354,37.757054],[-122.453279,37.7567],[-122.45409,37.757114],[-122.453759,37.757568],[-122.453158,37.757986],[-122.451348,37.75859],[-122.451531,37.759473],[-122.448095,37.759665],[-122.447637,37.759222],[-122.447468,37.759318],[-122.447146,37.75969],[-122.446481,37.76113],[-122.44679,37.761792],[-122.445302,37.761876],[-122.443776,37.763352],[-122.443017,37.76351],[-122.442944,37.764111],[-122.443207,37.764522],[-122.443242,37.765229],[-122.443426,37.765368],[-122.44122,37.765314],[-122.439489,37.766572],[-122.438575,37.766771],[-122.438094,37.766709],[-122.43819,37.767203],[-122.436477,37.767293],[-122.436632,37.769031],[-122.429137,37.769452],[-122.429208,37.770372],[-122.42828,37.769641]]],type:"Polygon"}],type:"GeometryCollection"},id:"94114",properties:{id:"94114",name:"Castro/Noe Valley"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.456648,37.763844],[-122.46085,37.762616],[-122.46065,37.760577],[-122.46179,37.760505],[-122.461766,37.760113],[-122.461619,37.759868],[-122.461341,37.759789],[-122.46069,37.760089],[-122.460528,37.759536],[-122.462483,37.759342],[-122.462935,37.75906],[-122.463213,37.75861],[-122.462755,37.756882],[-122.463648,37.756636],[-122.463559,37.755159],[-122.463826,37.753998],[-122.463714,37.753509],[-122.463247,37.75286],[-122.467947,37.752765],[-122.46821,37.752963],[-122.468791,37.754241],[-122.469991,37.754686],[-122.470471,37.753431],[-122.469909,37.752784],[-122.470711,37.752359],[-122.470866,37.752536],[-122.473168,37.752564],[-122.508181,37.750987],[-122.507941,37.749124],[-122.50849,37.749138],[-122.509105,37.749743],[-122.509928,37.749936],[-122.509922,37.7502],[-122.510421,37.750956],[-122.510753,37.752401],[-122.510919,37.752598],[-122.511003,37.754535],[-122.51121,37.755586],[-122.510919,37.756636],[-122.511875,37.760314],[-122.511958,37.762154],[-122.512332,37.763007],[-122.512194,37.764109],[-122.512489,37.764633],[-122.513273,37.771077],[-122.511322,37.771173],[-122.511398,37.771486],[-122.510968,37.771331],[-122.47172,37.773141],[-122.471785,37.772681],[-122.472237,37.77236],[-122.474834,37.772518],[-122.478552,37.772254],[-122.479118,37.772006],[-122.479409,37.771509],[-122.479165,37.770749],[-122.476909,37.771533],[-122.475216,37.771681],[-122.47378,37.771182],[-122.474249,37.771029],[-122.475898,37.771087],[-122.476249,37.770754],[-122.476205,37.770261],[-122.475251,37.770068],[-122.47402,37.769507],[-122.471528,37.769845],[-122.471438,37.769604],[-122.472672,37.768601],[-122.472844,37.767756],[-122.472697,37.767444],[-122.472231,37.768606],[-122.471411,37.769112],[-122.470265,37.769228],[-122.469282,37.769118],[-122.466956,37.768001],[-122.464536,37.769638],[-122.461874,37.770266],[-122.460096,37.770396],[-122.459502,37.770711],[-122.459148,37.771316],[-122.462072,37.771779],[-122.464749,37.772486],[-122.465845,37.772545],[-122.465887,37.773401],[-122.454676,37.774758],[-122.452974,37.766367],[-122.456862,37.765856],[-122.457805,37.765978],[-122.457707,37.764705],[-122.457575,37.764847],[-122.456778,37.764938],[-122.456648,37.763844]]],type:"Polygon"}],type:"GeometryCollection"},id:"94122",properties:{id:"94122",name:"Sunset"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.380089,37.752759],[-122.380062,37.752064],[-122.376159,37.752283],[-122.375723,37.74872],[-122.376358,37.748638],[-122.376356,37.747159],[-122.375057,37.746841],[-122.374811,37.746423],[-122.374965,37.745818],[-122.374157,37.745048],[-122.373929,37.745014],[-122.373374,37.745414],[-122.372797,37.745573],[-122.367633,37.740199],[-122.368216,37.739935],[-122.373216,37.73973],[-122.373243,37.739554],[-122.373234,37.739297],[-122.372406,37.739007],[-122.36792,37.739216],[-122.372423,37.738953],[-122.373303,37.739284],[-122.373379,37.739718],[-122.374008,37.739622],[-122.374066,37.739462],[-122.373496,37.738645],[-122.372685,37.738317],[-122.367541,37.73834],[-122.367579,37.738218],[-122.370108,37.737729],[-122.371392,37.737134],[-122.372328,37.737065],[-122.373574,37.737233],[-122.374046,37.737409],[-122.374481,37.737844],[-122.375282,37.738105],[-122.375371,37.736427],[-122.376029,37.735769],[-122.376156,37.735123],[-122.375315,37.735416],[-122.374946,37.734928],[-122.375011,37.734747],[-122.375334,37.734633],[-122.375053,37.734363],[-122.375048,37.734148],[-122.375549,37.733124],[-122.374324,37.732569],[-122.373714,37.732963],[-122.372437,37.734205],[-122.37215,37.734273],[-122.370831,37.733231],[-122.370126,37.733662],[-122.370067,37.733579],[-122.370758,37.733162],[-122.369578,37.732404],[-122.369375,37.732034],[-122.368745,37.731968],[-122.368337,37.732254],[-122.367411,37.731931],[-122.366864,37.732334],[-122.366683,37.732285],[-122.36527,37.73386],[-122.365183,37.73375],[-122.366567,37.732159],[-122.365638,37.731617],[-122.364783,37.7326],[-122.365096,37.732096],[-122.363719,37.731331],[-122.362922,37.732232],[-122.362608,37.732045],[-122.363442,37.731154],[-122.362856,37.730839],[-122.362059,37.731724],[-122.361774,37.731576],[-122.362569,37.730661],[-122.36196,37.730325],[-122.362054,37.730155],[-122.360898,37.729983],[-122.36075,37.730276],[-122.36,37.730379],[-122.35887,37.729814],[-122.358962,37.72958],[-122.362149,37.728811],[-122.36226,37.728532],[-122.361816,37.728518],[-122.357767,37.72947],[-122.357503,37.729286],[-122.357846,37.729008],[-122.36006,37.728502],[-122.360449,37.728261],[-122.359967,37.728224],[-122.357272,37.728832],[-122.357031,37.728693],[-122.357735,37.726304],[-122.358027,37.726114],[-122.361677,37.725257],[-122.361297,37.724209],[-122.357944,37.724993],[-122.357849,37.724678],[-122.361434,37.723926],[-122.364857,37.726094],[-122.365156,37.725974],[-122.36501,37.725725],[-122.362287,37.723914],[-122.362707,37.723498],[-122.360005,37.721674],[-122.360273,37.721388],[-122.363043,37.72303],[-122.363836,37.722158],[-122.359153,37.719359],[-122.359931,37.718502],[-122.36272,37.720107],[-122.363655,37.719096],[-122.362576,37.718466],[-122.362678,37.718312],[-122.358611,37.715909],[-122.35875,37.715777],[-122.362668,37.718056],[-122.363859,37.716766],[-122.359959,37.71448],[-122.360097,37.71437],[-122.363988,37.716612],[-122.365229,37.715388],[-122.365229,37.715249],[-122.361115,37.712882],[-122.361226,37.712794],[-122.365443,37.715293],[-122.364475,37.716341],[-122.364642,37.716517],[-122.364892,37.716451],[-122.365336,37.71585],[-122.365513,37.715821],[-122.366008,37.716085],[-122.366426,37.716799],[-122.367697,37.717613],[-122.368134,37.717782],[-122.36953,37.717858],[-122.369955,37.71812],[-122.370353,37.718688],[-122.371784,37.719011],[-122.374191,37.718934],[-122.374317,37.719602],[-122.374531,37.719878],[-122.375775,37.720586],[-122.376094,37.721673],[-122.376073,37.722751],[-122.376755,37.723458],[-122.376818,37.724031],[-122.377564,37.724132],[-122.378863,37.723846],[-122.379928,37.722313],[-122.380731,37.72173],[-122.382591,37.72241],[-122.383777,37.723126],[-122.383999,37.723489],[-122.385167,37.72411],[-122.386436,37.724479],[-122.386835,37.724339],[-122.386911,37.724148],[-122.382843,37.721921],[-122.382765,37.721547],[-122.383381,37.720627],[-122.383253,37.720135],[-122.381696,37.71932],[-122.381353,37.718785],[-122.38058,37.718802],[-122.379724,37.71832],[-122.379915,37.71797],[-122.379807,37.717843],[-122.379217,37.717818],[-122.376187,37.716103],[-122.377399,37.714411],[-122.378896,37.713077],[-122.379684,37.711801],[-122.380004,37.711586],[-122.380035,37.710681],[-122.378821,37.710024],[-122.3783,37.709279],[-122.3783,37.708891],[-122.378012,37.708681],[-122.376979,37.70895],[-122.376436,37.7097],[-122.376085,37.70975],[-122.375571,37.709661],[-122.374625,37.70906],[-122.374427,37.708743],[-122.374662,37.708562],[-122.375646,37.708409],[-122.379472,37.708427],[-122.380428,37.708795],[-122.384507,37.709281],[-122.385965,37.709993],[-122.386977,37.709655],[-122.388155,37.708672],[-122.389693,37.709556],[-122.38991,37.70958],[-122.390654,37.709186],[-122.391782,37.709808],[-122.39094,37.710318],[-122.38874,37.710489],[-122.386724,37.711066],[-122.386375,37.711033],[-122.387684,37.712178],[-122.387994,37.713004],[-122.388774,37.71228],[-122.390439,37.712109],[-122.390961,37.712322],[-122.391224,37.713259],[-122.393041,37.713609],[-122.394738,37.713611],[-122.396527,37.714716],[-122.396489,37.714972],[-122.398027,37.715493],[-122.398393,37.716337],[-122.398555,37.717783],[-122.399202,37.71992],[-122.401262,37.724794],[-122.402107,37.727849],[-122.404946,37.733588],[-122.406506,37.735623],[-122.407024,37.738016],[-122.408009,37.737734],[-122.408136,37.73964],[-122.407045,37.739587],[-122.406936,37.740554],[-122.406652,37.741241],[-122.404524,37.744285],[-122.404865,37.744385],[-122.405493,37.744084],[-122.405614,37.7442],[-122.405091,37.745281],[-122.403798,37.749443],[-122.401546,37.74945],[-122.391705,37.750133],[-122.387666,37.750267],[-122.387833,37.752817],[-122.382933,37.753184],[-122.382078,37.753131],[-122.381482,37.752782],[-122.380089,37.752759]]],type:"Polygon"}],type:"GeometryCollection"},id:"94124",properties:{id:"94124",name:"Bayview-Hunters Point"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.444271,37.731596],[-122.454427,37.731533],[-122.458191,37.73088],[-122.459245,37.730838],[-122.459231,37.730582],[-122.459585,37.730425],[-122.459911,37.729952],[-122.460039,37.728777],[-122.460858,37.728754],[-122.462066,37.728095],[-122.462888,37.728087],[-122.462587,37.727158],[-122.462838,37.725488],[-122.46227,37.72527],[-122.462297,37.723037],[-122.464104,37.722246],[-122.464475,37.721682],[-122.471815,37.721661],[-122.471677,37.720951],[-122.471654,37.71788],[-122.472453,37.717877],[-122.47226,37.721627],[-122.472667,37.721562],[-122.472676,37.722124],[-122.472602,37.724834],[-122.472364,37.726819],[-122.472829,37.726836],[-122.47269,37.728843],[-122.472283,37.728807],[-122.472046,37.733756],[-122.471751,37.733878],[-122.47168,37.734642],[-122.471464,37.734653],[-122.471543,37.7351],[-122.470664,37.736636],[-122.470972,37.737018],[-122.471224,37.741374],[-122.468572,37.741502],[-122.467798,37.743412],[-122.463662,37.743771],[-122.461372,37.745591],[-122.460766,37.745108],[-122.458701,37.74661],[-122.458952,37.746923],[-122.455093,37.746263],[-122.453776,37.745686],[-122.451731,37.745527],[-122.449493,37.743019],[-122.448814,37.742758],[-122.446663,37.742452],[-122.446266,37.742106],[-122.4461,37.741372],[-122.445874,37.741102],[-122.444651,37.740775],[-122.443888,37.740074],[-122.442865,37.739757],[-122.44256,37.739472],[-122.442635,37.738458],[-122.442409,37.737629],[-122.442603,37.737183],[-122.443662,37.736503],[-122.444158,37.736536],[-122.444385,37.736182],[-122.444704,37.736429],[-122.444598,37.737092],[-122.445914,37.737074],[-122.445737,37.736525],[-122.446381,37.73578],[-122.44633,37.735245],[-122.445366,37.734517],[-122.445397,37.734267],[-122.44573,37.733938],[-122.445652,37.733835],[-122.444319,37.733831],[-122.444271,37.731596]]],type:"Polygon"}],type:"GeometryCollection"},id:"94127",properties:{id:"94127",name:"West Portal"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.486279,37.736821],[-122.485731,37.736825],[-122.484755,37.737207],[-122.482882,37.737513],[-122.481446,37.737249],[-122.47097,37.737652],[-122.470945,37.736905],[-122.470664,37.736636],[-122.471543,37.7351],[-122.471464,37.734653],[-122.47168,37.734642],[-122.471751,37.733878],[-122.472046,37.733756],[-122.472283,37.728807],[-122.47269,37.728843],[-122.472829,37.726836],[-122.472364,37.726819],[-122.472602,37.724834],[-122.472676,37.722124],[-122.472667,37.721562],[-122.47226,37.721627],[-122.472453,37.717877],[-122.471654,37.71788],[-122.471677,37.720951],[-122.471815,37.721661],[-122.464475,37.721682],[-122.464104,37.722246],[-122.462297,37.723037],[-122.462264,37.720021],[-122.46268,37.720018],[-122.462626,37.714469],[-122.462758,37.714264],[-122.462562,37.713806],[-122.462598,37.711377],[-122.462503,37.711207],[-122.460894,37.710579],[-122.464028,37.710549],[-122.465786,37.710243],[-122.46745,37.709496],[-122.469004,37.708187],[-122.471987,37.708406],[-122.485555,37.70826],[-122.485383,37.708507],[-122.485717,37.70826],[-122.50278,37.70805],[-122.503255,37.709186],[-122.503881,37.712656],[-122.504632,37.714564],[-122.504809,37.715626],[-122.505174,37.716546],[-122.505394,37.718032],[-122.506133,37.720154],[-122.506222,37.721235],[-122.506473,37.721616],[-122.506687,37.723115],[-122.507043,37.72379],[-122.507151,37.72527],[-122.507551,37.72704],[-122.507223,37.72862],[-122.508116,37.731333],[-122.507951,37.732438],[-122.508526,37.733837],[-122.508172,37.73443],[-122.508396,37.734631],[-122.50842,37.735401],[-122.508573,37.735638],[-122.507884,37.735942],[-122.506807,37.735587],[-122.502009,37.735517],[-122.500874,37.735256],[-122.498765,37.734264],[-122.497435,37.733934],[-122.493786,37.733991],[-122.49343,37.734328],[-122.492622,37.734039],[-122.491528,37.734094],[-122.491263,37.734165],[-122.491357,37.735345],[-122.490312,37.735638],[-122.490714,37.736565],[-122.491319,37.737325],[-122.490655,37.737821],[-122.489989,37.737975],[-122.488812,37.73713],[-122.486279,37.736821]]],type:"Polygon"}],type:"GeometryCollection"},id:"94132",properties:{id:"94132",name:"Lake Merced"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.452936,37.7581],[-122.453759,37.757568],[-122.45409,37.757114],[-122.453279,37.7567],[-122.452354,37.757054],[-122.452084,37.756971],[-122.452095,37.756675],[-122.450168,37.756772],[-122.449611,37.756321],[-122.449441,37.755474],[-122.448641,37.754793],[-122.44743,37.754333],[-122.447519,37.753835],[-122.447214,37.754064],[-122.445997,37.753716],[-122.446108,37.753046],[-122.446427,37.752725],[-122.446088,37.752524],[-122.445661,37.751657],[-122.445935,37.750721],[-122.445771,37.750465],[-122.445288,37.750918],[-122.445069,37.751444],[-122.445085,37.751871],[-122.445427,37.75266],[-122.445121,37.75366],[-122.444639,37.754422],[-122.444746,37.755293],[-122.44423,37.755536],[-122.44423,37.755714],[-122.444373,37.756212],[-122.444679,37.756524],[-122.445121,37.756601],[-122.44605,37.756429],[-122.445905,37.756932],[-122.447003,37.75746],[-122.447093,37.757671],[-122.446912,37.757892],[-122.446474,37.757533],[-122.445648,37.757231],[-122.444617,37.757198],[-122.443334,37.75639],[-122.442884,37.755494],[-122.441139,37.756211],[-122.441394,37.756449],[-122.442072,37.756597],[-122.442224,37.756707],[-122.441426,37.756562],[-122.441013,37.756239],[-122.440154,37.756433],[-122.440108,37.755715],[-122.441256,37.753916],[-122.441838,37.753439],[-122.442509,37.75242],[-122.44273,37.752373],[-122.44345,37.749502],[-122.44411,37.74842],[-122.444081,37.747453],[-122.444685,37.746982],[-122.444318,37.747004],[-122.44399,37.746777],[-122.442512,37.748218],[-122.441851,37.748537],[-122.441092,37.748632],[-122.438259,37.748644],[-122.438168,37.747841],[-122.424928,37.748628],[-122.424168,37.740805],[-122.424394,37.740405],[-122.42427,37.739867],[-122.42452,37.739868],[-122.42551,37.737774],[-122.428454,37.735882],[-122.42801,37.735441],[-122.433944,37.732408],[-122.435069,37.731505],[-122.439982,37.729929],[-122.443605,37.728313],[-122.444115,37.7283],[-122.444304,37.728562],[-122.444319,37.733831],[-122.445652,37.733835],[-122.44573,37.733938],[-122.445397,37.734267],[-122.445366,37.734517],[-122.44633,37.735245],[-122.446387,37.735748],[-122.445737,37.736525],[-122.445914,37.737074],[-122.444598,37.737092],[-122.444704,37.736429],[-122.444385,37.736182],[-122.444158,37.736536],[-122.443662,37.736503],[-122.442523,37.737263],[-122.442409,37.737629],[-122.442628,37.738387],[-122.442523,37.739283],[-122.442631,37.739589],[-122.443888,37.740074],[-122.444651,37.740775],[-122.445874,37.741102],[-122.4461,37.741372],[-122.446266,37.742106],[-122.446663,37.742452],[-122.448814,37.742758],[-122.449493,37.743019],[-122.451731,37.745527],[-122.453776,37.745686],[-122.455093,37.746263],[-122.458952,37.746923],[-122.45919,37.747199],[-122.458708,37.747608],[-122.458717,37.748113],[-122.460528,37.749935],[-122.461227,37.751194],[-122.463247,37.75286],[-122.46379,37.753707],[-122.463554,37.75526],[-122.463648,37.756636],[-122.462755,37.756882],[-122.463213,37.75861],[-122.462935,37.75906],[-122.462483,37.759342],[-122.460528,37.759536],[-122.46069,37.760089],[-122.461341,37.759789],[-122.461619,37.759868],[-122.461766,37.760113],[-122.46179,37.760505],[-122.46065,37.760577],[-122.46085,37.762616],[-122.455731,37.764099],[-122.455465,37.760271],[-122.453594,37.761617],[-122.452405,37.761578],[-122.45182,37.758743],[-122.452997,37.758202],[-122.452936,37.7581]]],type:"Polygon"}],type:"GeometryCollection"},id:"94131",properties:{id:"94131",name:"Twin Peaks-Glen Park"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[[-122.419083,37.811572],[-122.415375,37.809166],[-122.415194,37.809226],[-122.415403,37.809424],[-122.415085,37.809231],[-122.414794,37.809331],[-122.415315,37.809767],[-122.415212,37.809848],[-122.413444,37.809247],[-122.413371,37.809391],[-122.414276,37.809863],[-122.414024,37.81014],[-122.413789,37.809946],[-122.413868,37.809874],[-122.412638,37.809089],[-122.41239,37.809118],[-122.411911,37.809384],[-122.412856,37.810523],[-122.412717,37.810604],[-122.411402,37.809035],[-122.41056,37.808843],[-122.410475,37.80937],[-122.411323,37.810958],[-122.410669,37.811379],[-122.410203,37.811311],[-122.409973,37.810966],[-122.410179,37.810095],[-122.409611,37.809141],[-122.409242,37.809049],[-122.409109,37.808848],[-122.409089,37.808138],[-122.405774,37.806775],[-122.405899,37.806399],[-122.405462,37.806107],[-122.405175,37.804795],[-122.40596,37.80469],[-122.405752,37.803725],[-122.404953,37.803822],[-122.405067,37.802885],[-122.403175,37.803098],[-122.402791,37.801265],[-122.4036,37.801195],[-122.403549,37.800548],[-122.404359,37.800576],[-122.404329,37.800423],[-122.404265,37.80013],[-122.403422,37.800209],[-122.403765,37.799746],[-122.403656,37.799212],[-122.402423,37.799369],[-122.401864,37.796638],[-122.405152,37.796213],[-122.404959,37.795337],[-122.405526,37.795292],[-122.40568,37.796152],[-122.406649,37.796027],[-122.406591,37.795697],[-122.407014,37.795587],[-122.407091,37.79597],[-122.411087,37.795467],[-122.411024,37.795145],[-122.411484,37.795033],[-122.411553,37.795409],[-122.414883,37.79503],[-122.415574,37.798688],[-122.417224,37.798494],[-122.41741,37.799405],[-122.418226,37.799295],[-122.418252,37.799884],[-122.417548,37.799967],[-122.417814,37.80132],[-122.419075,37.801144],[-122.419167,37.801559],[-122.417893,37.80172],[-122.418129,37.803168],[-122.418468,37.804109],[-122.418349,37.804101],[-122.418789,37.806249],[-122.4196,37.806783],[-122.418879,37.806877],[-122.419084,37.807804],[-122.420746,37.807598],[-122.420342,37.807746],[-122.420432,37.808308],[-122.417911,37.808629],[-122.417992,37.808864],[-122.419957,37.808915],[-122.41998,37.809133],[-122.418052,37.809139],[-122.417879,37.808993],[-122.417733,37.808362],[-122.417454,37.80838],[-122.417364,37.808135],[-122.4164,37.808303],[-122.416315,37.808478],[-122.4172,37.808528],[-122.416291,37.808576],[-122.416241,37.808862],[-122.417477,37.808903],[-122.417448,37.809198],[-122.420591,37.811315],[-122.420379,37.811535],[-122.418938,37.810817],[-122.419471,37.811444],[-122.419083,37.811572]]],[[[-122.424162,37.828344],[-122.423218,37.827999],[-122.42267,37.827481],[-122.421466,37.826959],[-122.421628,37.82721],[-122.420696,37.826599],[-122.420782,37.826508],[-122.421042,37.826639],[-122.420444,37.826098],[-122.420328,37.825734],[-122.420472,37.825421],[-122.420775,37.825153],[-122.421856,37.825073],[-122.422714,37.825449],[-122.422973,37.825779],[-122.423751,37.826058],[-122.423723,37.826303],[-122.424573,37.826644],[-122.424523,37.826849],[-122.425186,37.827726],[-122.425567,37.827856],[-122.425625,37.828169],[-122.425106,37.828409],[-122.424162,37.828344]]]],type:"MultiPolygon"}],type:"GeometryCollection"},id:"94133",properties:{id:"94133",name:"North Beach/Chinatown"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.405883,37.785718],[-122.426242,37.769644],[-122.428262,37.769541],[-122.429573,37.776045],[-122.4294,37.776267],[-122.429593,37.776526],[-122.429983,37.778864],[-122.426829,37.779265],[-122.427427,37.782055],[-122.414256,37.783728],[-122.414805,37.786523],[-122.413165,37.786726],[-122.413356,37.787657],[-122.411712,37.78787],[-122.411913,37.788812],[-122.408655,37.789244],[-122.408244,37.787369],[-122.406602,37.787583],[-122.406236,37.785793],[-122.405883,37.785718]]],type:"Polygon"}],type:"GeometryCollection"},id:"94102",properties:{id:"94102",name:"Hayes Valley/Tenderloin/North of Market"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.398941,37.783785],[-122.405629,37.778502],[-122.399425,37.773612],[-122.403723,37.770182],[-122.404003,37.77018],[-122.403477,37.769842],[-122.402105,37.769912],[-122.402091,37.769716],[-122.401685,37.769721],[-122.401768,37.769145],[-122.402021,37.768998],[-122.401851,37.767416],[-122.400881,37.767518],[-122.400915,37.768096],[-122.40001,37.767614],[-122.400422,37.767291],[-122.3998,37.766807],[-122.399688,37.765005],[-122.407431,37.764497],[-122.407553,37.765798],[-122.419459,37.765089],[-122.421248,37.764947],[-122.421031,37.76335],[-122.42173,37.763304],[-122.421885,37.764908],[-122.426453,37.764634],[-122.426897,37.769107],[-122.42245,37.772761],[-122.403427,37.787676],[-122.40333,37.787336],[-122.401497,37.785824],[-122.39999,37.787004],[-122.399523,37.786631],[-122.400955,37.785389],[-122.398941,37.783785]]],type:"Polygon"}],type:"GeometryCollection"},id:"94103",properties:{id:"94103",name:"South of Market"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.405115,37.764635],[-122.405212,37.763469],[-122.405832,37.762199],[-122.405859,37.761815],[-122.40604,37.761865],[-122.406365,37.761199],[-122.40645,37.760114],[-122.406167,37.759315],[-122.406015,37.759409],[-122.405604,37.758851],[-122.40405,37.757619],[-122.403428,37.756871],[-122.403585,37.756818],[-122.403328,37.756082],[-122.40315,37.754488],[-122.403524,37.754463],[-122.403437,37.753199],[-122.403364,37.752366],[-122.403022,37.752336],[-122.403052,37.752048],[-122.405091,37.745281],[-122.405614,37.7442],[-122.405493,37.744084],[-122.404865,37.744385],[-122.404524,37.744285],[-122.406652,37.741241],[-122.406936,37.740554],[-122.407045,37.739587],[-122.408136,37.73964],[-122.408009,37.737734],[-122.408218,37.73765],[-122.408284,37.736846],[-122.408613,37.736074],[-122.409287,37.735258],[-122.410052,37.734675],[-122.411978,37.733732],[-122.412695,37.733197],[-122.414554,37.732371],[-122.416255,37.732034],[-122.419881,37.732016],[-122.423718,37.73155],[-122.425944,37.731698],[-122.425256,37.732125],[-122.422274,37.732383],[-122.421889,37.732533],[-122.421787,37.732774],[-122.422472,37.733967],[-122.422901,37.734388],[-122.422243,37.734846],[-122.422133,37.735162],[-122.426983,37.735455],[-122.427849,37.734718],[-122.428578,37.735082],[-122.42801,37.735441],[-122.428454,37.735882],[-122.42551,37.737774],[-122.42452,37.739868],[-122.42427,37.739867],[-122.424394,37.740405],[-122.424168,37.740805],[-122.426453,37.764634],[-122.421885,37.764908],[-122.42173,37.763304],[-122.421031,37.76335],[-122.421248,37.764947],[-122.407553,37.765798],[-122.407431,37.764497],[-122.405115,37.764635]]],type:"Polygon"}],type:"GeometryCollection"},id:"94110",properties:{id:"94110",name:"Inner Mission/Bernal Heights"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.391701,37.794113],[-122.392429,37.793835],[-122.393875,37.795248],[-122.399156,37.791051],[-122.399607,37.791317],[-122.400146,37.79415],[-122.404629,37.79358],[-122.405152,37.796213],[-122.401864,37.796638],[-122.402423,37.799369],[-122.403656,37.799212],[-122.403765,37.799746],[-122.403422,37.800209],[-122.404265,37.80013],[-122.404329,37.800423],[-122.404359,37.800576],[-122.403549,37.800548],[-122.4036,37.801195],[-122.402791,37.801265],[-122.403175,37.803098],[-122.405067,37.802885],[-122.404953,37.803822],[-122.405752,37.803725],[-122.40596,37.80469],[-122.405175,37.804795],[-122.405462,37.806107],[-122.405899,37.806399],[-122.405774,37.806775],[-122.409089,37.808138],[-122.409004,37.808563],[-122.407936,37.808146],[-122.407617,37.808244],[-122.407477,37.808085],[-122.406554,37.807891],[-122.406816,37.810064],[-122.406209,37.810103],[-122.405976,37.807252],[-122.405313,37.806883],[-122.404321,37.808927],[-122.403972,37.808829],[-122.404712,37.807015],[-122.403955,37.806592],[-122.402774,37.808053],[-122.402375,37.807896],[-122.403406,37.806516],[-122.402824,37.806076],[-122.400944,37.807679],[-122.400408,37.807307],[-122.40097,37.803579],[-122.400512,37.8035],[-122.39855,37.80465],[-122.398217,37.804315],[-122.399938,37.803283],[-122.399597,37.802882],[-122.397818,37.803862],[-122.397518,37.803526],[-122.399718,37.802209],[-122.399419,37.801867],[-122.399203,37.801906],[-122.397115,37.803089],[-122.39613,37.801975],[-122.3984,37.80072],[-122.398001,37.800267],[-122.395772,37.801535],[-122.39544,37.80118],[-122.397667,37.7999],[-122.396766,37.798884],[-122.39658,37.798852],[-122.394503,37.800155],[-122.394306,37.80013],[-122.394252,37.799996],[-122.396516,37.798686],[-122.395855,37.797941],[-122.395655,37.797922],[-122.393825,37.798956],[-122.393551,37.798652],[-122.395468,37.797463],[-122.395024,37.797575],[-122.394882,37.797427],[-122.39512,37.797145],[-122.393219,37.798276],[-122.392969,37.797941],[-122.394774,37.796778],[-122.394682,37.796659],[-122.3942,37.796922],[-122.393041,37.795634],[-122.391593,37.796229],[-122.391211,37.795822],[-122.392391,37.794856],[-122.392292,37.794737],[-122.391934,37.794842],[-122.391668,37.79458],[-122.391934,37.794376],[-122.391701,37.794113]]],type:"Polygon"}],type:"GeometryCollection"},id:"94111",properties:{id:"94111",name:"Potrero Hill"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.427427,37.782055],[-122.426829,37.779265],[-122.444972,37.776956],[-122.445357,37.778831],[-122.446084,37.778731],[-122.446307,37.77984],[-122.446226,37.780051],[-122.44544,37.780142],[-122.445536,37.781341],[-122.447476,37.781067],[-122.447533,37.781349],[-122.447238,37.782464],[-122.44584,37.782546],[-122.447689,37.791703],[-122.446306,37.791871],[-122.446428,37.792795],[-122.44153,37.793428],[-122.441719,37.794387],[-122.440875,37.794492],[-122.440679,37.793537],[-122.430001,37.794906],[-122.427427,37.782055]]],type:"Polygon"}],type:"GeometryCollection"},id:"94115",properties:{id:"94115",name:"Western Addition/Japantown"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.463247,37.75286],[-122.461338,37.751312],[-122.460528,37.749935],[-122.458717,37.748113],[-122.458708,37.747608],[-122.45919,37.747199],[-122.458701,37.74661],[-122.460766,37.745108],[-122.461372,37.745591],[-122.463662,37.743771],[-122.467798,37.743412],[-122.468572,37.741502],[-122.471224,37.741374],[-122.47097,37.737652],[-122.481446,37.737249],[-122.482882,37.737513],[-122.486168,37.736807],[-122.488812,37.73713],[-122.489989,37.737975],[-122.490655,37.737821],[-122.491319,37.737325],[-122.490714,37.736565],[-122.490312,37.735638],[-122.491357,37.735345],[-122.491263,37.734165],[-122.491528,37.734094],[-122.492622,37.734039],[-122.49343,37.734328],[-122.493786,37.733991],[-122.497435,37.733934],[-122.498765,37.734264],[-122.500874,37.735256],[-122.502009,37.735517],[-122.506807,37.735587],[-122.507884,37.735942],[-122.508573,37.735638],[-122.50817,37.736602],[-122.50842,37.739587],[-122.508233,37.740381],[-122.509089,37.74456],[-122.508879,37.74557],[-122.509589,37.747897],[-122.50961,37.748912],[-122.509928,37.749936],[-122.509105,37.749743],[-122.50849,37.749138],[-122.507941,37.749124],[-122.508181,37.750987],[-122.473168,37.752564],[-122.470866,37.752536],[-122.470711,37.752359],[-122.469909,37.752784],[-122.470471,37.753431],[-122.469991,37.754686],[-122.468791,37.754241],[-122.46821,37.752963],[-122.467947,37.752765],[-122.463247,37.75286]]],type:"Polygon"}],type:"GeometryCollection"},id:"94116",properties:{id:"94116",name:"Parkside/Forest Hill"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.42828,37.769641],[-122.429208,37.770372],[-122.429137,37.769452],[-122.436632,37.769031],[-122.436477,37.767293],[-122.43819,37.767203],[-122.438094,37.766709],[-122.438575,37.766771],[-122.439489,37.766572],[-122.44122,37.765314],[-122.443426,37.765368],[-122.443242,37.765229],[-122.443207,37.764522],[-122.442944,37.764111],[-122.443017,37.76351],[-122.443776,37.763352],[-122.445302,37.761876],[-122.44679,37.761792],[-122.446481,37.76113],[-122.447146,37.75969],[-122.447468,37.759318],[-122.447637,37.759222],[-122.448095,37.759665],[-122.451531,37.759473],[-122.451348,37.75859],[-122.452936,37.7581],[-122.452997,37.758202],[-122.45182,37.758743],[-122.452405,37.761578],[-122.453594,37.761617],[-122.455465,37.760271],[-122.455731,37.764099],[-122.456648,37.763844],[-122.456778,37.764938],[-122.457575,37.764847],[-122.457707,37.764705],[-122.457805,37.765978],[-122.456862,37.765856],[-122.452974,37.766367],[-122.454676,37.774758],[-122.452852,37.774986],[-122.453191,37.776877],[-122.446859,37.777678],[-122.446673,37.776733],[-122.429983,37.778864],[-122.429593,37.776526],[-122.4294,37.776267],[-122.429573,37.776045],[-122.42828,37.769641]]],type:"Polygon"}],type:"GeometryCollection"},id:"94117",properties:{id:"94117",name:"Haight-Ashbury"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.444972,37.776956],[-122.446673,37.776733],[-122.446859,37.777678],[-122.453191,37.776877],[-122.452852,37.774986],[-122.465887,37.773401],[-122.465845,37.772545],[-122.464749,37.772486],[-122.462072,37.771779],[-122.459148,37.771316],[-122.459502,37.770711],[-122.460096,37.770396],[-122.461874,37.770266],[-122.464536,37.769638],[-122.466956,37.768001],[-122.469006,37.769046],[-122.470813,37.769209],[-122.471557,37.769065],[-122.472056,37.768783],[-122.472362,37.7684],[-122.472697,37.767444],[-122.472844,37.767756],[-122.472672,37.768601],[-122.471497,37.76954],[-122.471476,37.769812],[-122.47402,37.769507],[-122.475251,37.770068],[-122.476153,37.770232],[-122.476281,37.770393],[-122.476217,37.770837],[-122.475898,37.771087],[-122.474249,37.771029],[-122.47378,37.771182],[-122.475395,37.771703],[-122.477216,37.77146],[-122.479165,37.770749],[-122.479412,37.771247],[-122.479254,37.771868],[-122.478613,37.772245],[-122.474834,37.772518],[-122.472407,37.772329],[-122.471937,37.772516],[-122.471729,37.772828],[-122.47172,37.773141],[-122.475639,37.772941],[-122.476602,37.78702],[-122.475083,37.787011],[-122.473321,37.787239],[-122.472691,37.786462],[-122.472522,37.787124],[-122.471777,37.787485],[-122.468463,37.787804],[-122.449327,37.791654],[-122.449368,37.791488],[-122.447689,37.791703],[-122.44584,37.782546],[-122.447238,37.782464],[-122.447533,37.781349],[-122.447476,37.781067],[-122.445536,37.781341],[-122.44544,37.780142],[-122.446226,37.780051],[-122.446307,37.77984],[-122.446084,37.778731],[-122.445357,37.778831],[-122.444972,37.776956]]],type:"Polygon"}],type:"GeometryCollection"},id:"94118",properties:{id:"94118",name:"Inner Richmond"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[[-122.515568,37.778158],[-122.515522,37.778054],[-122.516044,37.778034],[-122.5171,37.778255],[-122.515972,37.778931],[-122.515659,37.778709],[-122.51575,37.778534],[-122.515568,37.778158]]],[[[-122.517686,37.780601],[-122.517402,37.780516],[-122.517389,37.780248],[-122.517109,37.780174],[-122.517043,37.779939],[-122.517474,37.779998],[-122.517747,37.78023],[-122.517686,37.780601]]],[[[-122.484717,37.789597],[-122.484583,37.789242],[-122.484718,37.788811],[-122.485334,37.788309],[-122.485284,37.787608],[-122.483795,37.787747],[-122.483607,37.78743],[-122.48337,37.78736],[-122.48138,37.787401],[-122.479785,37.787032],[-122.479129,37.787142],[-122.477715,37.786931],[-122.476602,37.78702],[-122.475639,37.772941],[-122.510968,37.771331],[-122.511398,37.771486],[-122.511322,37.771173],[-122.513273,37.771077],[-122.513184,37.774133],[-122.513026,37.774949],[-122.513142,37.775182],[-122.513194,37.777452],[-122.514068,37.778184],[-122.514289,37.778184],[-122.514373,37.77944],[-122.514926,37.779652],[-122.514884,37.779893],[-122.514399,37.780002],[-122.514178,37.780542],[-122.514736,37.781041],[-122.514698,37.781217],[-122.514205,37.781328],[-122.514245,37.781536],[-122.513721,37.781503],[-122.513795,37.781861],[-122.513426,37.782119],[-122.513563,37.782343],[-122.513395,37.782526],[-122.51349,37.782784],[-122.512869,37.782851],[-122.512785,37.783408],[-122.512406,37.783757],[-122.51267,37.784013],[-122.512121,37.783849],[-122.511811,37.783945],[-122.511632,37.784377],[-122.511411,37.784286],[-122.511348,37.784585],[-122.510833,37.784452],[-122.509747,37.784795],[-122.509062,37.785544],[-122.508124,37.785907],[-122.506904,37.787204],[-122.50621,37.787597],[-122.506022,37.787797],[-122.506092,37.788194],[-122.505811,37.78826],[-122.504845,37.787919],[-122.504094,37.788082],[-122.503578,37.787971],[-122.502917,37.788146],[-122.500674,37.788287],[-122.50006,37.788535],[-122.499835,37.788446],[-122.499703,37.788669],[-122.499497,37.788669],[-122.499037,37.788298],[-122.498381,37.788217],[-122.498118,37.787979],[-122.497677,37.787987],[-122.497246,37.78749],[-122.496326,37.78732],[-122.49486,37.78784],[-122.494599,37.788153],[-122.49389,37.787551],[-122.492867,37.787922],[-122.492545,37.787773],[-122.492055,37.787864],[-122.491482,37.788136],[-122.490012,37.789413],[-122.488188,37.789339],[-122.487051,37.789528],[-122.485863,37.790665],[-122.485131,37.790421],[-122.484717,37.789597]]]],type:"MultiPolygon"}],type:"GeometryCollection"},id:"94121",properties:{id:"94121",name:"Outer Richmond"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.426352,37.807528],[-122.425397,37.806565],[-122.425374,37.806107],[-122.42553,37.805821],[-122.423491,37.795723],[-122.440679,37.793537],[-122.440875,37.794492],[-122.441719,37.794387],[-122.44153,37.793428],[-122.446428,37.792795],[-122.447811,37.80152],[-122.448525,37.801634],[-122.449009,37.801917],[-122.449404,37.802357],[-122.449561,37.802801],[-122.449275,37.803858],[-122.448409,37.804394],[-122.448243,37.804788],[-122.448481,37.806062],[-122.448321,37.806876],[-122.447295,37.807455],[-122.443705,37.807725],[-122.441096,37.808198],[-122.44055,37.80839],[-122.440055,37.808821],[-122.439998,37.808663],[-122.44041,37.808174],[-122.441003,37.808088],[-122.441364,37.80786],[-122.441493,37.808019],[-122.442101,37.807966],[-122.442427,37.807869],[-122.442406,37.807668],[-122.44268,37.807623],[-122.44274,37.80782],[-122.442999,37.807803],[-122.443683,37.807592],[-122.443643,37.807467],[-122.447471,37.806461],[-122.44728,37.805577],[-122.447182,37.805402],[-122.442496,37.806008],[-122.442604,37.806591],[-122.444053,37.806469],[-122.442517,37.806758],[-122.442471,37.807123],[-122.442303,37.806809],[-122.435826,37.807598],[-122.435633,37.806878],[-122.434208,37.80697],[-122.433816,37.805671],[-122.432637,37.805729],[-122.432535,37.805917],[-122.432195,37.806011],[-122.432646,37.808535],[-122.432349,37.808561],[-122.432062,37.807246],[-122.431414,37.807326],[-122.431787,37.809057],[-122.431368,37.809109],[-122.431027,37.807395],[-122.430333,37.807473],[-122.430652,37.809196],[-122.430212,37.809257],[-122.429937,37.807873],[-122.428901,37.808021],[-122.428209,37.808373],[-122.427017,37.808129],[-122.427547,37.808655],[-122.428028,37.808617],[-122.428059,37.808747],[-122.427568,37.808804],[-122.426866,37.80813],[-122.426726,37.808158],[-122.426817,37.809302],[-122.426369,37.810186],[-122.425473,37.810746],[-122.424468,37.810765],[-122.424322,37.810603],[-122.424449,37.81045],[-122.424801,37.810665],[-122.425364,37.810603],[-122.425897,37.810359],[-122.426387,37.809852],[-122.426648,37.808866],[-122.426352,37.807528]]],type:"Polygon"}],type:"GeometryCollection"},id:"94123",properties:{id:"94123",name:"Marina"},type:"Feature"},{geometry:{geometries:[{coordinates:[[[-122.391527,37.709674],[-122.393396,37.708262],[-122.395354,37.708369],[-122.407491,37.708181],[-122.408326,37.708426],[-122.410318,37.708314],[-122.410071,37.708909],[-122.412248,37.708601],[-122.413821,37.709054],[-122.414165,37.708316],[-122.418198,37.708311],[-122.420305,37.707817],[-122.420709,37.708291],[-122.426074,37.708319],[-122.426415,37.707763],[-122.427043,37.708066],[-122.426985,37.70837],[-122.427283,37.708307],[-122.427347,37.710021],[-122.426175,37.710959],[-122.42923,37.712203],[-122.433751,37.713118],[-122.431213,37.716631],[-122.42836,37.716053],[-122.427306,37.715611],[-122.42605,37.718375],[-122.425602,37.718097],[-122.425093,37.717356],[-122.424422,37.717063],[-122.423615,37.71719],[-122.422477,37.717882],[-122.423308,37.718471],[-122.423541,37.718906],[-122.423493,37.719533],[-122.423682,37.719801],[-122.425484,37.720235],[-122.424405,37.721949],[-122.425246,37.722277],[-122.424475,37.723544],[-122.422873,37.723983],[-122.423554,37.725625],[-122.424157,37.725984],[-122.423154,37.727262],[-122.423712,37.728761],[-122.426016,37.728636],[-122.426026,37.729391],[-122.423689,37.729515],[-122.422911,37.729289],[-122.420599,37.729374],[-122.420399,37.729529],[-122.420306,37.729926],[-122.420182,37.731449],[-122.420949,37.731304],[-122.420551,37.731562],[-122.420701,37.731936],[-122.416255,37.732034],[-122.413909,37.732606],[-122.409647,37.734951],[-122.408488,37.736297],[-122.408218,37.73765],[-122.407024,37.738016],[-122.406506,37.735623],[-122.404946,37.733588],[-122.402107,37.727849],[-122.401262,37.724794],[-122.399202,37.71992],[-122.398555,37.717783],[-122.398393,37.716337],[-122.398027,37.715493],[-122.396489,37.714972],[-122.396527,37.714716],[-122.394738,37.713611],[-122.393041,37.713609],[-122.391224,37.713259],[-122.390961,37.712322],[-122.390439,37.712109],[-122.388774,37.71228],[-122.387994,37.713004],[-122.387684,37.712178],[-122.386375,37.711033],[-122.386724,37.711066],[-122.38874,37.710489],[-122.39094,37.710318],[-122.391782,37.709808],[-122.391527,37.709674]]],type:"Polygon"}],type:"GeometryCollection"},id:"94134",properties:{id:"94134",name:"Visitacion Valley/Sunnydale"},type:"Feature"}],type:"FeatureCollection"}},function(t,n,e){
/* @license C3.js v0.6.7 | (c) C3 Team and other contributors | http://c3js.org/ */
t.exports=function(){"use strict";function t(t){var n=this;n.d3=window.d3?window.d3:e(12),n.api=t,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function n(e){var r=this.internal=new t(this);r.loadConfig(e),r.beforeInit(e),r.init(),r.afterInit(e),function t(n,e,r){Object.keys(n).forEach(function(i){e[i]=n[i].bind(r),Object.keys(n[i]).length>0&&t(n[i],e[i],r)})}(n.prototype,this,this)}function r(t,n){this.component=t,this.params=n||{},this.d3=t.d3,this.scale=this.d3.scaleLinear(),this.range,this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickFormat,this.tickArguments,this.tickOffset=0,this.tickCulling=!0,this.tickCentered,this.tickTextCharSize,this.tickTextRotate=this.params.tickTextRotate,this.tickLength,this.axis=this.generateAxis()}r.prototype.axisX=function(t,n,e){t.attr("transform",function(t){return"translate("+Math.ceil(n(t)+e)+", 0)"})},r.prototype.axisY=function(t,n){t.attr("transform",function(t){return"translate(0,"+Math.ceil(n(t))+")"})},r.prototype.scaleExtent=function(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]},r.prototype.generateTicks=function(t){var n,e,r=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(e=t.domain(),n=Math.ceil(e[0]);n<e[1];n++)r.push(n);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r},r.prototype.copyScale=function(){var t,n=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),n.domain([t[0],t[1]-1])),n},r.prototype.textFormatted=function(t){var n=this.tickFormat?this.tickFormat(t):t;return void 0!==n?n:""},r.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},r.prototype.updateTickTextCharSize=function(t){var n=this;if(n.tickTextCharSize)return n.tickTextCharSize;var e={h:11.5,w:5.5};return t.select("text").text(function(t){return n.textFormatted(t)}).each(function(t){var r=this.getBoundingClientRect(),i=n.textFormatted(t),o=r.height,a=i?r.width/i.length:void 0;o&&a&&(e.h=o,e.w=a)}).text(""),n.tickTextCharSize=e,e},r.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},r.prototype.tspanData=function(t,n,e){var r=this.params.tickMultiline?this.splitTickText(t,e):[].concat(this.textFormatted(t));return this.params.tickMultiline&&this.params.tickMultilineMax>0&&(r=this.ellipsify(r,this.params.tickMultilineMax)),r.map(function(t){return{index:n,splitted:t,length:r.length}})},r.prototype.splitTickText=function(t,n){var e,r,i,o=this,a=o.textFormatted(t),u=o.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(a)?a:((!u||u<=0)&&(u=o.isVertical()?95:o.params.isCategory?Math.ceil(n(1)-n(0))-12:110),function t(n,a){r=void 0;for(var s=1;s<a.length;s++)if(" "===a.charAt(s)&&(r=s),e=a.substr(0,s+1),i=o.tickTextCharSize.w*e.length,u<i)return t(n.concat(a.substr(0,r||s)),a.slice(r?r+1:s));return n.concat(a)}([],a+""))},r.prototype.ellipsify=function(t,n){if(t.length<=n)return t;for(var e=t.slice(0,n),r=3,i=n-1;i>=0;i--){var o=e[i].length;if(e[i]=e[i].substr(0,o-r).padEnd(o,"."),(r-=o)<=0)break}return e},r.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},r.prototype.lineY2=function(t){var n=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<n&&n<this.range[1]?this.innerTickSize:0},r.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},r.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},r.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},r.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},r.prototype.tspanDy=function(t,n){var e=this.tickTextCharSize.h;return 0===n&&(e=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),e},r.prototype.generateAxis=function(){var t=this,n=t.d3,e=t.params;function r(i,o){var a;return i.each(function(){var i,u,s,c=r.g=n.select(this),l=this.__chart__||t.scale,f=this.__chart__=t.copyScale(),h=t.tickValues?t.tickValues:t.generateTicks(f),d=c.selectAll(".tick").data(h,f),p=d.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),g=d.exit().remove(),_=d.merge(p);e.isCategory?(t.tickOffset=Math.ceil((f(1)-f(0))/2),u=t.tickCentered?0:t.tickOffset,s=t.tickCentered?t.tickOffset:0):t.tickOffset=u=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(c.select(".tick"));var y=_.select("line").merge(p.append("line")),v=_.select("text").merge(p.append("text")),x=_.selectAll("text").selectAll("tspan").data(function(n,e){return t.tspanData(n,e,f)}),m=x.enter().append("tspan"),b=m.merge(x).text(function(t){return t.splitted});x.exit().remove();var w=c.selectAll(".domain").data([0]),S=w.enter().append("path").merge(w).attr("class","domain");switch(t.orient){case"bottom":i=t.axisX,y.attr("x1",u).attr("x2",u).attr("y2",function(n,e){return t.lineY2(n,e)}),v.attr("x",0).attr("y",function(n,e){return t.textY(n,e)}).attr("transform",function(n,e){return t.textTransform(n,e)}).style("text-anchor",function(n,e){return t.textTextAnchor(n,e)}),b.attr("x",0).attr("dy",function(n,e){return t.tspanDy(n,e)}).attr("dx",function(n,e){return t.tspanDx(n,e)}),S.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":i=t.axisX,y.attr("x1",u).attr("x2",u).attr("y2",function(n,e){return-1*t.lineY2(n,e)}),v.attr("x",0).attr("y",function(n,r){return-1*t.textY(n,r)-(e.isCategory?2:t.tickLength-2)}).attr("transform",function(n,e){return t.textTransform(n,e)}).style("text-anchor",function(n,e){return t.textTextAnchor(n,e)}),b.attr("x",0).attr("dy",function(n,e){return t.tspanDy(n,e)}).attr("dx",function(n,e){return t.tspanDx(n,e)}),S.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":i=t.axisY,y.attr("x2",-t.innerTickSize).attr("y1",s).attr("y2",s),v.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),b.attr("x",-t.tickLength).attr("dy",function(n,e){return t.tspanDy(n,e)}),S.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":i=t.axisY,y.attr("x2",t.innerTickSize).attr("y1",s).attr("y2",s),v.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),b.attr("x",t.tickLength).attr("dy",function(n,e){return t.tspanDy(n,e)}),S.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(f.rangeBand){var A=f,T=A.rangeBand()/2;l=f=function(t){return A(t)+T}}else l.rangeBand?l=f:g.call(i,f,t.tickOffset);p.call(i,l,t.tickOffset),a=(o?_.transition(o):_).style("opacity",1).call(i,f,t.tickOffset)}),a}return r.scale=function(n){return arguments.length?(t.scale=n,r):t.scale},r.orient=function(n){return arguments.length?(t.orient=n in{top:1,right:1,bottom:1,left:1}?n+"":"bottom",r):t.orient},r.tickFormat=function(n){return arguments.length?(t.tickFormat=n,r):t.tickFormat},r.tickCentered=function(n){return arguments.length?(t.tickCentered=n,r):t.tickCentered},r.tickOffset=function(){return t.tickOffset},r.tickInterval=function(){var n,i;return e.isCategory?n=2*t.tickOffset:(i=r.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize,n=i/r.g.selectAll("line").size()),n===1/0?0:n},r.ticks=function(){return arguments.length?(t.tickArguments=arguments,r):t.tickArguments},r.tickCulling=function(n){return arguments.length?(t.tickCulling=n,r):t.tickCulling},r.tickValues=function(n){if("function"==typeof n)t.tickValues=function(){return n(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=n}return r},r};var i={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t){return Math.ceil(t)+.5},u=function(t){return 10*Math.ceil(t/10)},s=function(t){return t[1]-t[0]},c=function(t,n,e){return h(t[n])?t[n]:e},l=function(t){var n=t.getBoundingClientRect(),e=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],r=e[0].x,i=Math.min(e[0].y,e[1].y);return{x:r,y:i,width:n.width,height:n.height}},f=function(t){return Array.isArray(t)},h=function(t){return void 0!==t},d=function(t){return void 0===t||null===t||g(t)&&0===t.length||"object"===(void 0===t?"undefined":o(t))&&0===Object.keys(t).length},p=function(t){return"function"==typeof t},g=function(t){return"string"==typeof t},_=function(t){return void 0===t},y=function(t){return t||0===t},v=function(t){return!d(t)},x=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},m=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.owner=n,this.d3=n.d3,this.internal=r};m.prototype.init=function(){var t=this.owner,n=t.config,e=t.main;t.axes.x=e.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",n.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",n.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",n.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=e.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",n.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",n.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",n.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=e.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",n.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",n.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},m.prototype.getXAxis=function(t,n,e,r,i,o,a){var u=this.owner,s=u.config,c={isCategory:u.isCategorized(),withOuterTick:i,tickMultiline:s.axis_x_tick_multiline,tickMultilineMax:s.axis_x_tick_multiline?Number(s.axis_x_tick_multilineMax):0,tickWidth:s.axis_x_tick_width,tickTextRotate:a?0:s.axis_x_tick_rotate,withoutTransition:o},l=new this.internal(this,c).axis.scale(t).orient(n);return u.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(t){return u.parseDate(t)})),l.tickFormat(e).tickValues(r),u.isCategorized()&&(l.tickCentered(s.axis_x_tick_centered),d(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1)),l},m.prototype.updateXAxisTickValues=function(t,n){var e,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(e=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),n?n.tickValues(e):(r.xAxis.tickValues(e),r.subXAxis.tickValues(e)),e},m.prototype.getYAxis=function(t,n,e,r,i,o,a){var u=this.owner,s=u.config,c={withOuterTick:i,withoutTransition:o,tickTextRotate:a?0:s.axis_y_tick_rotate},l=new this.internal(this,c).axis.scale(t).orient(n).tickFormat(e);return u.isTimeSeriesY()?l.ticks(s.axis_y_tick_time_type,s.axis_y_tick_time_interval):l.tickValues(r),l},m.prototype.getId=function(t){var n=this.owner.config;return t in n.data_axes?n.data_axes[t]:"y"},m.prototype.getXAxisTickFormat=function(){var t=this.owner,n=t.config,e=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return n.axis_x_tick_format&&(p(n.axis_x_tick_format)?e=n.axis_x_tick_format:t.isTimeSeries()&&(e=function(e){return e?t.axisTimeFormat(n.axis_x_tick_format)(e):""})),p(e)?function(n){return e.call(t,n)}:e},m.prototype.getTickValues=function(t,n){return t||(n?n.tickValues():void 0)},m.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},m.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},m.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},m.prototype.getLabelOptionByAxisId=function(t){var n,e=this.owner,r=e.config;return"y"===t?n=r.axis_y_label:"y2"===t?n=r.axis_y2_label:"x"===t&&(n=r.axis_x_label),n},m.prototype.getLabelText=function(t){var n=this.getLabelOptionByAxisId(t);return g(n)?n:n?n.text:null},m.prototype.setLabelText=function(t,n){var e=this.owner,r=e.config,i=this.getLabelOptionByAxisId(t);g(i)?"y"===t?r.axis_y_label=n:"y2"===t?r.axis_y2_label=n:"x"===t&&(r.axis_x_label=n):i&&(i.text=n)},m.prototype.getLabelPosition=function(t,n){var e=this.getLabelOptionByAxisId(t),r=e&&"object"===(void 0===e?"undefined":o(e))&&e.position?e.position:n;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},m.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},m.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},m.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},m.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},m.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},m.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},m.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},m.prototype.xForAxisLabel=function(t,n){var e=this.owner;return t?n.isLeft?0:n.isCenter?e.width/2:e.width:n.isBottom?-e.height:n.isMiddle?-e.height/2:0},m.prototype.dxForAxisLabel=function(t,n){return t?n.isLeft?"0.5em":n.isRight?"-0.5em":"0":n.isTop?"-0.5em":n.isBottom?"0.5em":"0"},m.prototype.textAnchorForAxisLabel=function(t,n){return t?n.isLeft?"start":n.isCenter?"middle":"end":n.isBottom?"start":n.isMiddle?"middle":"end"},m.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},m.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},m.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},m.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},m.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},m.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},m.prototype.dyForXAxisLabel=function(){var t=this.owner,n=t.config,e=this.getXAxisLabelPosition();return n.axis_rotated?e.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):e.isInner?"-0.5em":n.axis_x_height?n.axis_x_height-10:"3em"},m.prototype.dyForYAxisLabel=function(){var t=this.owner,n=this.getYAxisLabelPosition();return t.config.axis_rotated?n.isInner?"-0.5em":"3em":n.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},m.prototype.dyForY2AxisLabel=function(){var t=this.owner,n=this.getY2AxisLabelPosition();return t.config.axis_rotated?n.isInner?"1.2em":"-2.2em":n.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},m.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},m.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},m.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},m.prototype.getMaxTickWidth=function(t,n){var e,r,i,o,a=this.owner,u=a.config,s=0;return n&&a.currentMaxTickWidths[t]?a.currentMaxTickWidths[t]:(a.svg&&(e=a.filterTargetsToShow(a.data.targets),"y"===t?(r=a.y.copy().domain(a.getYDomain(e,"y")),i=this.getYAxis(r,a.yOrient,u.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=a.y2.copy().domain(a.getYDomain(e,"y2")),i=this.getYAxis(r,a.y2Orient,u.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(r=a.x.copy().domain(a.getXDomain(e)),i=this.getXAxis(r,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(e,i)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(i).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();s<t.width&&(s=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=s<=0?a.currentMaxTickWidths[t]:s,a.currentMaxTickWidths[t])},m.prototype.updateLabels=function(t){var n=this.owner,e=n.main.select("."+i.axisX+" ."+i.axisXLabel),r=n.main.select("."+i.axisY+" ."+i.axisYLabel),o=n.main.select("."+i.axisY2+" ."+i.axisY2Label);(t?e.transition():e).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},m.prototype.getPadding=function(t,n,e,r){var i="number"==typeof t?t:t[n];return y(i)?"ratio"===t.unit?t[n]*r:this.convertPixelsToAxisPadding(i,r):e},m.prototype.convertPixelsToAxisPadding=function(t,n){var e=this.owner,r=e.config.axis_rotated?e.width:e.height;return n*(t/r)},m.prototype.generateTickValues=function(t,n,e){var r,i,o,a,u,s,c,l=t;if(n)if(1===(r=p(n)?n():n))l=[t[0]];else if(2===r)l=[t[0],t[t.length-1]];else if(r>2){for(a=r-2,i=t[0],o=t[t.length-1],u=(o-i)/(a+1),l=[i],s=0;s<a;s++)c=+i+u*(s+1),l.push(e?new Date(c):c);l.push(o)}return e||(l=l.sort(function(t,n){return t-n})),l},m.prototype.generateTransitions=function(t){var n=this.owner,e=n.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},m.prototype.redraw=function(t,n){var e=this.owner,r=t?e.d3.transition().duration(t):null;e.axes.x.style("opacity",n?0:1).call(e.xAxis,r),e.axes.y.style("opacity",n?0:1).call(e.yAxis,r),e.axes.y2.style("opacity",n?0:1).call(e.y2Axis,r),e.axes.subx.style("opacity",n?0:1).call(e.subXAxis,r)};var b={version:"0.6.7",chart:{fn:n.prototype,internal:{fn:t.prototype,axis:{fn:m.prototype,internal:{fn:r.prototype}}}},generate:function(t){return new n(t)}};return t.prototype.beforeInit=function(){},t.prototype.afterInit=function(){},t.prototype.init=function(){var t=this,n=t.config;if(t.initParams(),n.data_url)t.convertUrlToData(n.data_url,n.data_mimeType,n.data_headers,n.data_keys,t.initWithData);else if(n.data_json)t.initWithData(t.convertJsonToData(n.data_json,n.data_keys));else if(n.data_rows)t.initWithData(t.convertRowsToData(n.data_rows));else{if(!n.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(n.data_columns))}},t.prototype.initParams=function(){var t=this,n=t.d3,e=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(e.data_xLocaltime?n.timeParse:n.utcParse)(t.config.data_xFormat),t.axisTimeFormat=e.axis_x_localtime?n.timeFormat:n.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?n.timeFormat(".%L")(t):t.getSeconds()?n.timeFormat(":%S")(t):t.getMinutes()?n.timeFormat("%I:%M")(t):t.getHours()?n.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()?n.timeFormat("%-m/%-d")(t):1!==t.getDate()?n.timeFormat("%-m/%-d")(t):t.getMonth()?n.timeFormat("%-m/%-d")(t):n.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=e.axis_rotated?e.axis_x_inner?"right":"left":e.axis_x_inner?"top":"bottom",t.yOrient=e.axis_rotated?e.axis_y_inner?"top":"bottom":e.axis_y_inner?"right":"left",t.y2Orient=e.axis_rotated?e.axis_y2_inner?"bottom":"top":e.axis_y2_inner?"left":"right",t.subXOrient=e.axis_rotated?"left":"bottom",t.isLegendRight="right"===e.legend_position,t.isLegendInset="inset"===e.legend_position,t.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,t.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=e.axis_rotated&&!e.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=n.selectAll([])},t.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},t.prototype.initWithData=function(t){var n,e,r=this,o=r.d3,a=r.config,u=!0;r.axis=new m(r),a.bindto?"function"==typeof a.bindto.node?r.selectChart=a.bindto:r.selectChart=o.select(a.bindto):r.selectChart=o.selectAll([]),r.selectChart.empty()&&(r.selectChart=o.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),u=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),a.data_filter&&(r.data.targets=r.data.targets.filter(a.data_filter)),a.data_hide&&r.addHiddenTargetIds(!0===a.data_hide?r.mapToIds(r.data.targets):a.data_hide),a.legend_hide&&r.addHiddenLegendIds(!0===a.legend_hide?r.mapToIds(r.data.targets):a.legend_hide),r.updateSizes(),r.updateScales(),r.x.domain(o.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(r)}).on("mouseleave",function(){return a.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),n=r.svg.append("defs"),r.clipChart=r.appendClip(n,r.clipId),r.clipXAxis=r.appendClip(n,r.clipIdForXAxis),r.clipYAxis=r.appendClip(n,r.clipIdForYAxis),r.clipGrid=r.appendClip(n,r.clipIdForGrid),r.clipSubchart=r.appendClip(n,r.clipIdForSubchart),r.updateSvgSize(),e=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.initSubchartBrush&&r.initSubchartBrush(),e.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),e.append("g").attr("clip-path",r.clipPath).attr("class",i.chart),a.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),a.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),u&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},t.prototype.smoothLines=function(t,n){var e=this;"grid"===n&&t.each(function(){var t=e.d3.select(this),n=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(n),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(o)})})},t.prototype.updateSizes=function(){var t=this,n=t.config,e=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:e,o=t.hasArcType(),a=n.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),u=n.subchart_show&&!o?n.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=n.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:u+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+u+i+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=n.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-u-i,right:NaN,bottom:a+i,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(e,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=n.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=n.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!n.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},t.prototype.updateTargets=function(t){var n=this;n.updateTargetsForText(t),n.updateTargetsForBar(t),n.updateTargetsForLine(t),n.hasArcType()&&n.updateTargetsForArc&&n.updateTargetsForArc(t),n.updateTargetsForSubchart&&n.updateTargetsForSubchart(t),n.showTargets()},t.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+i.target).filter(function(n){return t.isTargetToShow(n.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},t.prototype.redraw=function(t,n){var e,r,o,a,u,s,l,f,h,d,p,g,_,y,v,x,m,b,w,S,A,T,P,M,C,E,L,k,O,V,G,N=this,R=N.main,I=N.d3,D=N.config,z=N.getShapeIndices(N.isAreaType),F=N.getShapeIndices(N.isBarType),j=N.getShapeIndices(N.isLineType),B=N.hasArcType(),X=N.filterTargetsToShow(N.data.targets),H=N.xv.bind(N);if(e=c(t=t||{},"withY",!0),r=c(t,"withSubchart",!0),o=c(t,"withTransition",!0),s=c(t,"withTransform",!1),l=c(t,"withUpdateXDomain",!1),f=c(t,"withUpdateOrgXDomain",!1),h=c(t,"withTrimXDomain",!0),_=c(t,"withUpdateXAxis",l),d=c(t,"withLegend",!1),p=c(t,"withEventRect",!0),g=c(t,"withDimension",!0),a=c(t,"withTransitionForExit",o),u=c(t,"withTransitionForAxis",o),w=o?D.transition_duration:0,S=a?w:0,A=u?w:0,n=n||N.axis.generateTransitions(A),d&&D.legend_show?N.updateLegend(N.mapToIds(N.data.targets),t,n):g&&N.updateDimension(!0),N.isCategorized()&&0===X.length&&N.x.domain([0,N.axes.x.selectAll(".tick").size()]),X.length?(N.updateXDomain(X,l,f,h),D.axis_x_tick_values||(E=N.axis.updateXAxisTickValues(X))):(N.xAxis.tickValues([]),N.subXAxis.tickValues([])),D.zoom_rescale&&!t.flow&&(O=N.x.orgDomain()),N.y.domain(N.getYDomain(X,"y",O)),N.y2.domain(N.getYDomain(X,"y2",O)),!D.axis_y_tick_values&&D.axis_y_tick_count&&N.yAxis.tickValues(N.axis.generateTickValues(N.y.domain(),D.axis_y_tick_count)),!D.axis_y2_tick_values&&D.axis_y2_tick_count&&N.y2Axis.tickValues(N.axis.generateTickValues(N.y2.domain(),D.axis_y2_tick_count)),N.axis.redraw(A,B),N.axis.updateLabels(o),(l||_)&&X.length)if(D.axis_x_tick_culling&&E){for(L=1;L<E.length;L++)if(E.length/L<D.axis_x_tick_culling_max){k=L;break}N.svg.selectAll("."+i.axisX+" .tick text").each(function(t){var n=E.indexOf(t);n>=0&&I.select(this).style("display",n%k?"none":"block")})}else N.svg.selectAll("."+i.axisX+" .tick text").style("display","block");y=N.generateDrawArea?N.generateDrawArea(z,!1):void 0,v=N.generateDrawBar?N.generateDrawBar(F):void 0,x=N.generateDrawLine?N.generateDrawLine(j,!1):void 0,m=N.generateXYForText(z,F,j,!0),b=N.generateXYForText(z,F,j,!1),N.updateCircleY(),V=(N.config.axis_rotated?N.circleY:N.circleX).bind(N),G=(N.config.axis_rotated?N.circleX:N.circleY).bind(N),e&&(N.subY.domain(N.getYDomain(X,"y")),N.subY2.domain(N.getYDomain(X,"y2"))),N.updateXgridFocus(),R.select("text."+i.text+"."+i.empty).attr("x",N.width/2).attr("y",N.height/2).text(D.data_empty_label_text).transition().style("opacity",X.length?0:1),p&&N.redrawEventRect(),N.updateGrid(w),N.updateRegion(w),N.updateBar(S),N.updateLine(S),N.updateArea(S),N.updateCircle(V,G),N.hasDataLabel()&&N.updateText(m,b,S),N.redrawTitle&&N.redrawTitle(),N.redrawArc&&N.redrawArc(w,S,s),N.redrawSubchart&&N.redrawSubchart(r,n,w,S,z,F,j),R.selectAll("."+i.selectedCircles).filter(N.isBarType.bind(N)).selectAll("circle").remove(),t.flow&&(M=N.generateFlow({targets:X,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:x,drawArea:y,cx:V,cy:G,xv:H,xForText:m,yForText:b})),N.isTabVisible()&&(w?(C=I.transition().duration(w),T=[],[N.redrawBar(v,!0,C),N.redrawLine(x,!0,C),N.redrawArea(y,!0,C),N.redrawCircle(V,G,!0,C),N.redrawText(m,b,t.flow,!0,C),N.redrawRegion(!0,C),N.redrawGrid(!0,C)].forEach(function(t){t.forEach(function(t){T.push(t)})}),P=N.generateWait(),T.forEach(function(t){P.add(t)}),P(function(){M&&M(),D.onrendered&&D.onrendered.call(N)})):(N.redrawBar(v),N.redrawLine(x),N.redrawArea(y),N.redrawCircle(V,G),N.redrawText(m,b,t.flow),N.redrawRegion(),N.redrawGrid(),M&&M(),D.onrendered&&D.onrendered.call(N))),N.mapToIds(N.data.targets).forEach(function(t){N.withoutFadeIn[t]=!0})},t.prototype.updateAndRedraw=function(t){var n,e=this,r=e.config;(t=t||{}).withTransition=c(t,"withTransition",!0),t.withTransform=c(t,"withTransform",!1),t.withLegend=c(t,"withLegend",!1),t.withUpdateXDomain=c(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=c(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=c(t,"withTransitionForTransform",t.withTransition),e.updateSizes(),t.withLegend&&r.legend_show||(n=e.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),e.updateScales(),e.updateSvgSize(),e.transformAll(t.withTransitionForTransform,n)),e.redraw(t,n)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},t.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||v(t.data_xs))},t.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},t.prototype.getTranslate=function(t){var n,e,r=this,i=r.config;return"main"===t?(n=a(r.margin.left),e=a(r.margin.top)):"context"===t?(n=a(r.margin2.left),e=a(r.margin2.top)):"legend"===t?(n=r.margin3.left,e=r.margin3.top):"x"===t?(n=0,e=i.axis_rotated?0:r.height):"y"===t?(n=0,e=i.axis_rotated?r.height:0):"y2"===t?(n=i.axis_rotated?0:r.width,e=i.axis_rotated?1:0):"subx"===t?(n=0,e=i.axis_rotated?0:r.height2):"arc"===t&&(n=r.arcWidth/2,e=r.arcHeight/2-(r.hasType("gauge")?6:0)),"translate("+n+","+e+")"},t.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},t.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},t.prototype.opacityForCircle=function(t){var n=(p(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return y(t.value)?this.isScatterType(t)?.5:n:0},t.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},t.prototype.xx=function(t){return t?this.x(t.x):null},t.prototype.xv=function(t){var n=this,e=t.value;return n.isTimeSeries()?e=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(e=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(e))},t.prototype.yv=function(t){var n=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(n(t.value))},t.prototype.subxx=function(t){return t?this.subX(t.x):null},t.prototype.transformMain=function(t,n){var e,r,o,a=this;n&&n.axisX?e=n.axisX:(e=a.main.select("."+i.axisX),t&&(e=e.transition())),n&&n.axisY?r=n.axisY:(r=a.main.select("."+i.axisY),t&&(r=r.transition())),n&&n.axisY2?o=n.axisY2:(o=a.main.select("."+i.axisY2),t&&(o=o.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),e.attr("transform",a.getTranslate("x")),r.attr("transform",a.getTranslate("y")),o.attr("transform",a.getTranslate("y2")),a.main.select("."+i.chartArcs).attr("transform",a.getTranslate("arc"))},t.prototype.transformAll=function(t,n){var e=this;e.transformMain(t,n),e.config.subchart_show&&e.transformContext(t,n),e.legend&&e.transformLegend(t)},t.prototype.updateSvgSize=function(){var t=this,n=t.svg.select(".c3-brush .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",n.size()?n.attr("height"):0),t.selectChart.style("max-height",t.currentHeight+"px")},t.prototype.updateDimension=function(t){var n=this;t||(n.config.axis_rotated?(n.axes.x.call(n.xAxis),n.axes.subx.call(n.subXAxis)):(n.axes.y.call(n.yAxis),n.axes.y2.call(n.y2Axis))),n.updateSizes(),n.updateScales(),n.updateSvgSize(),n.transformAll(!1)},t.prototype.observeInserted=function(t){var n,e=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(n.disconnect(),e.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(e.intervalForObserveInserted),e.updateDimension(),e.brush&&e.brush.update(),e.config.oninit.call(e),e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})})).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},t.prototype.bindResize=function(){var t=this,n=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){n.onresize.call(t)}),n.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()},100)}),t.resizeFunction.add(function(){n.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var e=window.onresize;e?e.add&&e.remove||(e=t.generateResize()).add(window.onresize):e=t.generateResize(),e.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&e()}}},t.prototype.generateResize=function(){var t=[];function n(){t.forEach(function(t){t()})}return n.add=function(n){t.push(n)},n.remove=function(n){for(var e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}},n},t.prototype.endall=function(t,n){var e=0;t.each(function(){++e}).on("end",function(){--e||n.apply(this,arguments)})},t.prototype.generateWait=function(){var t=[],n=function(n){var e=setInterval(function(){var r=0;t.forEach(function(t){if(t.empty())r+=1;else try{t.transition()}catch(t){r+=1}}),r===t.length&&(clearInterval(e),n&&n())},50)};return n.add=function(n){t.push(n)},n},t.prototype.parseDate=function(t){var n;return t instanceof Date?n=t:"string"==typeof t?n=this.dataTimeParse(t):"object"===(void 0===t?"undefined":o(t))?n=new Date(+t):"number"!=typeof t||isNaN(t)||(n=new Date(+t)),n&&!isNaN(+n)||window.console.error("Failed to parse x '"+t+"' to Date object"),n},t.prototype.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},t.prototype.getPathBox=l,t.prototype.CLASS=i,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),e=this,r=function(){},i=function(){return e.apply(this instanceof r?this:t,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,n,e){this.pathSegType=t,this.pathSegTypeAsLetter=n,this._owningPathSegList=e},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=n,this._y=e},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=n,this._y=e},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=n,this._y=e},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=n,this._y=e},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,n,e,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=n,this._y=e,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,n,e,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=n,this._y=e,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,n,e,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=n,this._y=e,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,n,e,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=n,this._y=e,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,n,e,r,i,o,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=n,this._y=e,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=u},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,n,e,r,i,o,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=n,this._y=e,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=u},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=n},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=n},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=n},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=n},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,n,e,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=n,this._y=e,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,n,e,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=n,this._y=e,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=n,this._y=e},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,n,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=n,this._y=e},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,n){return new window.SVGPathSegMovetoAbs(void 0,t,n)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,n){return new window.SVGPathSegMovetoRel(void 0,t,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,n){return new window.SVGPathSegLinetoAbs(void 0,t,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,n){return new window.SVGPathSegLinetoRel(void 0,t,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,n,e,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,n,e,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,n,e,r,i,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,n,e,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,n,e,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,n,e,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,n,e,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,n,e,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,n,e,r,i,o,a){return new window.SVGPathSegArcAbs(void 0,t,n,e,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,n,e,r,i,o,a){return new window.SVGPathSegArcRel(void 0,t,n,e,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,n,e,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,n,e,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,n,e,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,n,e,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,n){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,n){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,n)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",this.getAttribute("d"));var e=n.pathSegList.numberOfItems-1;if(e<=0)return 0;do{if(n.pathSegList.removeItem(e),t>n.getTotalLength())break;e--}while(e>0);return e})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var n=!1;t.forEach(function(t){"d"==t.attributeName&&(n=!0)}),n&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,n){return this._checkPathSynchronizedToList(),n>this.numberOfItems&&(n=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(n,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,n){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(n),this._list[n]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var n=this._list[t];return this._list.splice(t,1),this._writeListToPath(),n},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var n="",e=!0;return t.forEach(function(t){e?(e=!1,n+=t._asPathString()):n+=" "+t._asPathString()}),n},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var n=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,n){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&n!=window.SVGPathSeg.PATHSEG_CLOSEPATH?n==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:n==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:n:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,n=0,e=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var u=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=u)for(var s=this._currentIndex-1,c=1;s>=u;)n+=c*(this._string.charAt(s--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)e*=10,r+=(this._string.charAt(this._currentIndex)-"0")/e,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var l=n+r;if(l*=i,t&&(l*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),l}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,n=this._string.charAt(this._currentIndex++);if("0"==n)t=!1;else{if("1"!=n)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e,e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(n);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(n,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(n,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(n,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(n,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(n,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(n,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(n,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(n,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new e,o=new r(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,n){return t>>=0,n=String(void 0!==n?n:" "),this.length>t?String(this):((t-=this.length)>n.length&&(n+=n.repeat(t/n.length)),String(this)+n.slice(0,t))}),n.prototype.axis=function(){},n.prototype.axis.labels=function(t){var n=this.internal;arguments.length&&(Object.keys(t).forEach(function(e){n.axis.setLabelText(e,t[e])}),n.axis.updateLabels())},n.prototype.axis.max=function(t){var n=this.internal,e=n.config;if(!arguments.length)return{x:e.axis_x_max,y:e.axis_y_max,y2:e.axis_y2_max};"object"===(void 0===t?"undefined":o(t))?(y(t.x)&&(e.axis_x_max=t.x),y(t.y)&&(e.axis_y_max=t.y),y(t.y2)&&(e.axis_y2_max=t.y2)):e.axis_y_max=e.axis_y2_max=t,n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},n.prototype.axis.min=function(t){var n=this.internal,e=n.config;if(!arguments.length)return{x:e.axis_x_min,y:e.axis_y_min,y2:e.axis_y2_min};"object"===(void 0===t?"undefined":o(t))?(y(t.x)&&(e.axis_x_min=t.x),y(t.y)&&(e.axis_y_min=t.y),y(t.y2)&&(e.axis_y2_min=t.y2)):e.axis_y_min=e.axis_y2_min=t,n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},n.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};h(t.max)&&this.axis.max(t.max),h(t.min)&&this.axis.min(t.min)},n.prototype.category=function(t,n){var e=this.internal,r=e.config;return arguments.length>1&&(r.axis_x_categories[t]=n,e.redraw()),r.axis_x_categories[t]},n.prototype.categories=function(t){var n=this.internal,e=n.config;return arguments.length?(e.axis_x_categories=t,n.redraw(),e.axis_x_categories):e.axis_x_categories},n.prototype.resize=function(t){var n=this.internal.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},n.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},n.prototype.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeIfElementDisplayed);else{var n=window.onresize;n&&n.add&&n.remove&&n.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(n){t[n]=null}),null},n.prototype.color=function(t){return this.internal.color(t)},n.prototype.data=function(t){var n=this.internal.data.targets;return void 0===t?n:n.filter(function(n){return[].concat(t).indexOf(n.id)>=0})},n.prototype.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},n.prototype.data.values=function(t){var n,e=null;return t&&(e=(n=this.data(t))[0]?n[0].values.map(function(t){return t.value}):null),e},n.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},n.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},n.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},n.prototype.flow=function(t){var n,e,r,i,o,a,u,s=this.internal,c=[],l=s.getMaxDataCount(),f=0,d=0;if(t.json)e=s.convertJsonToData(t.json,t.keys);else if(t.rows)e=s.convertRowsToData(t.rows);else{if(!t.columns)return;e=s.convertColumnsToData(t.columns)}n=s.convertDataToTargets(e,!0),s.data.targets.forEach(function(t){var e,r,i=!1;for(e=0;e<n.length;e++)if(t.id===n[e].id){for(i=!0,t.values[t.values.length-1]&&(d=t.values[t.values.length-1].index+1),f=n[e].values.length,r=0;r<f;r++)n[e].values[r].index=d+r,s.isTimeSeries()||(n[e].values[r].x=d+r);t.values=t.values.concat(n[e].values),n.splice(e,1);break}i||c.push(t.id)}),s.data.targets.forEach(function(t){var n,e;for(n=0;n<c.length;n++)if(t.id===c[n])for(d=t.values[t.values.length-1].index+1,e=0;e<f;e++)t.values.push({id:t.id,index:d+e,x:s.isTimeSeries()?s.getOtherTargetX(d+e):d+e,value:null})}),s.data.targets.length&&n.forEach(function(t){var n,e=[];for(n=s.data.targets[0].values[0].index;n<d;n++)e.push({id:t.id,index:n,x:s.isTimeSeries()?s.getOtherTargetX(n):n,value:null});t.values.forEach(function(t){t.index+=d,s.isTimeSeries()||(t.x+=d)}),t.values=e.concat(t.values)}),s.data.targets=s.data.targets.concat(n),s.getMaxDataCount(),o=(i=s.data.targets[0]).values[0],h(t.to)?(f=0,u=s.isTimeSeries()?s.parseDate(t.to):t.to,i.values.forEach(function(t){t.x<u&&f++})):h(t.length)&&(f=t.length),l?1===l&&s.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,r=[new Date(+o.x-a),new Date(+o.x+a)],s.updateXDomain(null,!0,!0,!1,r)):(a=s.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-o.x:o.x-s.getXDomain(s.data.targets)[0]:1,r=[o.x-a,o.x],s.updateXDomain(null,!0,!0,!1,r)),s.updateTargets(s.data.targets),s.redraw({flow:{index:o.index,length:f,duration:y(t.duration)?t.duration:s.config.transition_duration,done:t.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})},t.prototype.generateFlow=function(t){var n=this,e=n.config,r=n.d3;return function(){var o,a,u,c,l,f,h,d,p,g,_,y=t.targets,v=t.flow,x=t.drawBar,m=t.drawLine,b=t.drawArea,w=t.cx,S=t.cy,A=t.xv,T=t.xForText,P=t.yForText,M=t.duration,C=v.index,E=v.length,L=n.getValueOnIndex(n.data.targets[0].values,C),k=n.getValueOnIndex(n.data.targets[0].values,C+E),O=n.x.domain(),V=v.duration||M,G=v.done||function(){},N=n.generateWait();n.flowing=!0,n.data.targets.forEach(function(t){t.values.splice(0,E)}),u=n.updateXDomain(y,!0,!0),n.updateXGrid&&n.updateXGrid(!0),c=n.xgrid||r.selectAll([]),l=n.xgridLines||r.selectAll([]),f=n.mainRegion||r.selectAll([]),h=n.mainText||r.selectAll([]),d=n.mainBar||r.selectAll([]),p=n.mainLine||r.selectAll([]),g=n.mainArea||r.selectAll([]),_=n.mainCircle||r.selectAll([]),v.orgDataCount?o=1===v.orgDataCount||(L&&L.x)===(k&&k.x)?n.x(O[0])-n.x(u[0]):n.isTimeSeries()?n.x(O[0])-n.x(u[0]):n.x(L.x)-n.x(k.x):1!==n.data.targets[0].values.length?o=n.x(O[0])-n.x(u[0]):n.isTimeSeries()?(L=n.getValueOnIndex(n.data.targets[0].values,0),k=n.getValueOnIndex(n.data.targets[0].values,n.data.targets[0].values.length-1),o=n.x(L.x)-n.x(k.x)):o=s(u)/2,a="translate("+o+",0) scale("+s(O)/s(u)+",1)",n.hideXGridFocus();var R=r.transition().ease(r.easeLinear).duration(V);N.add(n.xAxis(n.axes.x,R)),N.add(d.transition(R).attr("transform",a)),N.add(p.transition(R).attr("transform",a)),N.add(g.transition(R).attr("transform",a)),N.add(_.transition(R).attr("transform",a)),N.add(h.transition(R).attr("transform",a)),N.add(f.filter(n.isRegionOnX).transition(R).attr("transform",a)),N.add(c.transition(R).attr("transform",a)),N.add(l.transition(R).attr("transform",a)),N(function(){var t,r=[],o=[];if(E){for(t=0;t<E;t++)r.push("."+i.shape+"-"+(C+t)),o.push("."+i.text+"-"+(C+t));n.svg.selectAll("."+i.shapes).selectAll(r).remove(),n.svg.selectAll("."+i.texts).selectAll(o).remove(),n.svg.select("."+i.xgrid).remove()}c.attr("transform",null).attr("x1",n.xgridAttr.x1).attr("x2",n.xgridAttr.x2).attr("y1",n.xgridAttr.y1).attr("y2",n.xgridAttr.y2).style("opacity",n.xgridAttr.opacity),l.attr("transform",null),l.select("line").attr("x1",e.axis_rotated?0:A).attr("x2",e.axis_rotated?n.width:A),l.select("text").attr("x",e.axis_rotated?n.width:0).attr("y",A),d.attr("transform",null).attr("d",x),p.attr("transform",null).attr("d",m),g.attr("transform",null).attr("d",b),_.attr("transform",null).attr("cx",w).attr("cy",S),h.attr("transform",null).attr("x",T).attr("y",P).style("fill-opacity",n.opacityForText.bind(n)),f.attr("transform",null),f.filter(n.isRegionOnX).attr("x",n.regionX.bind(n)).attr("width",n.regionWidth.bind(n)),G(),n.flowing=!1})}},n.prototype.focus=function(t){var n,e=this.internal;t=e.mapToTargetIds(t),n=e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))),this.revert(),this.defocus(),n.classed(i.focused,!0).classed(i.defocused,!1),e.hasArcType()&&e.expandArc(t),e.toggleFocusLegend(t,!0),e.focusedTargetIds=t,e.defocusedTargetIds=e.defocusedTargetIds.filter(function(n){return t.indexOf(n)<0})},n.prototype.defocus=function(t){var n=this.internal;t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))).classed(i.focused,!1).classed(i.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(n){return t.indexOf(n)<0}),n.defocusedTargetIds=t},n.prototype.revert=function(t){var n=this.internal;t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t)).classed(i.focused,!1).classed(i.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(i.legendItemFocused)}).classed(i.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},n.prototype.xgrids=function(t){var n=this.internal,e=n.config;return t?(e.grid_x_lines=t,n.redrawWithoutRescale(),e.grid_x_lines):e.grid_x_lines},n.prototype.xgrids.add=function(t){var n=this.internal;return this.xgrids(n.config.grid_x_lines.concat(t||[]))},n.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},n.prototype.ygrids=function(t){var n=this.internal,e=n.config;return t?(e.grid_y_lines=t,n.redrawWithoutRescale(),e.grid_y_lines):e.grid_y_lines},n.prototype.ygrids.add=function(t){var n=this.internal;return this.ygrids(n.config.grid_y_lines.concat(t||[]))},n.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},n.prototype.groups=function(t){var n=this.internal,e=n.config;return _(t)?e.data_groups:(e.data_groups=t,n.redraw(),e.data_groups)},n.prototype.legend=function(){},n.prototype.legend.show=function(t){var n=this.internal;n.showLegend(n.mapToTargetIds(t)),n.updateAndRedraw({withLegend:!0})},n.prototype.legend.hide=function(t){var n=this.internal;n.hideLegend(n.mapToTargetIds(t)),n.updateAndRedraw({withLegend:!1})},n.prototype.load=function(t){var e=this.internal,r=e.config;t.xs&&e.addXs(t.xs),"names"in t&&n.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(n){r.data_classes[n]=t.classes[n]}),"categories"in t&&e.isCategorized()&&(r.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(n){r.data_axes[n]=t.axes[n]}),"colors"in t&&Object.keys(t.colors).forEach(function(n){r.data_colors[n]=t.colors[n]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},n.prototype.unload=function(t){var n=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),n.unload(n.mapToTargetIds(t.ids),function(){n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},n.prototype.regions=function(t){var n=this.internal,e=n.config;return t?(e.regions=t,n.redrawWithoutRescale(),e.regions):e.regions},n.prototype.regions.add=function(t){var n=this.internal,e=n.config;return t?(e.regions=e.regions.concat(t),n.redrawWithoutRescale(),e.regions):e.regions},n.prototype.regions.remove=function(t){var n,e,r,o=this.internal,a=o.config;return t=t||{},n=o.getOption(t,"duration",a.transition_duration),e=o.getOption(t,"classes",[i.region]),r=o.main.select("."+i.regions).selectAll(e.map(function(t){return"."+t})),(n?r.transition().duration(n):r).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var n=!1;return!t.class||(t.class.split(" ").forEach(function(t){e.indexOf(t)>=0&&(n=!0)}),!n)}),a.regions},n.prototype.selected=function(t){var n=this.internal,e=n.d3;return e.merge(n.main.selectAll("."+i.shapes+n.getTargetSelectorSuffix(t)).selectAll("."+i.shape).filter(function(){return e.select(this).classed(i.SELECTED)}).map(function(t){return t.map(function(t){var n=t.__data__;return n.data?n.data:n})}))},n.prototype.select=function(t,n,e){var r=this.internal,o=r.d3,a=r.config;a.data_selection_enabled&&r.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(u,s){var c=o.select(this),l=u.data?u.data.id:u.id,f=r.getToggle(this,u).bind(r),d=a.data_selection_grouped||!t||t.indexOf(l)>=0,p=!n||n.indexOf(s)>=0,g=c.classed(i.SELECTED);c.classed(i.line)||c.classed(i.area)||(d&&p?a.data_selection_isselectable(u)&&!g&&f(!0,c.classed(i.SELECTED,!0),u,s):h(e)&&e&&g&&f(!1,c.classed(i.SELECTED,!1),u,s))})},n.prototype.unselect=function(t,n){var e=this.internal,r=e.d3,o=e.config;o.data_selection_enabled&&e.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(a,u){var s=r.select(this),c=a.data?a.data.id:a.id,l=e.getToggle(this,a).bind(e),f=o.data_selection_grouped||!t||t.indexOf(c)>=0,h=!n||n.indexOf(u)>=0,d=s.classed(i.SELECTED);s.classed(i.line)||s.classed(i.area)||f&&h&&o.data_selection_isselectable(a)&&d&&l(!1,s.classed(i.SELECTED,!1),a,u)})},n.prototype.show=function(t,n){var e,r=this.internal;t=r.mapToTargetIds(t),n=n||{},r.removeHiddenTargetIds(t),(e=r.svg.selectAll(r.selectorTargets(t))).transition().style("display","initial","important").style("opacity",1,"important").call(r.endall,function(){e.style("opacity",null).style("opacity",1)}),n.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},n.prototype.hide=function(t,n){var e,r=this.internal;t=r.mapToTargetIds(t),n=n||{},r.addHiddenTargetIds(t),(e=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,function(){e.style("opacity",null).style("opacity",0),e.style("display","none")}),n.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},n.prototype.toggle=function(t,n){var e=this,r=this.internal;r.mapToTargetIds(t).forEach(function(t){r.isTargetToShow(t)?e.hide(t,n):e.show(t,n)})},n.prototype.tooltip=function(){},n.prototype.tooltip.show=function(t){var n,e,r=this.internal,i={};t.mouse?i=t.mouse:(t.data?e=t.data:void 0!==t.x&&(n=t.id?r.data.targets.filter(function(n){return n.id===t.id}):r.data.targets,e=r.filterByX(n,t.x).slice(0,1)[0]),i=e?r.getMousePosition(e):null),r.dispatchEvent("mousemove",i),r.config.tooltip_onshow.call(r,e)},n.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},n.prototype.transform=function(t,n){var e=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;e.transformTo(n,t,r)},t.prototype.transformTo=function(t,n,e){var r=this,i=!r.hasArcType(),o=e||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,n),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},n.prototype.x=function(t){var n=this.internal;return arguments.length&&(n.updateTargetX(n.data.targets,t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),n.data.xs},n.prototype.xs=function(t){var n=this.internal;return arguments.length&&(n.updateTargetXs(n.data.targets,t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),n.data.xs},n.prototype.zoom=function(t){var n=this.internal;return t?(n.isTimeSeries()&&(t=t.map(function(t){return n.parseDate(t)})),n.config.subchart_show?n.brush.selectionAsValue(t,!0):(n.updateXDomain(null,!0,!1,!1,t),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1})),n.config.zoom_onzoom.call(this,n.x.orgDomain()),t):n.x.domain()},n.prototype.zoom.enable=function(t){var n=this.internal;n.config.zoom_enabled=t,n.updateAndRedraw()},n.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},n.prototype.zoom.max=function(t){var n=this.internal,e=n.config,r=n.d3;if(0!==t&&!t)return e.zoom_x_max;e.zoom_x_max=r.max([n.orgXDomain[1],t])},n.prototype.zoom.min=function(t){var n=this.internal,e=n.config,r=n.d3;if(0!==t&&!t)return e.zoom_x_min;e.zoom_x_min=r.min([n.orgXDomain[0],t])},n.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};h(t.max)&&this.domain.max(t.max),h(t.min)&&this.domain.min(t.min)},t.prototype.initPie=function(){var t=this,n=t.d3;t.pie=n.pie().value(function(t){return t.values.reduce(function(t,n){return t+n.value},0)});var e=t.getOrderFunction();if(e&&(t.isOrderAsc()||t.isOrderDesc())){var r=e;e=function(t,n){return-1*r(t,n)}}t.pie.sort(e||null)},t.prototype.updateRadius=function(){var t=this,n=t.config,e=n.gauge_width||n.donut_width,r=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=e?(t.radius-e)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=e||(r<=t.radius-t.innerRadius?t.radius-t.innerRadius:r<=t.radius?r:t.radius)},t.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},t.prototype.updateAngle=function(t){var n,e,r,i,o=this,a=o.config,u=!1,s=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(n){u||n.data.id!==t.data.id||(u=!0,(t=n).index=s),s++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(n=a.gauge_min,e=a.gauge_max,r=Math.PI*(a.gauge_fullCircle?2:1)/(e-n),i=t.value<n?0:t.value<e?t.value-n:e-n,t.startAngle=a.gauge_startingAngle,t.endAngle=t.startAngle+r*i),u?t:null):null},t.prototype.getSvgArc=function(){var t=this,n=t.hasType("gauge"),e=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,r=t.d3.arc().outerRadius(function(r){return n?t.radius-e*r.index:t.radius}).innerRadius(function(r){return n?t.radius-e*(r.index+1):t.innerRadius}),i=function(n,e){var i;return e?r(n):(i=t.updateAngle(n))?r(i):"M 0 0"};return i.centroid=r.centroid,i},t.prototype.getSvgArcExpanded=function(t){t=t||1;var n=this,e=n.hasType("gauge"),r=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,i=Math.min(n.radiusExpanded*t-n.radius,.8*r-100*(1-t)),o=n.d3.arc().outerRadius(function(o){return e?n.radius-r*o.index+i:n.radiusExpanded*t}).innerRadius(function(t){return e?n.radius-r*(t.index+1):n.innerRadius});return function(t){var e=n.updateAngle(t);return e?o(e):"M 0 0"}},t.prototype.getArc=function(t,n,e){return e||this.isArcType(t.data)?this.svgArc(t,n):"M 0 0"},t.prototype.transformForArcLabel=function(t){var n,e,r,i,o,a=this,u=a.config,s=a.updateAngle(t),c="",l=a.hasType("gauge");if(s&&!l)n=this.svgArc.centroid(s),e=isNaN(n[0])?0:n[0],r=isNaN(n[1])?0:n[1],i=Math.sqrt(e*e+r*r),c="translate("+e*(o=a.hasType("donut")&&u.donut_label_ratio?p(u.donut_label_ratio)?u.donut_label_ratio(t,a.radius,i):u.donut_label_ratio:a.hasType("pie")&&u.pie_label_ratio?p(u.pie_label_ratio)?u.pie_label_ratio(t,a.radius,i):u.pie_label_ratio:a.radius&&i?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/i:0)+","+r*o+")";else if(s&&l&&a.filterTargetsToShow(a.data.targets).length>1){var f=Math.sin(s.endAngle-Math.PI/2);c="translate("+(e=Math.cos(s.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(r=f*(a.radiusExpanded+15-Math.abs(10*f))+3)+")"}return c},t.prototype.getArcRatio=function(t){var n=this.config,e=Math.PI*(this.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/e:null},t.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},t.prototype.textForArcLabel=function(t){var n,e,r,i,o,a=this;return a.shouldShowArcLabel()?(e=(n=a.updateAngle(t))?n.value:null,r=a.getArcRatio(n),i=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat())?o(e,r,i):a.defaultArcValueFormat(e,r):""):""},t.prototype.textForGaugeMinMax=function(t,n){var e=this.getGaugeLabelExtents();return e?e(t,n):t},t.prototype.expandArc=function(t){var n,e=this;e.transiting?n=window.setInterval(function(){e.transiting||(window.clearInterval(n),e.legend.selectAll(".c3-legend-item-focused").size()>0&&e.expandArc(t))},10):(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+i.chartArc)).each(function(t){e.shouldExpand(t.data.id)&&e.d3.select(this).selectAll("path").transition().duration(e.expandDuration(t.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(t.data.id)).attr("d",e.svgArcExpandedSub).each(function(t){e.isDonutType(t.data)})}))},t.prototype.unexpandArc=function(t){var n=this;n.transiting||(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+i.chartArc)).selectAll("path").transition().duration(function(t){return n.expandDuration(t.data.id)}).attr("d",n.svgArc),n.svg.selectAll("."+i.arc))},t.prototype.expandDuration=function(t){var n=this.config;return this.isDonutType(t)?n.donut_expand_duration:this.isGaugeType(t)?n.gauge_expand_duration:this.isPieType(t)?n.pie_expand_duration:50},t.prototype.shouldExpand=function(t){var n=this.config;return this.isDonutType(t)&&n.donut_expand||this.isGaugeType(t)&&n.gauge_expand||this.isPieType(t)&&n.pie_expand},t.prototype.shouldShowArcLabel=function(){var t=this.config,n=!0;return this.hasType("donut")?n=t.donut_label_show:this.hasType("pie")&&(n=t.pie_label_show),n},t.prototype.meetsArcLabelThreshold=function(t){var n=this.config;return t>=(this.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)},t.prototype.getArcLabelFormat=function(){var t=this.config,n=t.pie_label_format;return this.hasType("gauge")?n=t.gauge_label_format:this.hasType("donut")&&(n=t.donut_label_format),n},t.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},t.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},t.prototype.updateTargetsForArc=function(t){var n,e=this,r=e.main,o=e.classChartArc.bind(e),a=e.classArcs.bind(e),u=e.classFocus.bind(e);(n=r.select("."+i.chartArcs).selectAll("."+i.chartArc).data(e.pie(t)).attr("class",function(t){return o(t)+u(t.data)}).enter().append("g").attr("class",o)).append("g").attr("class",a),n.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},t.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},t.prototype.redrawArc=function(t,n,e){var r,o,a,u,s=this,c=s.d3,l=s.config,f=s.main,h=s.hasType("gauge");if(o=(r=f.selectAll("."+i.arcs).selectAll("."+i.arc).data(s.arcData.bind(s))).enter().append("path").attr("class",s.classArc.bind(s)).style("fill",function(t){return s.color(t.data)}).style("cursor",function(t){return l.interaction_enabled&&l.data_selection_isselectable(t)?"pointer":null}).each(function(t){s.isGaugeType(t.data)&&(t.startAngle=t.endAngle=l.gauge_startingAngle),this._current=t}).merge(r),h&&(u=(a=f.selectAll("."+i.arcs).selectAll("."+i.arcLabelLine).data(s.arcData.bind(s))).enter().append("rect").attr("class",function(t){return i.arcLabelLine+" "+i.target+" "+i.target+"-"+t.data.id}).merge(a),1===s.filterTargetsToShow(s.data.targets).length?u.style("display","none"):u.style("fill",function(t){return l.color_pattern.length>0?s.levelColor(t.data.values[0].value):s.color(t.data)}).style("display",l.gauge_labelLine_show?"":"none").each(function(t){var n=0,e=0,r=0,i="";if(s.hiddenTargetIds.indexOf(t.data.id)<0){var o=s.updateAngle(t),a=s.gaugeArcWidth/s.filterTargetsToShow(s.data.targets).length*(o.index+1),u=o.endAngle-Math.PI/2,l=s.radius-a,f=u-(0===l?0:1/l);n=s.radiusExpanded-s.radius+a,e=Math.cos(f)*l,r=Math.sin(f)*l,i="rotate("+180*u/Math.PI+", "+e+", "+r+")"}c.select(this).attr("x",e).attr("y",r).attr("width",n).attr("height",2).attr("transform",i).style("stroke-dasharray","0, "+(n+2)+", 0")})),o.attr("transform",function(t){return!s.isGaugeType(t.data)&&e?"scale(0)":""}).on("mouseover",l.interaction_enabled?function(t){var n,e;s.transiting||(n=s.updateAngle(t))&&(e=s.convertToArcData(n),s.expandArc(n.data.id),s.api.focus(n.data.id),s.toggleFocusLegend(n.data.id,!0),s.config.data_onmouseover(e,this))}:null).on("mousemove",l.interaction_enabled?function(t){var n,e=s.updateAngle(t);e&&(n=[s.convertToArcData(e)],s.showTooltip(n,this))}:null).on("mouseout",l.interaction_enabled?function(t){var n,e;s.transiting||(n=s.updateAngle(t))&&(e=s.convertToArcData(n),s.unexpandArc(n.data.id),s.api.revert(),s.revertLegend(),s.hideTooltip(),s.config.data_onmouseout(e,this))}:null).on("click",l.interaction_enabled?function(t,n){var e,r=s.updateAngle(t);r&&(e=s.convertToArcData(r),s.toggleShape&&s.toggleShape(this,e,n),s.config.data_onclick.call(s.api,e,this))}:null).each(function(){s.transiting=!0}).transition().duration(t).attrTween("d",function(t){var n,e=s.updateAngle(t);return e?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=c.interpolate(this._current,e),this._current=n(0),function(e){var r=n(e);return r.data=t.data,s.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",e?"scale(1)":"").style("fill",function(t){return s.levelColor?s.levelColor(t.data.values[0].value):s.color(t.data.id)}).call(s.endall,function(){s.transiting=!1}),r.exit().transition().duration(n).style("opacity",0).remove(),f.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",function(t){return s.isGaugeType(t.data)?i.gaugeValue:""}).text(s.textForArcLabel.bind(s)).attr("transform",s.transformForArcLabel.bind(s)).style("font-size",function(t){return s.isGaugeType(t.data)&&1===s.filterTargetsToShow(s.data.targets).length?Math.round(s.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return s.isTargetToShow(t.data.id)&&s.isArcType(t.data)?1:0}),f.select("."+i.chartArcsTitle).style("opacity",s.hasType("donut")||h?1:0),h){var d=0,p=s.arcs.select("g."+i.chartArcsBackground).selectAll("path."+i.chartArcsBackground).data(s.data.targets);p.enter().append("path").attr("class",function(t,n){return i.chartArcsBackground+" "+i.chartArcsBackground+"-"+n}).merge(p).attr("d",function(t){if(s.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var n={data:[{value:l.gauge_max}],startAngle:l.gauge_startingAngle,endAngle:-1*l.gauge_startingAngle*(l.gauge_fullCircle?Math.PI:1),index:d++};return s.getArc(n,!0,!0)}),p.exit().remove(),s.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(l.gauge_label_show?l.gauge_units:""),s.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(s.innerRadius+(s.radius-s.innerRadius)/(l.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(l.gauge_label_show?s.textForGaugeMinMax(l.gauge_min,!1):""),s.arcs.select("."+i.chartArcsGaugeMax).attr("dx",s.innerRadius+(s.radius-s.innerRadius)/(l.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(l.gauge_label_show?s.textForGaugeMinMax(l.gauge_max,!0):"")}},t.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",i.chartArcsBackground),t.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},t.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},t.prototype.hasCaches=function(t){for(var n=0;n<t.length;n++)if(!(t[n]in this.cache))return!1;return!0},t.prototype.addCache=function(t,n){this.cache[t]=this.cloneTarget(n)},t.prototype.getCaches=function(t){var n,e=[];for(n=0;n<t.length;n++)t[n]in this.cache&&e.push(this.cloneTarget(this.cache[t[n]]));return e},t.prototype.categoryName=function(t){var n=this.config;return t<n.axis_x_categories.length?n.axis_x_categories[t]:t},t.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},t.prototype.generateClass=function(t,n){return" "+t+" "+t+this.generateTargetClass(n)},t.prototype.classText=function(t){return this.generateClass(i.text,t.index)},t.prototype.classTexts=function(t){return this.generateClass(i.texts,t.id)},t.prototype.classShape=function(t){return this.generateClass(i.shape,t.index)},t.prototype.classShapes=function(t){return this.generateClass(i.shapes,t.id)},t.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(i.line,t.id)},t.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(i.lines,t.id)},t.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(i.circle,t.index)},t.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(i.circles,t.id)},t.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(i.bar,t.index)},t.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(i.bars,t.id)},t.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(i.arc,t.data.id)},t.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(i.arcs,t.data.id)},t.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(i.area,t.id)},t.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(i.areas,t.id)},t.prototype.classRegion=function(t,n){return this.generateClass(i.region,n)+" "+("class"in t?t.class:"")},t.prototype.classEvent=function(t){return this.generateClass(i.eventRect,t.index)},t.prototype.classTarget=function(t){var n=this.config.data_classes[t],e="";return n&&(e=" "+i.target+"-"+n),this.generateClass(i.target,t)+e},t.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},t.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?i.focused:"")},t.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?i.defocused:"")},t.prototype.classChartText=function(t){return i.chartText+this.classTarget(t.id)},t.prototype.classChartLine=function(t){return i.chartLine+this.classTarget(t.id)},t.prototype.classChartBar=function(t){return i.chartBar+this.classTarget(t.id)},t.prototype.classChartArc=function(t){return i.chartArc+this.classTarget(t.data.id)},t.prototype.getTargetSelectorSuffix=function(t){return this.generateTargetClass(t).replace(/([?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},t.prototype.selectorTarget=function(t,n){return(n||"")+"."+i.target+this.getTargetSelectorSuffix(t)},t.prototype.selectorTargets=function(t,n){var e=this;return(t=t||[]).length?t.map(function(t){return e.selectorTarget(t,n)}):null},t.prototype.selectorLegend=function(t){return"."+i.legendItem+this.getTargetSelectorSuffix(t)},t.prototype.selectorLegends=function(t){var n=this;return t&&t.length?t.map(function(t){return n.selectorLegend(t)}):null},t.prototype.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},t.prototype.appendClip=function(t,n){return t.append("clipPath").attr("id",n).append("rect")},t.prototype.getAxisClipX=function(t){var n=Math.max(30,this.margin.left);return t?-(1+n):-(n-1)},t.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},t.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},t.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},t.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},t.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},t.prototype.getAxisClipWidth=function(t){var n=Math.max(30,this.margin.left),e=Math.max(30,this.margin.right);return t?this.width+2+n+e:this.margin.left+20},t.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},t.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},t.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},t.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},t.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},t.prototype.generateColor=function(){var t=this.config,n=this.d3,e=t.data_colors,r=v(t.color_pattern)?t.color_pattern:n.schemeCategory10,i=t.data_color,o=[];return function(t){var n,a=t.id||t.data&&t.data.id||t;return e[a]instanceof Function?n=e[a](t):e[a]?n=e[a]:(o.indexOf(a)<0&&o.push(a),n=r[o.indexOf(a)%r.length],e[a]=n),i instanceof Function?i(n,t):n}},t.prototype.generateLevelColor=function(){var t=this.config,n=t.color_pattern,e=t.color_threshold,r="value"===e.unit,i=e.values&&e.values.length?e.values:[],o=e.max||100;return v(t.color_threshold)?function(t){var e,a=n[n.length-1];for(e=0;e<i.length;e++)if((r?t:100*t/o)<i[e]){a=n[e];break}return a}:null},t.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,n,e,r){return this.getTooltipContent?this.getTooltipContent(t,n,e,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(n){t[n]=this.additionalConfig[n]},this),t},t.prototype.additionalConfig={},t.prototype.loadConfig=function(t){var n,e,r,i=this.config;Object.keys(i).forEach(function(a){n=t,e=a.split("_"),r=function t(){var r=e.shift();return r&&n&&"object"===(void 0===n?"undefined":o(n))&&r in n?(n=n[r],t()):r?void 0:n}(),h(r)&&(i[a]=r)})},t.prototype.convertUrlToData=function(t,n,e,r,i){var o,a,u=this,s=n||"csv";"json"===s?(o=u.d3.json,a=u.convertJsonToData):"tsv"===s?(o=u.d3.tsv,a=u.convertXsvToData):(o=u.d3.csv,a=u.convertXsvToData),o(t,e).then(function(t){i.call(u,a.call(u,t,r))}).catch(function(t){throw t})},t.prototype.convertXsvToData=function(t){var n=t.columns;return 0===t.length?{keys:n,rows:[n.reduce(function(t,n){return Object.assign(t,function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}({},n,null))},{})]}:{keys:n,rows:[].concat(t)}},t.prototype.convertJsonToData=function(t,n){var e,r,i=this,o=[];return n?(n.x?(e=n.value.concat(n.x),i.config.data_x=n.x):e=n.value,o.push(e),t.forEach(function(t){var n=[];e.forEach(function(e){var r=i.findValueInJson(t,e);_(r)&&(r=null),n.push(r)}),o.push(n)}),r=i.convertRowsToData(o)):(Object.keys(t).forEach(function(n){o.push([n].concat(t[n]))}),r=i.convertColumnsToData(o)),r},t.prototype.findValueInJson=function(t,n){for(var e=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<e.length;++r){var i=e[r];if(!(i in t))return;t=t[i]}return t},t.prototype.convertRowsToData=function(t){for(var n=[],e=t[0],r=1;r<t.length;r++){for(var i={},o=0;o<t[r].length;o++){if(_(t[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");i[e[o]]=t[r][o]}n.push(i)}return{keys:e,rows:n}},t.prototype.convertColumnsToData=function(t){for(var n=[],e=[],r=0;r<t.length;r++){for(var i=t[r][0],o=1;o<t[r].length;o++){if(_(n[o-1])&&(n[o-1]={}),_(t[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");n[o-1][i]=t[r][o]}e.push(i)}return{keys:e,rows:n}},t.prototype.convertDataToTargets=function(t,n){var e,r,i,o,a=this,u=a.config;return f(t)?o=Object.keys(t[0]):(o=t.keys,t=t.rows),r=o.filter(a.isNotX,a),i=o.filter(a.isX,a),r.forEach(function(e){var r=a.getXKey(e);a.isCustomX()||a.isTimeSeries()?i.indexOf(r)>=0?a.data.xs[e]=(n&&a.data.xs[e]?a.data.xs[e]:[]).concat(t.map(function(t){return t[r]}).filter(y).map(function(t,n){return a.generateTargetX(t,e,n)})):u.data_x?a.data.xs[e]=a.getOtherTargetXs():v(u.data_xs)&&(a.data.xs[e]=a.getXValuesOfXKey(r,a.data.targets)):a.data.xs[e]=t.map(function(t,n){return n})}),r.forEach(function(t){if(!a.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=r.map(function(n,e){var r=u.data_idConverter(n);return{id:r,id_org:n,values:t.map(function(t,i){var o,s=t[a.getXKey(n)],c=null===t[n]||isNaN(t[n])?null:+t[n];return a.isCustomX()&&a.isCategorized()&&!_(s)?(0===e&&0===i&&(u.axis_x_categories=[]),-1===(o=u.axis_x_categories.indexOf(s))&&(o=u.axis_x_categories.length,u.axis_x_categories.push(s))):o=a.generateTargetX(s,n,i),(_(t[n])||a.data.xs[n].length<=i)&&(o=void 0),{x:o,value:c,id:r}}).filter(function(t){return h(t.x)})}})).forEach(function(t){var n;u.data_xSort&&(t.values=t.values.sort(function(t,n){return(t.x||0===t.x?t.x:1/0)-(n.x||0===n.x?n.x:1/0)})),n=0,t.values.forEach(function(t){t.index=n++}),a.data.xs[t.id].sort(function(t,n){return t-n})}),a.hasNegativeValue=a.hasNegativeValueInTargets(e),a.hasPositiveValue=a.hasPositiveValueInTargets(e),u.data_type&&a.setTargetType(a.mapToIds(e).filter(function(t){return!(t in u.data_types)}),u.data_type),e.forEach(function(t){a.addCache(t.id_org,t)}),e},t.prototype.isX=function(t){var n=this.config;return n.data_x&&t===n.data_x||v(n.data_xs)&&function(t,n){var e=!1;return Object.keys(t).forEach(function(r){t[r]===n&&(e=!0)}),e}(n.data_xs,t)},t.prototype.isNotX=function(t){return!this.isX(t)},t.prototype.getXKey=function(t){var n=this.config;return n.data_x?n.data_x:v(n.data_xs)?n.data_xs[t]:null},t.prototype.getXValuesOfXKey=function(t,n){var e,r=this;return(n&&v(n)?r.mapToIds(n):[]).forEach(function(n){r.getXKey(n)===t&&(e=r.data.xs[n])}),e},t.prototype.getXValue=function(t,n){return t in this.data.xs&&this.data.xs[t]&&y(this.data.xs[t][n])?this.data.xs[t][n]:n},t.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},t.prototype.getOtherTargetX=function(t){var n=this.getOtherTargetXs();return n&&t<n.length?n[t]:null},t.prototype.addXs=function(t){var n=this;Object.keys(t).forEach(function(e){n.config.data_xs[e]=t[e]})},t.prototype.addName=function(t){var n;return t&&(n=this.config.data_names[t.id],t.name=void 0!==n?n:t.id),t},t.prototype.getValueOnIndex=function(t,n){var e=t.filter(function(t){return t.index===n});return e.length?e[0]:null},t.prototype.updateTargetX=function(t,n){var e=this;t.forEach(function(t){t.values.forEach(function(r,i){r.x=e.generateTargetX(n[i],t.id,i)}),e.data.xs[t.id]=n})},t.prototype.updateTargetXs=function(t,n){var e=this;t.forEach(function(t){n[t.id]&&e.updateTargetX([t],n[t.id])})},t.prototype.generateTargetX=function(t,n,e){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(n,e)):r.isCustomX()&&!r.isCategorized()?y(t)?+t:r.getXValue(n,e):e},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},t.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},t.prototype.mapToIds=function(t){return t.map(function(t){return t.id})},t.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},t.prototype.hasTarget=function(t,n){var e,r=this.mapToIds(t);for(e=0;e<r.length;e++)if(r[e]===n)return!0;return!1},t.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},t.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},t.prototype.filterTargetsToShow=function(t){var n=this;return t.filter(function(t){return n.isTargetToShow(t.id)})},t.prototype.mapTargetsToUniqueXs=function(t){var n=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(n=this.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t})).sort(function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN})},t.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var n=0;n<t.length;n++)this.hiddenTargetIds.indexOf(t[n])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[n]))},t.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(n){return t.indexOf(n)<0})},t.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var n=0;n<t.length;n++)this.hiddenLegendIds.indexOf(t[n])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[n]))},t.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(n){return t.indexOf(n)<0})},t.prototype.getValuesAsIdKeyed=function(t){var n={};return t.forEach(function(t){n[t.id]=[],t.values.forEach(function(e){n[t.id].push(e.value)})}),n},t.prototype.checkValueInTargets=function(t,n){var e,r,i,o=Object.keys(t);for(e=0;e<o.length;e++)for(i=t[o[e]].values,r=0;r<i.length;r++)if(n(i[r].value))return!0;return!1},t.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},t.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},t.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},t.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},t.prototype.getOrderFunction=function(){var t=this.config,n=this.isOrderAsc(),e=this.isOrderDesc();if(n||e){var r=function(t,n){return t+Math.abs(n.value)};return function(t,e){var i=t.values.reduce(r,0),o=e.values.reduce(r,0);return n?o-i:i-o}}if(p(t.data_order))return t.data_order;if(f(t.data_order)){var i=t.data_order;return function(t,n){return i.indexOf(t.id)-i.indexOf(n.id)}}},t.prototype.orderTargets=function(t){var n=this.getOrderFunction();return n&&t.sort(n),t},t.prototype.filterByX=function(t,n){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-n==0})},t.prototype.filterRemoveNull=function(t){return t.filter(function(t){return y(t.value)})},t.prototype.filterByXDomain=function(t,n){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return n[0]<=t.x&&t.x<=n[1]})}})},t.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==o(t.data_labels)||!v(t.data_labels))},t.prototype.getDataLabelLength=function(t,n,e){var r=this,i=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([t,n]).enter().append("text").text(function(t){return r.dataLabelFormat(t.id)(t)}).each(function(t,n){i[n]=1.3*this.getBoundingClientRect()[e]}).remove(),i},t.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},t.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},t.prototype.findClosestFromTargets=function(t,n){var e,r=this;return e=t.map(function(t){return r.findClosest(t.values,n)}),r.findClosest(e,n)},t.prototype.findClosest=function(t,n){var e,r=this,o=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var n=r.main.select("."+i.bars+r.getTargetSelectorSuffix(t.id)+" ."+i.bar+"-"+t.index).node();!e&&r.isWithinBar(r.d3.mouse(n),n)&&(e=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var i=r.dist(t,n);i<o&&(o=i,e=t)}),e},t.prototype.dist=function(t,n){var e=this.config,r=e.axis_rotated?1:0,i=e.axis_rotated?0:1,o=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-n[r],2)+Math.pow(o-n[i],2))},t.prototype.convertValuesToStep=function(t){var n,e=[].concat(t);if(!this.isCategorized())return t;for(n=t.length+1;0<n;n--)e[n]=e[n-1];return e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id},e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id},e},t.prototype.updateDataAttributes=function(t,n){var e=this.config["data_"+t];return void 0===n?e:(Object.keys(n).forEach(function(t){e[t]=n[t]}),this.redraw({withLegend:!0}),e)},t.prototype.load=function(t,n){var e=this;t&&(n.filter&&(t=t.filter(n.filter)),(n.type||n.types)&&t.forEach(function(t){var r=n.types&&n.types[t.id]?n.types[t.id]:n.type;e.setTargetType(t.id,r)}),e.data.targets.forEach(function(n){for(var e=0;e<t.length;e++)if(n.id===t[e].id){n.values=t[e].values,t.splice(e,1);break}}),e.data.targets=e.data.targets.concat(t)),e.updateTargets(e.data.targets),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},t.prototype.loadFromArgs=function(t){var n=this;t.data?n.load(n.convertDataToTargets(t.data),t):t.url?n.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(e){n.load(n.convertDataToTargets(e),t)}):t.json?n.load(n.convertDataToTargets(n.convertJsonToData(t.json,t.keys)),t):t.rows?n.load(n.convertDataToTargets(n.convertRowsToData(t.rows)),t):t.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(t.columns)),t):n.load(null,t)},t.prototype.unload=function(t,n){var e=this;n||(n=function(){}),(t=t.filter(function(t){return e.hasTarget(e.data.targets,t)}))&&0!==t.length?(e.svg.selectAll(t.map(function(t){return e.selectorTarget(t)})).transition().style("opacity",0).remove().call(e.endall,n),t.forEach(function(t){e.withoutFadeIn[t]=!1,e.legend&&e.legend.selectAll("."+i.legendItem+e.getTargetSelectorSuffix(t)).remove(),e.data.targets=e.data.targets.filter(function(n){return n.id!==t})})):n()},t.prototype.getYDomainMin=function(t){var n,e,r,i,o,a,u=this,s=u.config,c=u.mapToIds(t),l=u.getValuesAsIdKeyed(t);if(s.data_groups.length>0)for(a=u.hasNegativeValueInTargets(t),n=0;n<s.data_groups.length;n++)if(0!==(i=s.data_groups[n].filter(function(t){return c.indexOf(t)>=0})).length)for(r=i[0],a&&l[r]&&l[r].forEach(function(t,n){l[r][n]=t<0?t:0}),e=1;e<i.length;e++)o=i[e],l[o]&&l[o].forEach(function(t,n){u.axis.getId(o)!==u.axis.getId(r)||!l[r]||a&&+t>0||(l[r][n]+=+t)});return u.d3.min(Object.keys(l).map(function(t){return u.d3.min(l[t])}))},t.prototype.getYDomainMax=function(t){var n,e,r,i,o,a,u=this,s=u.config,c=u.mapToIds(t),l=u.getValuesAsIdKeyed(t);if(s.data_groups.length>0)for(a=u.hasPositiveValueInTargets(t),n=0;n<s.data_groups.length;n++)if(0!==(i=s.data_groups[n].filter(function(t){return c.indexOf(t)>=0})).length)for(r=i[0],a&&l[r]&&l[r].forEach(function(t,n){l[r][n]=t>0?t:0}),e=1;e<i.length;e++)o=i[e],l[o]&&l[o].forEach(function(t,n){u.axis.getId(o)!==u.axis.getId(r)||!l[r]||a&&+t<0||(l[r][n]+=+t)});return u.d3.max(Object.keys(l).map(function(t){return u.d3.max(l[t])}))},t.prototype.getYDomain=function(t,n,e){var r,i,o,a,u,c,l,f,h,d,p=this,g=p.config,_=t.filter(function(t){return p.axis.getId(t.id)===n}),x=e?p.filterByXDomain(_,e):_,m="y2"===n?g.axis_y2_min:g.axis_y_min,b="y2"===n?g.axis_y2_max:g.axis_y_max,w=p.getYDomainMin(x),S=p.getYDomainMax(x),A="y2"===n?g.axis_y2_center:g.axis_y_center,T=p.hasType("bar",x)&&g.bar_zerobased||p.hasType("area",x)&&g.area_zerobased,P="y2"===n?g.axis_y2_inverted:g.axis_y_inverted,M=p.hasDataLabel()&&g.axis_rotated,C=p.hasDataLabel()&&!g.axis_rotated;return w=y(m)?m:y(b)?w<b?w:b-10:w,S=y(b)?b:y(m)?m<S?S:m+10:S,0===x.length?"y2"===n?p.y2.domain():p.y.domain():(isNaN(w)&&(w=0),isNaN(S)&&(S=w),w===S&&(w<0?S=0:w=0),h=w>=0&&S>=0,d=w<=0&&S<=0,(y(m)&&h||y(b)&&d)&&(T=!1),T&&(h&&(w=0),d&&(S=0)),o=a=.1*(i=Math.abs(S-w)),void 0!==A&&(S=A+(u=Math.max(Math.abs(w),Math.abs(S))),w=A-u),M?(c=p.getDataLabelLength(w,S,"width"),l=s(p.y.range()),o+=i*((f=[c[0]/l,c[1]/l])[1]/(1-f[0]-f[1])),a+=i*(f[0]/(1-f[0]-f[1]))):C&&(c=p.getDataLabelLength(w,S,"height"),o+=p.axis.convertPixelsToAxisPadding(c[1],i),a+=p.axis.convertPixelsToAxisPadding(c[0],i)),"y"===n&&v(g.axis_y_padding)&&(o=p.axis.getPadding(g.axis_y_padding,"top",o,i),a=p.axis.getPadding(g.axis_y_padding,"bottom",a,i)),"y2"===n&&v(g.axis_y2_padding)&&(o=p.axis.getPadding(g.axis_y2_padding,"top",o,i),a=p.axis.getPadding(g.axis_y2_padding,"bottom",a,i)),T&&(h&&(a=w),d&&(o=-S)),r=[w-a,S+o],P?r.reverse():r)},t.prototype.getXDomainMin=function(t){var n=this,e=n.config;return h(e.axis_x_min)?n.isTimeSeries()?this.parseDate(e.axis_x_min):e.axis_x_min:n.d3.min(t,function(t){return n.d3.min(t.values,function(t){return t.x})})},t.prototype.getXDomainMax=function(t){var n=this,e=n.config;return h(e.axis_x_max)?n.isTimeSeries()?this.parseDate(e.axis_x_max):e.axis_x_max:n.d3.max(t,function(t){return n.d3.max(t.values,function(t){return t.x})})},t.prototype.getXDomainPadding=function(t){var n,e,r,i,a=this.config,u=t[1]-t[0];return e=this.isCategorized()?0:this.hasType("bar")?(n=this.getMaxDataCount())>1?u/(n-1)/2:.5:.01*u,"object"===o(a.axis_x_padding)&&v(a.axis_x_padding)?(r=y(a.axis_x_padding.left)?a.axis_x_padding.left:e,i=y(a.axis_x_padding.right)?a.axis_x_padding.right:e):r=i="number"==typeof a.axis_x_padding?a.axis_x_padding:e,{left:r,right:i}},t.prototype.getXDomain=function(t){var n=this,e=[n.getXDomainMin(t),n.getXDomainMax(t)],r=e[0],i=e[1],o=n.getXDomainPadding(e),a=0,u=0;return r-i!=0||n.isCategorized()||(n.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=n.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(u=n.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,u]},t.prototype.updateXDomain=function(t,n,e,r,i){var o=this,a=o.config;return e&&(o.x.domain(i||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.update(),o.subX.domain(o.x.domain()),o.brush&&o.brush.updateScale(o.subX)),n&&o.x.domain(i||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.selectionAsValue())),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},t.prototype.trimXDomain=function(t){var n=this.getZoomDomain(),e=n[0],r=n[1];return t[0]<=e&&(t[1]=+t[1]+(e-t[0]),t[0]=e),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},t.prototype.drag=function(t){var n,e,r,o,a,u,s,c,f=this,h=f.config,d=f.main,p=f.d3;f.hasArcType()||h.data_selection_enabled&&h.data_selection_multiple&&(n=f.dragStart[0],e=f.dragStart[1],r=t[0],o=t[1],a=Math.min(n,r),u=Math.max(n,r),s=h.data_selection_grouped?f.margin.top:Math.min(e,o),c=h.data_selection_grouped?f.height:Math.max(e,o),d.select("."+i.dragarea).attr("x",a).attr("y",s).attr("width",u-a).attr("height",c-s),d.selectAll("."+i.shapes).selectAll("."+i.shape).filter(function(t){return h.data_selection_isselectable(t)}).each(function(t,n){var e,r,o,h,d,g,_=p.select(this),y=_.classed(i.SELECTED),v=_.classed(i.INCLUDED),x=!1;if(_.classed(i.circle))e=1*_.attr("cx"),r=1*_.attr("cy"),d=f.togglePoint,x=a<e&&e<u&&s<r&&r<c;else{if(!_.classed(i.bar))return;e=(g=l(this)).x,r=g.y,o=g.width,h=g.height,d=f.togglePath,x=!(u<e||e+o<a||c<r||r+h<s)}x^v&&(_.classed(i.INCLUDED,!v),_.classed(i.SELECTED,!y),d.call(f,!y,_,t,n))}))},t.prototype.dragstart=function(t){var n=this,e=n.config;n.hasArcType()||e.data_selection_enabled&&(n.dragStart=t,n.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",.1),n.dragging=!0)},t.prototype.dragend=function(){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+i.shape).classed(i.INCLUDED,!1),t.dragging=!1)},t.prototype.getYFormat=function(t){var n=this,e=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.yFormat,r=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.y2Format;return function(t,i,o){return("y2"===n.axis.getId(o)?r:e).call(n,t,i)}},t.prototype.yFormat=function(t){var n=this.config;return(n.axis_y_tick_format?n.axis_y_tick_format:this.defaultValueFormat)(t)},t.prototype.y2Format=function(t){var n=this.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:this.defaultValueFormat)(t)},t.prototype.defaultValueFormat=function(t){return y(t)?+t:""},t.prototype.defaultArcValueFormat=function(t,n){return(100*n).toFixed(1)+"%"},t.prototype.dataLabelFormat=function(t){var n=this.config.data_labels,e=function(t){return y(t)?+t:""};return"function"==typeof n.format?n.format:"object"===o(n.format)?n.format[t]?!0===n.format[t]?e:n.format[t]:function(){return""}:e},t.prototype.initGrid=function(){var t=this,n=t.config,e=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid),n.grid_x_show&&t.grid.append("g").attr("class",i.xgrids),n.grid_y_show&&t.grid.append("g").attr("class",i.ygrids),n.grid_focus_show&&t.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus),t.xgrid=e.selectAll([]),n.grid_lines_front||t.initGridLines()},t.prototype.initGridLines=function(){var t=this,n=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid+" "+i.gridLines),t.gridLines.append("g").attr("class",i.xgridLines),t.gridLines.append("g").attr("class",i.ygridLines),t.xgridLines=n.selectAll([])},t.prototype.updateXGrid=function(t){var n=this,e=n.config,r=n.d3,o=n.generateGridData(e.grid_x_type,n.x),a=n.isCategorized()?n.xAxis.tickOffset():0;n.xgridAttr=e.axis_rotated?{x1:0,x2:n.width,y1:function(t){return n.x(t)-a},y2:function(t){return n.x(t)-a}}:{x1:function(t){return n.x(t)+a},x2:function(t){return n.x(t)+a},y1:0,y2:n.height},n.xgridAttr.opacity=function(){return+r.select(this).attr(e.axis_rotated?"y1":"x1")===(e.axis_rotated?n.height:0)?0:1};var u=n.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(o),s=u.enter().append("line").attr("class",i.xgrid).attr("x1",n.xgridAttr.x1).attr("x2",n.xgridAttr.x2).attr("y1",n.xgridAttr.y1).attr("y2",n.xgridAttr.y2).style("opacity",0);n.xgrid=s.merge(u),t||n.xgrid.attr("x1",n.xgridAttr.x1).attr("x2",n.xgridAttr.x2).attr("y1",n.xgridAttr.y1).attr("y2",n.xgridAttr.y2).style("opacity",n.xgridAttr.opacity),u.exit().remove()},t.prototype.updateYGrid=function(){var t=this,n=t.config,e=t.yAxis.tickValues()||t.y.ticks(n.grid_y_ticks),r=t.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(e),o=r.enter().append("line").attr("class",i.ygrid);t.ygrid=o.merge(r),t.ygrid.attr("x1",n.axis_rotated?t.y:0).attr("x2",n.axis_rotated?t.y:t.width).attr("y1",n.axis_rotated?0:t.y).attr("y2",n.axis_rotated?t.height:t.y),r.exit().remove(),t.smoothLines(t.ygrid,"grid")},t.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},t.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},t.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},t.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},t.prototype.updateGrid=function(t){var n,e,r,o,a=this,u=a.main,s=a.config,c=a.xv.bind(a),l=a.yv.bind(a),f=a.xGridTextX.bind(a),h=a.yGridTextX.bind(a);a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),u.select("line."+i.xgridFocus).style("visibility","hidden"),s.grid_x_show&&a.updateXGrid(),(e=(n=u.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(s.grid_x_lines)).enter().append("g").attr("class",function(t){return i.xgridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?0:c).attr("x2",s.axis_rotated?a.width:c).attr("y1",s.axis_rotated?c:0).attr("y2",s.axis_rotated?c:a.height).style("opacity",0),e.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("x",s.axis_rotated?h:f).attr("y",c).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines=e.merge(n),n.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&a.updateYGrid(),(o=(r=u.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(s.grid_y_lines)).enter().append("g").attr("class",function(t){return i.ygridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:a.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?a.height:l).style("opacity",0),o.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("x",s.axis_rotated?f:h).attr("y",l).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.ygridLines=o.merge(r),a.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:a.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?a.height:l).style("opacity",1),a.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",l).text(function(t){return t.text}).style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawGrid=function(t,n){var e=this,r=e.config,i=e.xv.bind(e),o=e.xgridLines.select("line"),a=e.xgridLines.select("text");return[(t?o.transition(n):o).attr("x1",r.axis_rotated?0:i).attr("x2",r.axis_rotated?e.width:i).attr("y1",r.axis_rotated?i:0).attr("y2",r.axis_rotated?i:e.height).style("opacity",1),(t?a.transition(n):a).attr("x",r.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},t.prototype.showXGridFocus=function(t){var n=this,e=n.config,r=t.filter(function(t){return t&&y(t.value)}),o=n.main.selectAll("line."+i.xgridFocus),a=n.xx.bind(n);e.tooltip_show&&(n.hasType("scatter")||n.hasArcType()||(o.style("visibility","visible").data([r[0]]).attr(e.axis_rotated?"y1":"x1",a).attr(e.axis_rotated?"y2":"x2",a),n.smoothLines(o,"grid")))},t.prototype.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")},t.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+i.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},t.prototype.generateGridData=function(t,n){var e,r,o,a,u=[],s=this.main.select("."+i.axisX).selectAll(".tick").size();if("year"===t)for(r=(e=this.getXDomain())[0].getFullYear(),o=e[1].getFullYear(),a=r;a<=o;a++)u.push(new Date(a+"-01-01 00:00:00"));else(u=n.ticks(10)).length>s&&(u=u.filter(function(t){return(""+t).indexOf(".")<0}));return u},t.prototype.getGridFilterToRemove=function(t){return t?function(n){var e=!1;return[].concat(t).forEach(function(t){("value"in t&&n.value===t.value||"class"in t&&n.class===t.class)&&(e=!0)}),e}:function(){return!0}},t.prototype.removeGridLines=function(t,n){var e=this.config,r=this.getGridFilterToRemove(t),o=function(t){return!r(t)},a=n?i.xgridLines:i.ygridLines,u=n?i.xgridLine:i.ygridLine;this.main.select("."+a).selectAll("."+u).filter(r).transition().duration(e.transition_duration).style("opacity",0).remove(),n?e.grid_x_lines=e.grid_x_lines.filter(o):e.grid_y_lines=e.grid_y_lines.filter(o)},t.prototype.initEventRect=function(){var t=this,n=t.config;t.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+i.eventRects).append("rect").attr("class",i.eventRect),n.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),n.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(n.zoom_initialRange)))},t.prototype.redrawEventRect=function(){var t,n,e=this,r=e.d3,o=e.config;function a(){e.svg.select("."+i.eventRect).style("cursor",null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()}t=e.width,n=e.height,e.main.select("."+i.eventRects).style("cursor",o.zoom_enabled?o.axis_rotated?"ns-resize":"ew-resize":null),e.eventRect.attr("x",0).attr("y",0).attr("width",t).attr("height",n).on("mouseout",o.interaction_enabled?function(){o&&(e.hasArcType()||a())}:null).on("mousemove",o.interaction_enabled?function(){var t,n,u,s;e.dragging||e.hasArcType(t)||(t=e.filterTargetsToShow(e.data.targets),n=r.mouse(this),u=e.findClosestFromTargets(t,n),!e.mouseover||u&&u.id===e.mouseover.id||(o.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),u?(s=(e.isScatterType(u)||!o.tooltip_grouped?[u]:e.filterByX(t,u.x)).map(function(t){return e.addName(t)}),e.showTooltip(s,this),o.point_focus_expand_enabled&&(e.unexpandCircles(),s.forEach(function(t){e.expandCircles(t.index,t.id,!1)})),e.expandBars(u.index,u.id,!0),e.showXGridFocus(s),(e.isBarType(u.id)||e.dist(u,n)<o.point_sensitivity)&&(e.svg.select("."+i.eventRect).style("cursor","pointer"),e.mouseover||(o.data_onmouseover.call(e.api,u),e.mouseover=u))):a())}:null).on("click",o.interaction_enabled?function(){var t,n,a;e.hasArcType(t)||(t=e.filterTargetsToShow(e.data.targets),n=r.mouse(this),(a=e.findClosestFromTargets(t,n))&&(e.isBarType(a.id)||e.dist(a,n)<o.point_sensitivity)&&(e.isScatterType(a)||!o.data_selection_grouped?[a]:e.filterByX(t,a.x)).forEach(function(t){e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t.id)).selectAll("."+i.shape+"-"+t.index).each(function(){(o.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,t.index),o.data_onclick.call(e.api,t,this))})}))}:null).call(o.interaction_enabled&&o.data_selection_draggable&&e.drag?r.drag().on("drag",function(){e.drag(r.mouse(this))}).on("start",function(){e.dragstart(r.mouse(this))}).on("end",function(){e.dragend()}):function(){})},t.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},t.prototype.dispatchEvent=function(t,n){var e="."+i.eventRect,r=this.main.select(e).node(),o=r.getBoundingClientRect(),a=o.left+(n?n[0]:0),u=o.top+(n?n[1]:0),s=document.createEvent("MouseEvents");s.initMouseEvent(t,!0,!0,window,0,a,u,a,u,!1,!1,!1,!1,0,null),r.dispatchEvent(s)},t.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},t.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},t.prototype.updateSizeForLegend=function(t,n){var e=this,r=e.config,i={top:e.isLegendTop?e.getCurrentPaddingTop()+r.legend_inset_y+5.5:e.currentHeight-t-e.getCurrentPaddingBottom()-r.legend_inset_y,left:e.isLegendLeft?e.getCurrentPaddingLeft()+r.legend_inset_x+.5:e.currentWidth-n-e.getCurrentPaddingRight()-r.legend_inset_x+.5};e.margin3={top:e.isLegendRight?0:e.isLegendInset?i.top:e.currentHeight-t,right:NaN,bottom:0,left:e.isLegendRight?e.currentWidth-n:e.isLegendInset?i.left:0}},t.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},t.prototype.updateLegendStep=function(t){this.legendStep=t},t.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},t.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},t.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},t.prototype.getLegendHeight=function(){var t=this,n=0;return t.config.legend_show&&(n=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),n},t.prototype.opacityForLegend=function(t){return t.classed(i.legendItemHidden)?null:1},t.prototype.opacityForUnfocusedLegend=function(t){return t.classed(i.legendItemHidden)?null:.3},t.prototype.toggleFocusLegend=function(t,n){var e=this;t=e.mapToTargetIds(t),e.legend.selectAll("."+i.legendItem).filter(function(n){return t.indexOf(n)>=0}).classed(i.legendItemFocused,n).transition().duration(100).style("opacity",function(){return(n?e.opacityForLegend:e.opacityForUnfocusedLegend).call(e,e.d3.select(this))})},t.prototype.revertLegend=function(){var t=this,n=t.d3;t.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(n.select(this))})},t.prototype.showLegend=function(t){var n=this,e=n.config;e.legend_show||(e.legend_show=!0,n.legend.style("visibility","visible"),n.legendHasRendered||n.updateLegendWithDefaults()),n.removeHiddenLegendIds(t),n.legend.selectAll(n.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return n.opacityForLegend(n.d3.select(this))})},t.prototype.hideLegend=function(t){var n=this,e=n.config;e.legend_show&&d(t)&&(e.legend_show=!1,n.legend.style("visibility","hidden")),n.addHiddenLegendIds(t),n.legend.selectAll(n.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},t.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},t.prototype.updateLegend=function(t,n,e){var r,o,a,u,s,l,f,d,p,g,_,y,v,x,m,b,w=this,S=w.config,A=4,T=10,P=0,M=0,C=10,E=S.legend_item_tile_width+5,L=0,k={},O={},V={},G=[0],N={},R=0;function I(n,e,r){var o,a,u=0===r,s=r===t.length-1,c=function(t,n){return w.legendItemTextBox[n]||(w.legendItemTextBox[n]=w.getTextRect(t.textContent,i.legendItem,t)),w.legendItemTextBox[n]}(n,e),l=c.width+E+(!s||w.isLegendRight||w.isLegendInset?T:0)+S.legend_padding,f=c.height+A,h=w.isLegendRight||w.isLegendInset?f:l,d=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();function p(t,n){n||(o=(d-L-h)/2)<C&&(o=(d-h)/2,L=0,R++),N[t]=R,G[R]=w.isLegendInset?10:o,k[t]=L,L+=h}u&&(L=0,R=0,P=0,M=0),!S.legend_show||w.isLegendToShow(e)?(O[e]=l,V[e]=f,(!P||l>=P)&&(P=l),(!M||f>=M)&&(M=f),a=w.isLegendRight||w.isLegendInset?M:P,S.legend_equally?(Object.keys(O).forEach(function(t){O[t]=P}),Object.keys(V).forEach(function(t){V[t]=M}),(o=(d-a*t.length)/2)<C?(L=0,R=0,t.forEach(function(t){p(t)})):p(e,!0)):p(e)):O[e]=V[e]=N[e]=k[e]=0}t=t.filter(function(t){return!h(S.data_names[t])||null!==S.data_names[t]}),_=c(n=n||{},"withTransition",!0),y=c(n,"withTransitionForTransform",!0),w.isLegendInset&&(R=S.legend_inset_step?S.legend_inset_step:t.length,w.updateLegendStep(R)),w.isLegendRight?(r=function(t){return P*N[t]},u=function(t){return G[N[t]]+k[t]}):w.isLegendInset?(r=function(t){return P*N[t]+10},u=function(t){return G[N[t]]+k[t]}):(r=function(t){return G[N[t]]+k[t]},u=function(t){return M*N[t]}),o=function(t,n){return r(t,n)+4+S.legend_item_tile_width},s=function(t,n){return u(t,n)+9},a=function(t,n){return r(t,n)},l=function(t,n){return u(t,n)-5},f=function(t,n){return r(t,n)-2},d=function(t,n){return r(t,n)-2+S.legend_item_tile_width},p=function(t,n){return u(t,n)+4},(g=w.legend.selectAll("."+i.legendItem).data(t).enter().append("g").attr("class",function(t){return w.generateClass(i.legendItem,t)}).style("visibility",function(t){return w.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){S.legend_item_onclick?S.legend_item_onclick.call(w,t):w.d3.event.altKey?(w.api.hide(),w.api.show(t)):(w.api.toggle(t),w.isTargetToShow(t)?w.api.focus(t):w.api.revert())}).on("mouseover",function(t){S.legend_item_onmouseover?S.legend_item_onmouseover.call(w,t):(w.d3.select(this).classed(i.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(t)&&w.api.focus(t))}).on("mouseout",function(t){S.legend_item_onmouseout?S.legend_item_onmouseout.call(w,t):(w.d3.select(this).classed(i.legendItemFocused,!1),w.api.revert())})).append("text").text(function(t){return h(S.data_names[t])?S.data_names[t]:t}).each(function(t,n){I(this,t,n)}).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?o:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:s),g.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?a:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l),g.append("line").attr("class",i.legendItemTile).style("stroke",w.color).style("pointer-events","none").attr("x1",w.isLegendRight||w.isLegendInset?f:-200).attr("y1",w.isLegendRight||w.isLegendInset?-200:p).attr("x2",w.isLegendRight||w.isLegendInset?d:-200).attr("y2",w.isLegendRight||w.isLegendInset?-200:p).attr("stroke-width",S.legend_item_tile_height),b=w.legend.select("."+i.legendBackground+" rect"),w.isLegendInset&&P>0&&0===b.size()&&(b=w.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")),v=w.legend.selectAll("text").data(t).text(function(t){return h(S.data_names[t])?S.data_names[t]:t}).each(function(t,n){I(this,t,n)}),(_?v.transition():v).attr("x",o).attr("y",s),x=w.legend.selectAll("rect."+i.legendItemEvent).data(t),(_?x.transition():x).attr("width",function(t){return O[t]}).attr("height",function(t){return V[t]}).attr("x",a).attr("y",l),m=w.legend.selectAll("line."+i.legendItemTile).data(t),(_?m.transition():m).style("stroke",w.levelColor?function(t){return w.levelColor(w.cache[t].values[0].value)}:w.color).attr("x1",f).attr("y1",p).attr("x2",d).attr("y2",p),b&&(_?b.transition():b).attr("height",w.getLegendHeight()-12).attr("width",P*(R+1)+10),w.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,function(t){return!w.isTargetToShow(t)}),w.updateLegendItemWidth(P),w.updateLegendItemHeight(M),w.updateLegendStep(R),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(y,e),w.legendHasRendered=!0},t.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",i.regions)},t.prototype.updateRegion=function(t){var n=this,e=n.config;n.region.style("visibility",n.hasArcType()?"hidden":"visible");var r=n.main.select("."+i.regions).selectAll("."+i.region).data(e.regions),o=r.enter().append("rect").attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",0);n.mainRegion=o.merge(r).attr("class",n.classRegion.bind(n)),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawRegion=function(t,n){var e=this,r=e.mainRegion;return[(t?r.transition(n):r).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",function(t){return y(t.opacity)?t.opacity:.1})]},t.prototype.regionX=function(t){var n=this,e=n.config,r="y"===t.axis?n.y:n.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated&&"start"in t?r(t.start):0:e.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},t.prototype.regionY=function(t){var n=this,e=n.config,r="y"===t.axis?n.y:n.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated?0:"end"in t?r(t.end):0:e.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},t.prototype.regionWidth=function(t){var n,e=this,r=e.config,i=e.regionX(t),o="y"===t.axis?e.y:e.y2;return(n="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?o(t.end):e.width:r.axis_rotated?e.width:"end"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.width)<i?0:n-i},t.prototype.regionHeight=function(t){var n,e=this,r=e.config,i=this.regionY(t),o="y"===t.axis?e.y:e.y2;return(n="y"===t.axis||"y2"===t.axis?r.axis_rotated?e.height:"start"in t?o(t.start):e.height:r.axis_rotated&&"end"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.height)<i?0:n-i},t.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},t.prototype.getScale=function(t,n,e){return(e?this.d3.scaleTime():this.d3.scaleLinear()).range([t,n])},t.prototype.getX=function(t,n,e,r){var i,o=this.getScale(t,n,this.isTimeSeries()),a=e?o.domain(e):o;for(i in this.isCategorized()?(r=r||function(){return 0},o=function(t,n){var e=a(t)+r(t);return n?e:Math.ceil(e)}):o=function(t,n){var e=a(t);return n?e:Math.ceil(e)},a)o[i]=a[i];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(a.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},t.prototype.getY=function(t,n,e){var r=this.getScale(t,n,this.isTimeSeriesY());return e&&r.domain(e),r},t.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},t.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},t.prototype.updateScales=function(){var t=this,n=t.config,e=!t.x;t.xMin=n.axis_rotated?1:0,t.xMax=n.axis_rotated?t.height:t.width,t.yMin=n.axis_rotated?0:t.height,t.yMax=n.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=n.axis_rotated?0:t.height2,t.subYMax=n.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,e?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,e?n.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,e?n.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(n){return n%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,e?n.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,e?n.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,n.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,n.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,n.axis_y_tick_format,t.yAxisTickValues,n.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,n.axis_y2_tick_format,t.y2AxisTickValues,n.axis_y2_tick_outer),e||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},t.prototype.selectPoint=function(t,n,e){var r=this,o=r.config,a=(o.axis_rotated?r.circleY:r.circleX).bind(r),u=(o.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);o.data_onselected.call(r.api,n,t.node()),r.main.select("."+i.selectedCircles+r.getTargetSelectorSuffix(n.id)).selectAll("."+i.selectedCircle+"-"+e).data([n]).enter().append("circle").attr("class",function(){return r.generateClass(i.selectedCircle,e)}).attr("cx",a).attr("cy",u).attr("stroke",function(){return r.color(n)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",s)},t.prototype.unselectPoint=function(t,n,e){this.config.data_onunselected.call(this.api,n,t.node()),this.main.select("."+i.selectedCircles+this.getTargetSelectorSuffix(n.id)).selectAll("."+i.selectedCircle+"-"+e).transition().duration(100).attr("r",0).remove()},t.prototype.togglePoint=function(t,n,e,r){t?this.selectPoint(n,e,r):this.unselectPoint(n,e,r)},t.prototype.selectPath=function(t,n){var e=this;e.config.data_onselected.call(e,n,t.node()),e.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return e.d3.rgb(e.color(n)).brighter(.75)})},t.prototype.unselectPath=function(t,n){var e=this;e.config.data_onunselected.call(e,n,t.node()),e.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return e.color(n)})},t.prototype.togglePath=function(t,n,e,r){t?this.selectPath(n,e,r):this.unselectPath(n,e,r)},t.prototype.getToggle=function(t,n){var e;return"circle"===t.nodeName?e=this.isStepType(n)?function(){}:this.togglePoint:"path"===t.nodeName&&(e=this.togglePath),e},t.prototype.toggleShape=function(t,n,e){var r=this,o=r.d3,a=r.config,u=o.select(t),s=u.classed(i.SELECTED),c=r.getToggle(t,n).bind(r);a.data_selection_enabled&&a.data_selection_isselectable(n)&&(a.data_selection_multiple||r.main.selectAll("."+i.shapes+(a.data_selection_grouped?r.getTargetSelectorSuffix(n.id):"")).selectAll("."+i.shape).each(function(t,n){var e=o.select(this);e.classed(i.SELECTED)&&c(!1,e.classed(i.SELECTED,!1),t,n)}),u.classed(i.SELECTED,!s),c(!s,u,n,e))},t.prototype.initBar=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartBars)},t.prototype.updateTargetsForBar=function(t){var n=this,e=n.config,r=n.classChartBar.bind(n),o=n.classBars.bind(n),a=n.classFocus.bind(n);n.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",function(t){return r(t)+a(t)}).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",o).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null})},t.prototype.updateBar=function(t){var n=this,e=n.barData.bind(n),r=n.classBar.bind(n),o=n.initialOpacity.bind(n),a=function(t){return n.color(t.id)},u=n.main.selectAll("."+i.bars).selectAll("."+i.bar).data(e),s=u.enter().append("path").attr("class",r).style("stroke",a).style("fill",a);n.mainBar=s.merge(u).style("opacity",o),u.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawBar=function(t,n,e){return[(n?this.mainBar.transition(e):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},t.prototype.getBarW=function(t,n){var e=this.config,r="number"==typeof e.bar_width?e.bar_width:n?t.tickInterval()*e.bar_width_ratio/n:0;return e.bar_width_max&&r>e.bar_width_max?e.bar_width_max:r},t.prototype.getBars=function(t,n){return(n?this.main.selectAll("."+i.bars+this.getTargetSelectorSuffix(n)):this.main).selectAll("."+i.bar+(y(t)?"-"+t:""))},t.prototype.expandBars=function(t,n,e){e&&this.unexpandBars(),this.getBars(t,n).classed(i.EXPANDED,!0)},t.prototype.unexpandBars=function(t){this.getBars(t).classed(i.EXPANDED,!1)},t.prototype.generateDrawBar=function(t,n){var e=this.config,r=this.generateGetBarPoints(t,n);return function(t,n){var i=r(t,n),o=e.axis_rotated?1:0,a=e.axis_rotated?0:1;return"M "+i[0][o]+","+i[0][a]+" L"+i[1][o]+","+i[1][a]+" L"+i[2][o]+","+i[2][a]+" L"+i[3][o]+","+i[3][a]+" z"}},t.prototype.generateGetBarPoints=function(t,n){var e=this,r=n?e.subXAxis:e.xAxis,i=t.__max__+1,o=e.getBarW(r,i),a=e.getShapeX(o,i,t,!!n),u=e.getShapeY(!!n),s=e.getShapeOffset(e.isBarType,t,!!n),c=o*(e.config.bar_space/2),l=n?e.getSubYScale:e.getYScale;return function(t,n){var r=l.call(e,t.id)(0),i=s(t,n)||r,f=a(t),h=u(t);return e.config.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[f+c,i],[f+c,h-(r-i)],[f+o-c,h-(r-i)],[f+o-c,i]]}},t.prototype.isWithinBar=function(t,n){var e=n.getBoundingClientRect(),r=n.pathSegList.getItem(0),i=n.pathSegList.getItem(1),o=Math.min(r.x,i.x),a=Math.min(r.y,i.y),u=o+e.width+2,s=a+e.height+2,c=a-2;return o-2<t[0]&&t[0]<u&&c<t[1]&&t[1]<s},t.prototype.getShapeIndices=function(t){var n,e,r=this.config,i={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(n=0;n<r.data_groups.length;n++)if(!(r.data_groups[n].indexOf(t.id)<0))for(e=0;e<r.data_groups[n].length;e++)if(r.data_groups[n][e]in i){i[t.id]=i[r.data_groups[n][e]];break}_(i[t.id])&&(i[t.id]=o++)}),i.__max__=o-1,i},t.prototype.getShapeX=function(t,n,e,r){var i=r?this.subX:this.x;return function(r){var o=r.id in e?e[r.id]:0;return r.x||0===r.x?i(r.x)-t*(n/2-o):0}},t.prototype.getShapeY=function(t){var n=this;return function(e){return(t?n.getSubYScale(e.id):n.getYScale(e.id))(e.value)}},t.prototype.getShapeOffset=function(t,n,e){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),o=i.map(function(t){return t.id});return function(t,a){var u=e?r.getSubYScale(t.id):r.getYScale(t.id),s=u(0),c=s;return i.forEach(function(e){var i=r.isStepType(t)?r.convertValuesToStep(e.values):e.values;e.id!==t.id&&n[e.id]===n[t.id]&&o.indexOf(e.id)<o.indexOf(t.id)&&(void 0!==i[a]&&+i[a].x==+t.x||(a=-1,i.forEach(function(n,e){n.x===t.x&&(a=e)})),a in i&&i[a].value*t.value>=0&&(c+=u(i[a].value)-s))}),c}},t.prototype.isWithinShape=function(t,n){var e,r=this,o=r.d3.select(t);return r.isTargetToShow(n.id)?"circle"===t.nodeName?e=r.isStepType(n)?r.isWithinStep(t,r.getYScale(n.id)(n.value)):r.isWithinCircle(t,1.5*r.pointSelectR(n)):"path"===t.nodeName&&(e=!o.classed(i.bar)||r.isWithinBar(r.d3.mouse(t),t)):e=!1,e},t.prototype.getInterpolate=function(t){var n=this,e=n.d3,r={linear:e.curveLinear,"linear-closed":e.curveLinearClosed,basis:e.curveBasis,"basis-open":e.curveBasisOpen,"basis-closed":e.curveBasisClosed,bundle:e.curveBundle,cardinal:e.curveCardinal,"cardinal-open":e.curveCardinalOpen,"cardinal-closed":e.curveCardinalClosed,monotone:e.curveMonotoneX,step:e.curveStep,"step-before":e.curveStepBefore,"step-after":e.curveStepAfter};return n.isSplineType(t)?r[n.config.spline_interpolation_type]||r.cardinal:n.isStepType(t)?r[n.config.line_step_type]:r.linear},t.prototype.initLine=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartLines)},t.prototype.updateTargetsForLine=function(t){var n,e=this,r=e.config,o=e.classChartLine.bind(e),a=e.classLines.bind(e),u=e.classAreas.bind(e),s=e.classCircles.bind(e),c=e.classFocus.bind(e);(n=e.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",function(t){return o(t)+c(t)}).enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none")).append("g").attr("class",a),n.append("g").attr("class",u),n.append("g").attr("class",function(t){return e.generateClass(i.selectedCircles,t.id)}),n.append("g").attr("class",s).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){e.main.selectAll("."+i.selectedCircles+e.getTargetSelectorSuffix(t.id)).selectAll("."+i.selectedCircle).each(function(n){n.value=t.values[n.index].value})})},t.prototype.updateLine=function(t){var n=this,e=n.main.selectAll("."+i.lines).selectAll("."+i.line).data(n.lineData.bind(n)),r=e.enter().append("path").attr("class",n.classLine.bind(n)).style("stroke",n.color);n.mainLine=r.merge(e).style("opacity",n.initialOpacity.bind(n)).style("shape-rendering",function(t){return n.isStepType(t)?"crispEdges":""}).attr("transform",null),e.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawLine=function(t,n,e){return[(n?this.mainLine.transition(e):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},t.prototype.generateDrawLine=function(t,n){var e=this,r=e.config,i=e.d3.line(),o=e.generateGetLinePoints(t,n),a=n?e.getSubYScale:e.getYScale,u=function(t){return(n?e.subxx:e.xx).call(e,t)},s=function(t,n){return r.data_groups.length>0?o(t,n)[0][1]:a.call(e,t.id)(t.value)};return i=r.axis_rotated?i.x(s).y(u):i.x(u).y(s),r.line_connectNull||(i=i.defined(function(t){return null!=t.value})),function(t){var o,u=r.line_connectNull?e.filterRemoveNull(t.values):t.values,s=n?e.subX:e.x,c=a.call(e,t.id),l=0,f=0;return e.isLineType(t)?r.data_regions[t.id]?o=e.lineWithRegions(u,s,c,r.data_regions[t.id]):(e.isStepType(t)&&(u=e.convertValuesToStep(u)),o=i.curve(e.getInterpolate(t))(u)):(u[0]&&(l=s(u[0].x),f=c(u[0].value)),o=r.axis_rotated?"M "+f+" "+l:"M "+l+" "+f),o||"M 0 0"}},t.prototype.generateGetLinePoints=function(t,n){var e=this,r=e.config,i=t.__max__+1,o=e.getShapeX(0,i,t,!!n),a=e.getShapeY(!!n),u=e.getShapeOffset(e.isLineType,t,!!n),s=n?e.getSubYScale:e.getYScale;return function(t,n){var i=s.call(e,t.id)(0),c=u(t,n)||i,l=o(t),f=a(t);return r.axis_rotated&&(0<t.value&&f<i||t.value<0&&i<f)&&(f=i),[[l,f-(i-c)],[l,f-(i-c)],[l,f-(i-c)],[l,f-(i-c)]]}},t.prototype.lineWithRegions=function(t,n,e,r){var i,o,a,u,s,c,l,f,d,p,g,y=this,v=y.config,x="M",m=y.isCategorized()?.5:0,b=[];function w(t,n){var e;for(e=0;e<n.length;e++)if(n[e].start<t&&t<=n[e].end)return!0;return!1}if(h(r))for(i=0;i<r.length;i++)b[i]={},_(r[i].start)?b[i].start=t[0].x:b[i].start=y.isTimeSeries()?y.parseDate(r[i].start):r[i].start,_(r[i].end)?b[i].end=t[t.length-1].x:b[i].end=y.isTimeSeries()?y.parseDate(r[i].end):r[i].end;function S(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(p=v.axis_rotated?function(t){return e(t.value)}:function(t){return n(t.x)},g=v.axis_rotated?function(t){return n(t.x)}:function(t){return e(t.value)},a=y.isTimeSeries()?function(t,r,i,o){var a=t.x.getTime(),u=r.x-t.x,c=new Date(a+u*i),l=new Date(a+u*(i+o));return S(v.axis_rotated?[[e(s(i)),n(c)],[e(s(i+o)),n(l)]]:[[n(c),e(s(i))],[n(l),e(s(i+o))]])}:function(t,r,i,o){return S(v.axis_rotated?[[e(s(i),!0),n(u(i))],[e(s(i+o),!0),n(u(i+o))]]:[[n(u(i),!0),e(s(i))],[n(u(i+o),!0),e(s(i+o))]])},i=0;i<t.length;i++){if(_(b)||!w(t[i].x,b))x+=" "+p(t[i])+" "+g(t[i]);else for(u=y.getScale(t[i-1].x+m,t[i].x+m,y.isTimeSeries()),s=y.getScale(t[i-1].value,t[i].value),c=n(t[i].x)-n(t[i-1].x),l=e(t[i].value)-e(t[i-1].value),d=2*(f=2/Math.sqrt(Math.pow(c,2)+Math.pow(l,2))),o=f;o<=1;o+=d)x+=a(t[i-1],t[i],o,f);t[i].x}return x},t.prototype.updateArea=function(t){var n=this,e=n.d3,r=n.main.selectAll("."+i.areas).selectAll("."+i.area).data(n.lineData.bind(n)),o=r.enter().append("path").attr("class",n.classArea.bind(n)).style("fill",n.color).style("opacity",function(){return n.orgAreaOpacity=+e.select(this).style("opacity"),0});n.mainArea=o.merge(r).style("opacity",n.orgAreaOpacity),r.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawArea=function(t,n,e){return[(n?this.mainArea.transition(e):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},t.prototype.generateDrawArea=function(t,n){var e=this,r=e.config,i=e.d3.area(),o=e.generateGetAreaPoints(t,n),a=n?e.getSubYScale:e.getYScale,u=function(t){return(n?e.subxx:e.xx).call(e,t)},s=function(t,n){return r.data_groups.length>0?o(t,n)[0][1]:a.call(e,t.id)(e.getAreaBaseValue(t.id))},c=function(t,n){return r.data_groups.length>0?o(t,n)[1][1]:a.call(e,t.id)(t.value)};return i=r.axis_rotated?i.x0(s).x1(c).y(u):i.x(u).y0(r.area_above?0:s).y1(c),r.line_connectNull||(i=i.defined(function(t){return null!==t.value})),function(t){var n,o=r.line_connectNull?e.filterRemoveNull(t.values):t.values,a=0,u=0;return e.isAreaType(t)?(e.isStepType(t)&&(o=e.convertValuesToStep(o)),n=i.curve(e.getInterpolate(t))(o)):(o[0]&&(a=e.x(o[0].x),u=e.getYScale(t.id)(o[0].value)),n=r.axis_rotated?"M "+u+" "+a:"M "+a+" "+u),n||"M 0 0"}},t.prototype.getAreaBaseValue=function(){return 0},t.prototype.generateGetAreaPoints=function(t,n){var e=this,r=e.config,i=t.__max__+1,o=e.getShapeX(0,i,t,!!n),a=e.getShapeY(!!n),u=e.getShapeOffset(e.isAreaType,t,!!n),s=n?e.getSubYScale:e.getYScale;return function(t,n){var i=s.call(e,t.id)(0),c=u(t,n)||i,l=o(t),f=a(t);return r.axis_rotated&&(0<t.value&&f<i||t.value<0&&i<f)&&(f=i),[[l,c],[l,f-(i-c)],[l,f-(i-c)],[l,c]]}},t.prototype.updateCircle=function(t,n){var e=this,r=e.main.selectAll("."+i.circles).selectAll("."+i.circle).data(e.lineOrScatterData.bind(e)),o=r.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("cx",t).attr("cy",n).attr("r",e.pointR.bind(e)).style("fill",e.color);e.mainCircle=o.merge(r).style("opacity",e.initialOpacityForCircle.bind(e)),r.exit().style("opacity",0)},t.prototype.redrawCircle=function(t,n,e,r){var o=this,a=o.main.selectAll("."+i.selectedCircle);return[(e?o.mainCircle.transition(r):o.mainCircle).style("opacity",this.opacityForCircle.bind(o)).style("fill",o.color).attr("cx",t).attr("cy",n),(e?a.transition(r):a).attr("cx",t).attr("cy",n)]},t.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},t.prototype.updateCircleY=function(){var t,n,e=this;e.config.data_groups.length>0?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(t,e){return n(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},t.prototype.getCircles=function(t,n){return(n?this.main.selectAll("."+i.circles+this.getTargetSelectorSuffix(n)):this.main).selectAll("."+i.circle+(y(t)?"-"+t:""))},t.prototype.expandCircles=function(t,n,e){var r=this.pointExpandedR.bind(this);e&&this.unexpandCircles(),this.getCircles(t,n).classed(i.EXPANDED,!0).attr("r",r)},t.prototype.unexpandCircles=function(t){var n=this,e=n.pointR.bind(n);n.getCircles(t).filter(function(){return n.d3.select(this).classed(i.EXPANDED)}).classed(i.EXPANDED,!1).attr("r",e)},t.prototype.pointR=function(t){var n=this.config;return this.isStepType(t)?0:p(n.point_r)?n.point_r(t):n.point_r},t.prototype.pointExpandedR=function(t){var n=this.config;return n.point_focus_expand_enabled?p(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},t.prototype.pointSelectR=function(t){var n=this.config;return p(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*this.pointR(t)},t.prototype.isWithinCircle=function(t,n){var e=this.d3,r=e.mouse(t),i=e.select(t),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<n},t.prototype.isWithinStep=function(t,n){return Math.abs(n-this.d3.mouse(t)[1])<30},t.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},t.prototype.getCurrentHeight=function(){var t=this.config,n=t.size_height?t.size_height:this.getParentHeight();return n>0?n:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},t.prototype.getCurrentPaddingTop=function(){var t=this.config,n=y(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(n+=this.getTitlePadding()),n},t.prototype.getCurrentPaddingBottom=function(){var t=this.config;return y(t.padding_bottom)?t.padding_bottom:0},t.prototype.getCurrentPaddingLeft=function(t){var n=this.config;return y(n.padding_left)?n.padding_left:n.axis_rotated?!n.axis_x_show||n.axis_x_inner?1:Math.max(u(this.getAxisWidthByAxisId("x",t)),40):!n.axis_y_show||n.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:u(this.getAxisWidthByAxisId("y",t))},t.prototype.getCurrentPaddingRight=function(){var t=this,n=t.config,e=t.isLegendRight?t.getLegendWidth()+20:0;return y(n.padding_right)?n.padding_right+1:n.axis_rotated?10+e:!n.axis_y2_show||n.axis_y2_inner?2+e+(t.axis.getY2AxisLabelPosition().isOuter?20:0):u(t.getAxisWidthByAxisId("y2"))+e},t.prototype.getParentRectValue=function(t){for(var n,e=this.selectChart.node();e&&"BODY"!==e.tagName;){try{n=e.getBoundingClientRect()[t]}catch(r){"width"===t&&(n=e.offsetWidth)}if(n)break;e=e.parentNode}return n},t.prototype.getParentWidth=function(){return this.getParentRectValue("width")},t.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},t.prototype.getSvgLeft=function(t){var n=this,e=n.config,r=e.axis_rotated||!e.axis_rotated&&!e.axis_y_inner,o=e.axis_rotated?i.axisX:i.axisY,a=n.main.select("."+o).node(),u=a&&r?a.getBoundingClientRect():{right:0},s=n.selectChart.node().getBoundingClientRect(),c=n.hasArcType(),l=u.right-s.left-(c?0:n.getCurrentPaddingLeft(t));return l>0?l:0},t.prototype.getAxisWidthByAxisId=function(t,n){var e=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,n)+(e.isInner?20:40)},t.prototype.getHorizontalAxisHeight=function(t){var n=this,e=n.config,r=30;return"x"!==t||e.axis_x_show?"x"===t&&e.axis_x_height?e.axis_x_height:"y"!==t||e.axis_y_show?"y2"!==t||e.axis_y2_show?("x"===t&&!e.axis_rotated&&e.axis_x_tick_rotate&&(r=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(e.axis_x_tick_rotate))/180)),"y"===t&&e.axis_rotated&&e.axis_y_tick_rotate&&(r=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(e.axis_y_tick_rotate))/180)),r+(n.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):n.rotated_padding_top:!e.legend_show||n.isLegendRight||n.isLegendInset?1:10:8},t.prototype.initBrush=function(t){var n=this,e=n.d3;return n.brush=(n.config.axis_rotated?e.brushY():e.brushX()).on("brush",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||n.redrawForBrush()}).on("end",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||n.brush.empty()&&t&&"end"!==t.type&&n.brush.clear()}),n.brush.updateExtent=function(){var t,e=this.scale.range();return t=n.config.axis_rotated?[[0,e[0]],[n.width2,e[1]]]:[[e[0],0],[e[1],n.height2]],this.extent(t),this},n.brush.updateScale=function(t){return this.scale=t,this},n.brush.update=function(t){this.updateScale(t||n.subX).updateExtent(),n.context.select("."+i.brush).call(this)},n.brush.clear=function(){n.context.select("."+i.brush).call(n.brush.move,null)},n.brush.selection=function(){return e.brushSelection(n.context.select("."+i.brush).node())},n.brush.selectionAsValue=function(t,e){var r,o;return t?(n.context&&(r=[this.scale(t[0]),this.scale(t[1])],o=n.context.select("."+i.brush),e&&(o=o.transition()),n.brush.move(o,r)),[]):(r=n.brush.selection()||[0,0],[this.scale.invert(r[0]),this.scale.invert(r[1])])},n.brush.empty=function(){var t=n.brush.selection();return!t||t[0]===t[1]},n.brush.updateScale(t)},t.prototype.initSubchart=function(){var t=this,n=t.config,e=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=n.subchart_show?"visible":"hidden";e.style("visibility",r),e.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",i.chart),e.select("."+i.chart).append("g").attr("class",i.chartBars),e.select("."+i.chart).append("g").attr("class",i.chartLines),e.append("g").attr("clip-path",t.clipPath).attr("class",i.brush),t.axes.subx=e.append("g").attr("class",i.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",n.axis_rotated?"":t.clipPathForXAxis)},t.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+i.brush).call(this.brush)},t.prototype.updateTargetsForSubchart=function(t){var n,e,r,o,a=this,u=a.context,s=a.config,c=a.classChartBar.bind(a),l=a.classBars.bind(a),f=a.classChartLine.bind(a),h=a.classLines.bind(a),d=a.classAreas.bind(a);s.subchart_show&&((r=(o=u.select("."+i.chartBars).selectAll("."+i.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(o).attr("class",c),r.append("g").attr("class",l),(n=(e=u.select("."+i.chartLines).selectAll("."+i.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(e).attr("class",f),n.append("g").attr("class",h),n.append("g").attr("class",d),u.selectAll("."+i.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?a.width2:a.height2))},t.prototype.updateBarForSubchart=function(t){var n=this,e=n.context.selectAll("."+i.bars).selectAll("."+i.bar).data(n.barData.bind(n)),r=e.enter().append("path").attr("class",n.classBar.bind(n)).style("stroke","none").style("fill",n.color);e.exit().transition().duration(t).style("opacity",0).remove(),n.contextBar=r.merge(e).style("opacity",n.initialOpacity.bind(n))},t.prototype.redrawBarForSubchart=function(t,n,e){(n?this.contextBar.transition(Math.random().toString()).duration(e):this.contextBar).attr("d",t).style("opacity",1)},t.prototype.updateLineForSubchart=function(t){var n=this,e=n.context.selectAll("."+i.lines).selectAll("."+i.line).data(n.lineData.bind(n)),r=e.enter().append("path").attr("class",n.classLine.bind(n)).style("stroke",n.color);e.exit().transition().duration(t).style("opacity",0).remove(),n.contextLine=r.merge(e).style("opacity",n.initialOpacity.bind(n))},t.prototype.redrawLineForSubchart=function(t,n,e){(n?this.contextLine.transition(Math.random().toString()).duration(e):this.contextLine).attr("d",t).style("opacity",1)},t.prototype.updateAreaForSubchart=function(t){var n=this,e=n.d3,r=n.context.selectAll("."+i.areas).selectAll("."+i.area).data(n.lineData.bind(n)),o=r.enter().append("path").attr("class",n.classArea.bind(n)).style("fill",n.color).style("opacity",function(){return n.orgAreaOpacity=+e.select(this).style("opacity"),0});r.exit().transition().duration(t).style("opacity",0).remove(),n.contextArea=o.merge(r).style("opacity",0)},t.prototype.redrawAreaForSubchart=function(t,n,e){(n?this.contextArea.transition(Math.random().toString()).duration(e):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},t.prototype.redrawSubchart=function(t,n,e,r,i,o,a){var u,s,c,l=this,f=l.d3,h=l.config;l.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(f.event&&"zoom"===f.event.type&&l.brush.selectionAsValue(l.x.orgDomain()),t&&(l.brush.empty()||l.brush.selectionAsValue(l.x.orgDomain()),u=l.generateDrawArea(i,!0),s=l.generateDrawBar(o,!0),c=l.generateDrawLine(a,!0),l.updateBarForSubchart(e),l.updateLineForSubchart(e),l.updateAreaForSubchart(e),l.redrawBarForSubchart(s,e,e),l.redrawLineForSubchart(c,e,e),l.redrawAreaForSubchart(u,e,e)))},t.prototype.redrawForBrush=function(){var t,n=this,e=n.x,r=n.d3;n.redraw({withTransition:!1,withY:n.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=r.event.selection||n.brush.scale.range(),n.main.select("."+i.eventRect).call(n.zoom.transform,r.zoomIdentity.scale(n.width/(t[1]-t[0])).translate(-t[0],0)),n.config.subchart_onbrush.call(n.api,e.orgDomain())},t.prototype.transformContext=function(t,n){var e;n&&n.axisSubX?e=n.axisSubX:(e=this.context.select("."+i.axisX),t&&(e=e.transition())),this.context.attr("transform",this.getTranslate("context")),e.attr("transform",this.getTranslate("subx"))},t.prototype.getDefaultSelection=function(){var t=this,n=t.config,e=p(n.axis_x_selection)?n.axis_x_selection(t.getXDomain(t.data.targets)):n.axis_x_selection;return t.isTimeSeries()&&(e=[t.parseDate(e[0]),t.parseDate(e[1])]),e},t.prototype.initText=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartTexts),this.mainText=this.d3.selectAll([])},t.prototype.updateTargetsForText=function(t){var n=this,e=n.classChartText.bind(n),r=n.classTexts.bind(n),o=n.classFocus.bind(n),a=n.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(t),u=a.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none");u.append("g").attr("class",r),u.merge(a).attr("class",function(t){return e(t)+o(t)})},t.prototype.updateText=function(t,n,e){var r=this,o=r.config,a=r.barOrLineData.bind(r),u=r.classText.bind(r),s=r.main.selectAll("."+i.texts).selectAll("."+i.text).data(a),c=s.enter().append("text").attr("class",u).attr("text-anchor",function(t){return o.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",t).attr("y",n).style("fill",function(t){return r.color(t)}).style("fill-opacity",0);r.mainText=c.merge(s).text(function(t,n,e){return r.dataLabelFormat(t.id)(t.value,t.id,n,e)}),s.exit().transition().duration(e).style("fill-opacity",0).remove()},t.prototype.redrawText=function(t,n,e,r,i){return[(r?this.mainText.transition(i):this.mainText).attr("x",t).attr("y",n).style("fill",this.color).style("fill-opacity",e?0:this.opacityForText.bind(this))]},t.prototype.getTextRect=function(t,n,e){var r,i=this.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(e).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(n||"",!0).style("font",a).text(t).each(function(){r=this.getBoundingClientRect()}),i.remove(),r},t.prototype.generateXYForText=function(t,n,e,r){var i=this,o=i.generateGetAreaPoints(t,!1),a=i.generateGetBarPoints(n,!1),u=i.generateGetLinePoints(e,!1),s=r?i.getXForText:i.getYForText;return function(t,n){var e=i.isAreaType(t)?o:i.isBarType(t)?a:u;return s.call(i,e(t,n),t,this)}},t.prototype.getXForText=function(t,n,e){var r,i,o=this,a=e.getBoundingClientRect();return o.config.axis_rotated?(i=o.isBarType(n)?4:6,r=t[2][1]+i*(n.value<0?-1:1)):r=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===n.value&&(r>o.width?r=o.width-a.width:r<0&&(r=4)),r},t.prototype.getYForText=function(t,n,e){var r,i=this,o=e.getBoundingClientRect();return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*o.height)/2:(r=t[2][1],n.value<0||0===n.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(n)&&i.isSafari()?r-=3:!i.isBarType(n)&&i.isChrome()&&(r+=3)):r+=i.isBarType(n)?-3:-6),null!==n.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},t.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},t.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},t.prototype.xForTitle=function(){var t=this,n=t.config,e=n.title_position||"left";return e.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-n.title_padding.right:e.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:n.title_padding.left},t.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},t.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},t.prototype.initTooltip=function(){var t,n=this,e=n.config;if(n.tooltip=n.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(n.isTimeSeries()&&g(e.tooltip_init_x)){for(e.tooltip_init_x=n.parseDate(e.tooltip_init_x),t=0;t<n.data.targets[0].values.length&&n.data.targets[0].values[t].x-e.tooltip_init_x!=0;t++);e.tooltip_init_x=t}n.tooltip.html(e.tooltip_contents.call(n,n.data.targets.map(function(t){return n.addName(t.values[e.tooltip_init_x])}),n.axis.getXAxisTickFormat(),n.getYFormat(n.hasArcType()),n.color)),n.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},t.prototype.getTooltipSortFunction=function(){var t=this,n=t.config;if(0!==n.data_groups.length&&void 0===n.tooltip_order){var e=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(e=e.reverse()),function(t,n){return e.indexOf(t.id)-e.indexOf(n.id)}}var r=n.tooltip_order;void 0===r&&(r=n.data_order);var i=function(t){return t?t.value:null};if(g(r)&&"asc"===r.toLowerCase())return function(t,n){return i(t)-i(n)};if(g(r)&&"desc"===r.toLowerCase())return function(t,n){return i(n)-i(t)};if(p(r)){var o=r;return void 0===n.tooltip_order&&(o=function(t,n){return r(t?{id:t.id,values:[t]}:null,n?{id:n.id,values:[n]}:null)}),o}return f(r)?function(t,n){return r.indexOf(t.id)-r.indexOf(n.id)}:void 0},t.prototype.getTooltipContent=function(t,n,e,r){var i,o,a,u,s,c,l=this,f=l.config,h=f.tooltip_format_title||n,d=f.tooltip_format_name||function(t){return t},p=f.tooltip_format_value||e,g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(i||(a=x(h?h(t[o].x):t[o].x),i="<table class='"+l.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(u=x(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t))))){if(null===t[o].name)continue;s=x(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),c=l.levelColor?l.levelColor(t[o].value):r(t[o].id),i+="<tr class='"+l.CLASS.tooltipName+"-"+l.getTargetSelectorSuffix(t[o].id)+"'>",i+="<td class='name'><span style='background-color:"+c+"'></span>"+s+"</td>",i+="<td class='value'>"+u+"</td>",i+="</tr>"}return i+"</table>"},t.prototype.tooltipPosition=function(t,n,e,r){var i,o,a,u,s,c=this,l=c.config,f=c.d3,h=c.hasArcType(),d=f.mouse(r);return h?(o=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+d[0],u=(c.hasType("gauge")?c.height:c.height/2)+d[1]+20):(i=c.getSvgLeft(!0),l.axis_rotated?(a=(o=i+d[0]+100)+n,s=c.currentWidth-c.getCurrentPaddingRight(),u=c.x(t[0].x)+20):(a=(o=i+c.getCurrentPaddingLeft(!0)+c.x(t[0].x)+20)+n,s=i+c.currentWidth-c.getCurrentPaddingRight(),u=d[1]+15),a>s&&(o-=a-s+20),u+e>c.currentHeight&&(u-=e+30)),u<0&&(u=0),{top:u,left:o}},t.prototype.showTooltip=function(n,e){var r,i,o,a=this,u=a.config,s=a.hasArcType(),c=n.filter(function(t){return t&&y(t.value)}),l=u.tooltip_position||t.prototype.tooltipPosition;0!==c.length&&u.tooltip_show&&(a.tooltip.html(u.tooltip_contents.call(a,n,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style("display","block"),r=a.tooltip.property("offsetWidth"),i=a.tooltip.property("offsetHeight"),o=l.call(this,c,r,i,e),a.tooltip.style("top",o.top+"px").style("left",o.left+"px"))},t.prototype.hideTooltip=function(){this.tooltip.style("display","none")},t.prototype.setTargetType=function(t,n){var e=this,r=e.config;e.mapToTargetIds(t).forEach(function(t){e.withoutFadeIn[t]=n===r.data_types[t],r.data_types[t]=n}),t||(r.data_type=n)},t.prototype.hasType=function(t,n){var e=this.config.data_types,r=!1;return(n=n||this.data.targets)&&n.length?n.forEach(function(n){var i=e[n.id];(i&&i.indexOf(t)>=0||!i&&"line"===t)&&(r=!0)}):Object.keys(e).length?Object.keys(e).forEach(function(n){e[n]===t&&(r=!0)}):r=this.config.data_type===t,r},t.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},t.prototype.isLineType=function(t){var n=this.config,e=g(t)?t:t.id;return!n.data_types[e]||["line","spline","area","area-spline","step","area-step"].indexOf(n.data_types[e])>=0},t.prototype.isStepType=function(t){var n=g(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[n])>=0},t.prototype.isSplineType=function(t){var n=g(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[n])>=0},t.prototype.isAreaType=function(t){var n=g(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[n])>=0},t.prototype.isBarType=function(t){var n=g(t)?t:t.id;return"bar"===this.config.data_types[n]},t.prototype.isScatterType=function(t){var n=g(t)?t:t.id;return"scatter"===this.config.data_types[n]},t.prototype.isPieType=function(t){var n=g(t)?t:t.id;return"pie"===this.config.data_types[n]},t.prototype.isGaugeType=function(t){var n=g(t)?t:t.id;return"gauge"===this.config.data_types[n]},t.prototype.isDonutType=function(t){var n=g(t)?t:t.id;return"donut"===this.config.data_types[n]},t.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},t.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},t.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},t.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},t.prototype.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},t.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},t.prototype.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},t.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},t.prototype.initZoom=function(){var t,n=this,e=n.d3,r=n.config;return n.zoom=e.zoom().on("start",function(){if("scroll"===r.zoom_type){var i=e.event.sourceEvent;i&&"brush"===i.type||(t=i,r.zoom_onzoomstart.call(n.api,i))}}).on("zoom",function(){if("scroll"===r.zoom_type){var t=e.event.sourceEvent;t&&"brush"===t.type||(n.redrawForZoom(),r.zoom_onzoom.call(n.api,n.x.orgDomain()))}}).on("end",function(){if("scroll"===r.zoom_type){var i=e.event.sourceEvent;i&&"brush"===i.type||i&&t.clientX===i.clientX&&t.clientY===i.clientY||r.zoom_onzoomend.call(n.api,n.x.orgDomain())}}),n.zoom.updateDomain=function(){return e.event&&e.event.transform&&n.x.domain(e.event.transform.rescaleX(n.subX).domain()),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},t.prototype.zoomTransform=function(t){var n=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(n[1]-n[0])).translate(-n[0],0)},t.prototype.initDragZoom=function(){var t=this,n=t.d3,e=t.config,r=t.context=t.svg,o=t.margin.left+20.5,a=t.margin.top+.5;if("drag"===e.zoom_type&&e.zoom_enabled){var u=function(n){return n&&n.map(function(n){return t.x.invert(n)})},s=t.dragZoomBrush=n.brushX().on("start",function(){t.api.unzoom(),t.svg.select("."+i.dragZoom).classed("disabled",!1),e.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("brush",function(){e.zoom_onzoom.call(t.api,u(n.event.selection))}).on("end",function(){if(null!=n.event.selection){var r=u(n.event.selection);e.zoom_disableDefaultBehavior||t.api.zoom(r),t.svg.select("."+i.dragZoom).classed("disabled",!0),e.zoom_onzoomend.call(t.api,r)}});r.append("g").classed(i.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+o+","+a+")").call(s)}},t.prototype.getZoomDomain=function(){var t=this.config,n=this.d3;return[n.min([this.orgXDomain[0],t.zoom_x_min]),n.max([this.orgXDomain[1],t.zoom_x_max])]},t.prototype.redrawForZoom=function(){var t=this,n=t.d3,e=t.config,r=t.zoom,i=t.x;e.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(r.update(),e.zoom_disableDefaultBehavior||(t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),n.event.sourceEvent&&"mousemove"===n.event.sourceEvent.type&&(t.cancelClick=!0)))},b}()},function(t,n,e){"use strict";e.r(n);var r=e(0),i=Array.prototype.slice,o=function(t){return t},a=1,u=2,s=3,c=4,l=1e-6;function f(t){return"translate("+(t+.5)+",0)"}function h(t){return"translate(0,"+(t+.5)+")"}function d(){return!this.__axis}function p(t,n){var e=[],r=null,p=null,g=6,_=6,y=3,v=t===a||t===c?-1:1,x=t===c||t===u?"x":"y",m=t===a||t===s?f:h;function b(i){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,h=null==p?n.tickFormat?n.tickFormat.apply(n,e):o:p,b=Math.max(g,0)+y,w=n.range(),S=+w[0]+.5,A=+w[w.length-1]+.5,T=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),P=i.selection?i.selection():i,M=P.selectAll(".domain").data([null]),C=P.selectAll(".tick").data(f,n).order(),E=C.exit(),L=C.enter().append("g").attr("class","tick"),k=C.select("line"),O=C.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),C=C.merge(L),k=k.merge(L.append("line").attr("stroke","#000").attr(x+"2",v*g)),O=O.merge(L.append("text").attr("fill","#000").attr(x,v*b).attr("dy",t===a?"0em":t===s?"0.71em":"0.32em")),i!==P&&(M=M.transition(i),C=C.transition(i),k=k.transition(i),O=O.transition(i),E=E.transition(i).attr("opacity",l).attr("transform",function(t){return isFinite(t=T(t))?m(t):this.getAttribute("transform")}),L.attr("opacity",l).attr("transform",function(t){var n=this.parentNode.__axis;return m(n&&isFinite(n=n(t))?n:T(t))})),E.remove(),M.attr("d",t===c||t==u?"M"+v*_+","+S+"H0.5V"+A+"H"+v*_:"M"+S+","+v*_+"V0.5H"+A+"V"+v*_),C.attr("opacity",1).attr("transform",function(t){return m(T(t))}),k.attr(x+"2",v*g),O.attr(x,v*b).text(h),P.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===u?"start":t===c?"end":"middle"),P.each(function(){this.__axis=T})}return b.scale=function(t){return arguments.length?(n=t,b):n},b.ticks=function(){return e=i.call(arguments),b},b.tickArguments=function(t){return arguments.length?(e=null==t?[]:i.call(t),b):e.slice()},b.tickValues=function(t){return arguments.length?(r=null==t?null:i.call(t),b):r&&r.slice()},b.tickFormat=function(t){return arguments.length?(p=t,b):p},b.tickSize=function(t){return arguments.length?(g=_=+t,b):g},b.tickSizeInner=function(t){return arguments.length?(g=+t,b):g},b.tickSizeOuter=function(t){return arguments.length?(_=+t,b):_},b.tickPadding=function(t){return arguments.length?(y=+t,b):y},b}function g(t){return p(a,t)}function _(t){return p(u,t)}function y(t){return p(s,t)}function v(t){return p(c,t)}var x=e(7),m="http://www.w3.org/1999/xhtml",b={svg:"http://www.w3.org/2000/svg",xhtml:m,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),b.hasOwnProperty(n)?{space:b[n],local:t}:t};var S=function(t){var n=w(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===m&&n.documentElement.namespaceURI===m?n.createElement(t):n.createElementNS(e,t)}})(n)};function A(){}var T=function(t){return null==t?A:function(){return this.querySelector(t)}};function P(){return[]}var M=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var C=document.documentElement;if(!C.matches){var E=C.webkitMatchesSelector||C.msMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector;M=function(t){return function(){return E.call(this,t)}}}}var L=M,k=function(t){return new Array(t.length)};function O(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}O.prototype={constructor:O,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var V="$";function G(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new O(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function N(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=V+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=V+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new O(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function R(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var I=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function D(t){return t.trim().split(/^|\s+/)}function z(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function j(t,n){for(var e=z(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function B(t,n){for(var e=z(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}F.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function X(){this.textContent=""}function H(){this.innerHTML=""}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q(){return null}function W(){var t=this.parentNode;t&&t.removeChild(this)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function $(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Z={},K=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Z={mouseenter:"mouseover",mouseleave:"mouseout"}));function J(t,n,e){return t=tt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function tt(t,n,e){return function(r){var i=K;K=r;try{t.call(this,this.__data__,n,e)}finally{K=i}}}function nt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function et(t,n,e){var r=Z.hasOwnProperty(t.type)?J:tt;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function rt(t,n,e,r){var i=K;t.sourceEvent=K,K=t;try{return n.apply(e,r)}finally{K=i}}function it(t,n,e){var r=I(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var ot=[null];function at(t,n){this._groups=t,this._parents=n}function ut(){return new at([[document.documentElement]],ot)}at.prototype=ut.prototype={constructor:at,select:function(t){"function"!=typeof t&&(t=T(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new at(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?P:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new at(r,i)},filter:function(t){"function"!=typeof t&&(t=L(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new at(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var e=n?N:G,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=a[c]=new Array(p);e(l,f,g,_,s[c]=new Array(h),d,n);for(var y,v,x=0,m=0;x<p;++x)if(y=g[x]){for(x>=m&&(m=x+1);!(v=_[m])&&++m<p;);y._next=v||null}}return(a=new at(a,r))._enter=u,a._exit=s,a},enter:function(){return new at(this._enter||this._groups.map(k),this._parents)},exit:function(){return new at(this._exit||this._groups.map(k),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new at(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=R);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new at(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=w(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):function(t,n){return t.style.getPropertyValue(n)||I(t).getComputedStyle(t,null).getPropertyValue(n)}(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=D(t+"");if(arguments.length<2){for(var r=z(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?j:B)(this,t)}}:n?function(t){return function(){j(this,t)}}:function(t){return function(){B(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(U)},append:function(t){var n="function"==typeof t?t:S(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:S(t),r=null==n?q:"function"==typeof n?n:T(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(W)},clone:function(t){return this.select(t?$:Q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?et:nt,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return it(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return it(this,t,n)}})(t,n))}};var st=function(t){return"string"==typeof t?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ot)},ct=0;function lt(){this._="@"+(++ct).toString(36)}lt.prototype=function(){return new lt}.prototype={constructor:lt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ft=function(){for(var t,n=K;t=n.sourceEvent;)n=t;return n},ht=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},dt=function(t){var n=ft();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)},pt=function(t,n,e){arguments.length<3&&(e=n,n=ft().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ht(t,r);return null};function gt(){K.stopImmediatePropagation()}var _t=function(){K.preventDefault(),K.stopImmediatePropagation()},yt=function(t){var n=t.document.documentElement,e=st(t).on("dragstart.drag",_t,!0);"onselectstart"in n?e.on("selectstart.drag",_t,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function vt(t,n){var e=t.document.documentElement,r=st(t).on("dragstart.drag",null);n&&(r.on("click.drag",_t,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var xt=function(t){return function(){return t}};function mt(t,n,e,r,i,o,a,u,s,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function bt(){return!K.button}function wt(){return this.parentNode}function St(t){return null==t?{x:K.x,y:K.y}:t}function At(){return"ontouchstart"in this}mt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Tt=function(){var t,n,e,r,i=bt,o=wt,a=St,u=At,s={},c=Object(x.a)("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",_).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=m("mouse",o.apply(this,arguments),dt,this,arguments);a&&(st(K.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),yt(K.view),gt(),e=!1,t=K.clientX,n=K.clientY,a("start"))}}function p(){if(_t(),!e){var r=K.clientX-t,i=K.clientY-n;e=r*r+i*i>f}s.mouse("drag")}function g(){st(K.view).on("mousemove.drag mouseup.drag",null),vt(K.view,e),_t(),s.mouse("end")}function _(){if(i.apply(this,arguments)){var t,n,e=K.changedTouches,r=o.apply(this,arguments),a=e.length;for(t=0;t<a;++t)(n=m(e[t].identifier,r,pt,this,arguments))&&(gt(),n("start"))}}function y(){var t,n,e=K.changedTouches,r=e.length;for(t=0;t<r;++t)(n=s[e[t].identifier])&&(_t(),n("drag"))}function v(){var t,n,e=K.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=s[e[t].identifier])&&(gt(),n("end"))}function m(t,n,e,r,i){var o,u,f,d=e(n,t),p=c.copy();if(rt(new mt(h,"beforestart",o,t,l,d[0],d[1],0,0,p),function(){return null!=(K.subject=o=a.apply(r,i))&&(u=o.x-d[0]||0,f=o.y-d[1]||0,!0)}))return function a(c){var g,_=d;switch(c){case"start":s[t]=a,g=l++;break;case"end":delete s[t],--l;case"drag":d=e(n,t),g=l}rt(new mt(h,c,o,t,g,d[0]+u,d[1]+f,d[0]-_[0],d[1]-_[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:xt(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:xt(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:xt(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:xt(!!t),h):u},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h},Pt=e(2),Mt="http://www.w3.org/1999/xhtml",Ct={svg:"http://www.w3.org/2000/svg",xhtml:Mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Et=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ct.hasOwnProperty(n)?{space:Ct[n],local:t}:t};var Lt=function(t){var n=Et(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Mt&&n.documentElement.namespaceURI===Mt?n.createElement(t):n.createElementNS(e,t)}})(n)};function kt(){}var Ot=function(t){return null==t?kt:function(){return this.querySelector(t)}};function Vt(){return[]}var Gt=function(t){return null==t?Vt:function(){return this.querySelectorAll(t)}},Nt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Rt=document.documentElement;if(!Rt.matches){var It=Rt.webkitMatchesSelector||Rt.msMatchesSelector||Rt.mozMatchesSelector||Rt.oMatchesSelector;Nt=function(t){return function(){return It.call(this,t)}}}}var Dt=Nt,zt=function(t){return new Array(t.length)};function Ft(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ft.prototype={constructor:Ft,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var jt="$";function Bt(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Ft(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Xt(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=jt+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=jt+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new Ft(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function Ht(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Yt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ut(t,n){return t.style.getPropertyValue(n)||Yt(t).getComputedStyle(t,null).getPropertyValue(n)}function qt(t){return t.trim().split(/^|\s+/)}function Wt(t){return t.classList||new Qt(t)}function Qt(t){this._node=t,this._names=qt(t.getAttribute("class")||"")}function $t(t,n){for(var e=Wt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Zt(t,n){for(var e=Wt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}Qt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Kt(){this.textContent=""}function Jt(){this.innerHTML=""}function tn(){this.nextSibling&&this.parentNode.appendChild(this)}function nn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function en(){return null}function rn(){var t=this.parentNode;t&&t.removeChild(this)}function on(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function an(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var un={},sn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(un={mouseenter:"mouseover",mouseleave:"mouseout"}));function cn(t,n,e){return t=ln(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ln(t,n,e){return function(r){var i=sn;sn=r;try{t.call(this,this.__data__,n,e)}finally{sn=i}}}function fn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function hn(t,n,e){var r=un.hasOwnProperty(t.type)?cn:ln;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function dn(t,n,e){var r=Yt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var pn=[null];function gn(t,n){this._groups=t,this._parents=n}function _n(){return new gn([[document.documentElement]],pn)}gn.prototype=_n.prototype={constructor:gn,select:function(t){"function"!=typeof t&&(t=Ot(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new gn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Gt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new gn(r,i)},filter:function(t){"function"!=typeof t&&(t=Dt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new gn(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var e=n?Xt:Bt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=a[c]=new Array(p);e(l,f,g,_,s[c]=new Array(h),d,n);for(var y,v,x=0,m=0;x<p;++x)if(y=g[x]){for(x>=m&&(m=x+1);!(v=_[m])&&++m<p;);y._next=v||null}}return(a=new gn(a,r))._enter=u,a._exit=s,a},enter:function(){return new gn(this._enter||this._groups.map(zt),this._parents)},exit:function(){return new gn(this._exit||this._groups.map(zt),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new gn(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ht);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new gn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Et(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):Ut(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=qt(t+"");if(arguments.length<2){for(var r=Wt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?$t:Zt)(this,t)}}:n?function(t){return function(){$t(this,t)}}:function(t){return function(){Zt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Kt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Jt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(tn)},lower:function(){return this.each(nn)},append:function(t){var n="function"==typeof t?t:Lt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:Lt(t),r=null==n?en:"function"==typeof n?n:Ot(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(rn)},clone:function(t){return this.select(t?an:on)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?hn:fn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return dn(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return dn(this,t,n)}})(t,n))}};var yn=_n,vn=function(t){return"string"==typeof t?new gn([[document.querySelector(t)]],[document.documentElement]):new gn([[t]],pn)},xn=0;function mn(){this._="@"+(++xn).toString(36)}mn.prototype=function(){return new mn}.prototype={constructor:mn,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var bn=function(){for(var t,n=sn;t=n.sourceEvent;)n=t;return n},wn=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Sn=function(t){var n=bn();return n.changedTouches&&(n=n.changedTouches[0]),wn(t,n)},An=e(4),Tn=Object(x.a)("start","end","interrupt"),Pn=[],Mn=0,Cn=1,En=2,Ln=3,kn=4,On=5,Vn=6,Gn=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==Cn)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===Ln)return Object(An.c)(o);h.state===kn?(h.state=Vn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=Vn,h.timer.stop(),delete i[c])}if(Object(An.c)(function(){e.state===Ln&&(e.state=kn,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=En,e.on.call("start",t,t.__data__,e.index,e.group),e.state===En){for(e.state=Ln,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=On,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===On&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=Vn,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Object(An.d)(function(t){e.state=Cn,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Tn,tween:Pn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mn})};function Nn(t,n){var e=In(t,n);if(e.state>Mn)throw new Error("too late; already scheduled");return e}function Rn(t,n){var e=In(t,n);if(e.state>En)throw new Error("too late; already started");return e}function In(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Dn=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>En&&e.state<On,e.state=Vn,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}};function zn(t,n,e){var r=t._id;return t.each(function(){var t=Rn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return In(t,r).value[n]}}var Fn=e(3),jn=function(t,n){var e;return("number"==typeof n?Pt.m:n instanceof Fn.a?Pt.o:(e=Object(Fn.a)(n))?(n=e,Pt.o):Pt.s)(t,n)};var Bn=yn.prototype.constructor;var Xn=0;function Hn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Yn(){return++Xn}var Un=yn.prototype;Hn.prototype=function(t){return yn().transition(t)}.prototype={constructor:Hn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Ot(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,Gn(f[h],n,e,h,f,In(u,e)));return new Hn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Gt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=In(s,e),g=0,_=d.length;g<_;++g)(h=d[g])&&Gn(h,n,e,g,d,p);o.push(d),a.push(s)}return new Hn(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=Dt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Hn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Hn(a,this._parents,this._name,this._id)},selection:function(){return new Bn(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Yn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=In(a,n);Gn(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Hn(r,this._parents,t,e)},call:Un.call,nodes:Un.nodes,node:Un.node,size:Un.size,empty:Un.empty,each:Un.each,on:function(t,n){var e=this._id;return arguments.length<2?In(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Nn:Rn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Et(t),r="transform"===e?Pt.u:jn;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,zn(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Et(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Pt.t:jn;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Ut(this,t),a=(this.style.removeProperty(t),Ut(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=Ut(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=Ut(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,zn(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=Ut(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(zn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=In(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Rn(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Rn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Nn(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Nn(this,t).delay=n}})(n,t)):In(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Rn(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Rn(this,t).duration=n}})(n,t)):In(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Rn(this,t).ease=n}}(n,t)):In(this.node(),n).ease}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var qn=2*Math.PI,Wn=(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=qn);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*qn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=qn);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*qn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=qn);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*qn)},i.period=function(e){return t(n,e)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Qn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Wn.time=Object(An.b)(),Wn;return e}yn.prototype.interrupt=function(t){return this.each(function(){Dn(this,t)})},yn.prototype.transition=function(t){var n,e;t instanceof Hn?(n=t._id,t=t._name):(n=Yn(),(e=Wn).time=Object(An.b)(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&Gn(a,t,n,c,u,e||Qn(a,n));return new Hn(r,this._parents,t,n)};var $n=function(t){return function(){return t}},Zn=function(t,n,e){this.target=t,this.type=n,this.selection=e};function Kn(){sn.stopImmediatePropagation()}var Jn=function(){sn.preventDefault(),sn.stopImmediatePropagation()},te={name:"drag"},ne={name:"space"},ee={name:"handle"},re={name:"center"},ie={name:"x",handles:["e","w"].map(he),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},oe={name:"y",handles:["n","s"].map(he),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ae={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(he),input:function(t){return t},output:function(t){return t}},ue={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},se={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ce={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},le={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function he(t){return{type:t}}function de(){return!sn.button}function pe(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ge(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function _e(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ye(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function ve(){return be(ie)}function xe(){return be(oe)}var me=function(){return be(ae)};function be(t){var n,e=pe,r=de,i=Object(x.a)(a,"start","brush","end"),o=6;function a(n){var e=n.property("__brush",f).selectAll(".overlay").data([he("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ue.overlay).merge(e).each(function(){var t=ge(this).extent;vn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([he("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ue.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ue[t.type]}),n.each(u).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function u(){var t=vn(this),n=ge(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-o/2:n[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-o/2:n[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n){return t.__brush.emitter||new c(t,n)}function c(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){if(sn.touches){if(sn.changedTouches.length<sn.touches.length)return Jn()}else if(n)return;if(r.apply(this,arguments)){var e,i,o,a,c,l,f,h,d,p,g,_,y,v=this,x=sn.target.__data__.type,m="selection"===(sn.metaKey?x="overlay":x)?te:sn.altKey?re:ee,b=t===oe?null:le[x],w=t===ie?null:fe[x],S=ge(v),A=S.extent,T=S.selection,P=A[0][0],M=A[0][1],C=A[1][0],E=A[1][1],L=b&&w&&sn.shiftKey,k=Sn(v),O=k,V=s(v,arguments).beforestart();"overlay"===x?S.selection=T=[[e=t===oe?P:k[0],o=t===ie?M:k[1]],[c=t===oe?C:e,f=t===ie?E:o]]:(e=T[0][0],o=T[0][1],c=T[1][0],f=T[1][1]),i=e,a=o,l=c,h=f;var G=vn(v).attr("pointer-events","none"),N=G.selectAll(".overlay").attr("cursor",ue[x]);if(sn.touches)G.on("touchmove.brush",I,!0).on("touchend.brush touchcancel.brush",z,!0);else{var R=vn(sn.view).on("keydown.brush",function(){switch(sn.keyCode){case 16:L=b&&w;break;case 18:m===ee&&(b&&(c=l-d*b,e=i+d*b),w&&(f=h-p*w,o=a+p*w),m=re,D());break;case 32:m!==ee&&m!==re||(b<0?c=l-d:b>0&&(e=i-d),w<0?f=h-p:w>0&&(o=a-p),m=ne,N.attr("cursor",ue.selection),D());break;default:return}Jn()},!0).on("keyup.brush",function(){switch(sn.keyCode){case 16:L&&(_=y=L=!1,D());break;case 18:m===re&&(b<0?c=l:b>0&&(e=i),w<0?f=h:w>0&&(o=a),m=ee,D());break;case 32:m===ne&&(sn.altKey?(b&&(c=l-d*b,e=i+d*b),w&&(f=h-p*w,o=a+p*w),m=re):(b<0?c=l:b>0&&(e=i),w<0?f=h:w>0&&(o=a),m=ee),N.attr("cursor",ue[x]),D());break;default:return}Jn()},!0).on("mousemove.brush",I,!0).on("mouseup.brush",z,!0);yt(sn.view)}Kn(),Dn(v),u.call(v),V.start()}function I(){var t=Sn(v);!L||_||y||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?y=!0:_=!0),O=t,g=!0,Jn(),D()}function D(){var t;switch(d=O[0]-k[0],p=O[1]-k[1],m){case ne:case te:b&&(d=Math.max(P-e,Math.min(C-c,d)),i=e+d,l=c+d),w&&(p=Math.max(M-o,Math.min(E-f,p)),a=o+p,h=f+p);break;case ee:b<0?(d=Math.max(P-e,Math.min(C-e,d)),i=e+d,l=c):b>0&&(d=Math.max(P-c,Math.min(C-c,d)),i=e,l=c+d),w<0?(p=Math.max(M-o,Math.min(E-o,p)),a=o+p,h=f):w>0&&(p=Math.max(M-f,Math.min(E-f,p)),a=o,h=f+p);break;case re:b&&(i=Math.max(P,Math.min(C,e-d*b)),l=Math.max(P,Math.min(C,c+d*b))),w&&(a=Math.max(M,Math.min(E,o-p*w)),h=Math.max(M,Math.min(E,f+p*w)))}l<i&&(b*=-1,t=e,e=c,c=t,t=i,i=l,l=t,x in se&&N.attr("cursor",ue[x=se[x]])),h<a&&(w*=-1,t=o,o=f,f=t,t=a,a=h,h=t,x in ce&&N.attr("cursor",ue[x=ce[x]])),S.selection&&(T=S.selection),_&&(i=T[0][0],l=T[1][0]),y&&(a=T[0][1],h=T[1][1]),T[0][0]===i&&T[0][1]===a&&T[1][0]===l&&T[1][1]===h||(S.selection=[[i,a],[l,h]],u.call(v),V.brush())}function z(){if(Kn(),sn.touches){if(sn.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),G.on("touchmove.brush touchend.brush touchcancel.brush",null)}else vt(sn.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);G.attr("pointer-events","all"),N.attr("cursor",ue.overlay),S.selection&&(T=S.selection),_e(T)&&(S.selection=null,u.call(v)),V.end()}}function f(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return a.move=function(n,e){n.selection?n.on("start.brush",function(){s(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){s(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),c=Object(Pt.a)(o,a);function l(t){r.selection=1===t&&_e(a)?null:c(t),u.call(n),i.brush()}return o&&a?l:l(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),o=s(this,n).beforestart();Dn(this),r.selection=null==i||_e(i)?null:i,u.call(this),o.start().brush().end()})},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){!function(t,n,e,r){var i=sn;t.sourceEvent=sn,sn=t;try{n.apply(e,r)}finally{sn=i}}(new Zn(a,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},a.extent=function(t){return arguments.length?(e="function"==typeof t?t:$n([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),a):e},a.filter=function(t){return arguments.length?(r="function"==typeof t?t:$n(!!t),a):r},a.handleSize=function(t){return arguments.length?(o=+t,a):o},a.on=function(){var t=i.on.apply(i,arguments);return t===i?a:t},a}var we=Math.cos,Se=Math.sin,Ae=Math.PI,Te=Ae/2,Pe=2*Ae,Me=Math.max;var Ce=function(){var t=0,n=null,e=null,i=null;function o(o){var a,u,s,c,l,f,h=o.length,d=[],p=Object(r.s)(h),g=[],_=[],y=_.groups=new Array(h),v=new Array(h*h);for(a=0,l=-1;++l<h;){for(u=0,f=-1;++f<h;)u+=o[l][f];d.push(u),g.push(Object(r.s)(h)),a+=u}for(n&&p.sort(function(t,e){return n(d[t],d[e])}),e&&g.forEach(function(t,n){t.sort(function(t,r){return e(o[n][t],o[n][r])})}),c=(a=Me(0,Pe-t*h)/a)?t:Pe/h,u=0,l=-1;++l<h;){for(s=u,f=-1;++f<h;){var x=p[l],m=g[x][f],b=o[x][m],w=u,S=u+=b*a;v[m*h+x]={index:x,subindex:m,startAngle:w,endAngle:S,value:b}}y[x]={index:x,startAngle:s,endAngle:u,value:d[x]},u+=c}for(l=-1;++l<h;)for(f=l-1;++f<h;){var A=v[f*h+l],T=v[l*h+f];(A.value||T.value)&&_.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return i?_.sort(i):_}return o.padAngle=function(n){return arguments.length?(t=Me(0,n),o):t},o.sortGroups=function(t){return arguments.length?(n=t,o):n},o.sortSubgroups=function(t){return arguments.length?(e=t,o):e},o.sortChords=function(t){return arguments.length?(null==t?i=null:(i=function(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}(t))._=t,o):i&&i._},o},Ee=Array.prototype.slice,Le=function(t){return function(){return t}},ke=e(5);function Oe(t){return t.source}function Ve(t){return t.target}function Ge(t){return t.radius}function Ne(t){return t.startAngle}function Re(t){return t.endAngle}var Ie=function(){var t=Oe,n=Ve,e=Ge,r=Ne,i=Re,o=null;function a(){var a,u=Ee.call(arguments),s=t.apply(this,u),c=n.apply(this,u),l=+e.apply(this,(u[0]=s,u)),f=r.apply(this,u)-Te,h=i.apply(this,u)-Te,d=l*we(f),p=l*Se(f),g=+e.apply(this,(u[0]=c,u)),_=r.apply(this,u)-Te,y=i.apply(this,u)-Te;if(o||(o=a=Object(ke.a)()),o.moveTo(d,p),o.arc(0,0,l,f,h),f===_&&h===y||(o.quadraticCurveTo(0,0,g*we(_),g*Se(_)),o.arc(0,0,g,_,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Le(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Le(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Le(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a};function De(){}function ze(t,n){var e=new De;if(t instanceof De)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}De.prototype=ze.prototype={constructor:De,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Fe=ze,je=function(){var t,n,e,r=[],i=[];function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var s,c,l,f=-1,h=e.length,d=r[i++],p=Fe(),g=a();++f<h;)(l=p.get(s=d(c=e[f])+""))?l.push(c):p.set(s,[c]);return p.each(function(t,n){u(g,n,o(t,i,a,u))}),g}return e={object:function(t){return o(t,0,Be,Xe)},map:function(t){return o(t,0,He,Ye)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var a,u=i[o-1];return null!=n&&o>=r.length?a=e.entries():(a=[],e.each(function(n,e){a.push({key:e,values:t(n,o)})})),null!=u?a.sort(function(t,n){return u(t.key,n.key)}):a}(o(t,0,He,Ye),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function Be(){return{}}function Xe(t,n,e){t[n]=e}function He(){return Fe()}function Ye(t,n,e){t.set(n,e)}function Ue(){}var qe=Fe.prototype;function We(t,n){var e=new Ue;if(t instanceof Ue)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ue.prototype=We.prototype={constructor:Ue,has:qe.has,add:function(t){return this["$"+(t+="")]=t,this},remove:qe.remove,clear:qe.clear,values:qe.keys,size:qe.size,empty:qe.empty,each:qe.each};var Qe=We,$e=function(t){var n=[];for(var e in t)n.push(e);return n},Ze=function(t){var n=[];for(var e in t)n.push(t[e]);return n},Ke=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Je=Array.prototype.slice,tr=function(t,n){return t-n},nr=function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r},er=function(t){return function(){return t}},rr=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ir(t,n[r]))return e;return 0};function ir(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var s=t[o],c=s[0],l=s[1],f=t[u],h=f[0],d=f[1];if(or(s,f,n))return 0;l>r!=d>r&&e<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function or(t,n,e){var r;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&function(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}(t[r=+(t[0]===n[0])],e[r],n[r])}var ar=function(){},ur=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],sr=function(){var t=1,n=1,e=r.y,i=s;function o(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(tr);else{var i=Object(r.i)(t),o=i[0],u=i[1];n=Object(r.A)(o,u,n),n=Object(r.s)(Math.floor(o/n)*n,Math.floor(u/n)*n,n)}return n.map(function(n){return a(t,n)})}function a(e,r){var o=[],a=[];return function(e,r,i){var o,a,s,c,l,f,h=new Array,d=new Array;o=a=-1,c=e[0]>=r,ur[c<<1].forEach(p);for(;++o<t-1;)s=c,c=e[o+1]>=r,ur[s|c<<1].forEach(p);ur[c<<0].forEach(p);for(;++a<n-1;){for(o=-1,c=e[a*t+t]>=r,l=e[a*t]>=r,ur[c<<1|l<<2].forEach(p);++o<t-1;)s=c,c=e[a*t+t+o+1]>=r,f=l,l=e[a*t+o+1]>=r,ur[s|c<<1|l<<2|f<<3].forEach(p);ur[c|l<<3].forEach(p)}o=-1,l=e[a*t]>=r,ur[l<<2].forEach(p);for(;++o<t-1;)f=l,l=e[a*t+o+1]>=r,ur[l<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+a],s=[t[1][0]+o,t[1][1]+a],c=u(r),l=u(s);(n=d[c])?(e=h[l])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=l]=n):(n=h[l])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[l]={start:c,end:l,ring:[r,s]}}ur[l<<3].forEach(p)}(e,r,function(t){i(t,e,r),nr(t)>0?o.push([t]):a.push(t)}),a.forEach(function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==rr((n=o[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:r,coordinates:o}}function u(n){return 2*n[0]+n[1]*(t+1)*4}function s(e,r,i){e.forEach(function(e){var o,a=e[0],u=e[1],s=0|a,c=0|u,l=r[c*t+s];a>0&&a<t&&s===a&&(o=r[c*t+s-1],e[0]=a+(i-o)/(l-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+s],e[1]=u+(i-o)/(l-o)-.5)})}return o.contour=a,o.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!(r>0&&i>0))throw new Error("invalid size");return t=r,n=i,o},o.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?er(Je.call(t)):er(t),o):e},o.smooth=function(t){return arguments.length?(i=t?s:ar,o):i===s},o};function cr(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,s=0;u<r+e;++u)u<r&&(s+=t.data[u+a*r]),u>=e&&(u>=o&&(s-=t.data[u-o+a*r]),n.data[u-e+a*r]=s/Math.min(u+1,r-1+o-u,o))}function lr(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,s=0;u<i+e;++u)u<i&&(s+=t.data[a+u*r]),u>=e&&(u>=o&&(s-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=s/Math.min(u+1,i-1+o-u,o))}function fr(t){return t[0]}function hr(t){return t[1]}function dr(){return 1}var pr=function(){var t=fr,n=hr,e=dr,i=960,o=500,a=20,u=2,s=3*a,c=i+2*s>>u,l=o+2*s>>u,f=er(20);function h(i){var o=new Float32Array(c*l),h=new Float32Array(c*l);i.forEach(function(r,i,a){var f=+t(r,i,a)+s>>u,h=+n(r,i,a)+s>>u,d=+e(r,i,a);f>=0&&f<c&&h>=0&&h<l&&(o[f+h*c]+=d)}),cr({width:c,height:l,data:o},{width:c,height:l,data:h},a>>u),lr({width:c,height:l,data:h},{width:c,height:l,data:o},a>>u),cr({width:c,height:l,data:o},{width:c,height:l,data:h},a>>u),lr({width:c,height:l,data:h},{width:c,height:l,data:o},a>>u),cr({width:c,height:l,data:o},{width:c,height:l,data:h},a>>u),lr({width:c,height:l,data:h},{width:c,height:l,data:o},a>>u);var p=f(o);if(!Array.isArray(p)){var g=Object(r.k)(o);p=Object(r.A)(0,g,p),(p=Object(r.s)(0,Math.floor(g/p)*p,p)).shift()}return sr().thresholds(p).size([c,l])(o).map(d)}function d(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(p),t}function p(t){t.forEach(g)}function g(t){t.forEach(_)}function _(t){t[0]=t[0]*Math.pow(2,u)-s,t[1]=t[1]*Math.pow(2,u)-s}function y(){return c=i+2*(s=3*a)>>u,l=o+2*s>>u,h}return h.x=function(n){return arguments.length?(t="function"==typeof n?n:er(+n),h):t},h.y=function(t){return arguments.length?(n="function"==typeof t?t:er(+t),h):n},h.weight=function(t){return arguments.length?(e="function"==typeof t?t:er(+t),h):e},h.size=function(t){if(!arguments.length)return[i,o];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return i=n,o=e,y()},h.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),y()},h.thresholds=function(t){return arguments.length?(f="function"==typeof t?t:Array.isArray(t)?er(Je.call(t)):er(t),h):f},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},h},gr=e(9);function _r(t){return+t}function yr(t){return t*t}function vr(t){return t*(2-t)}function xr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function mr(t){return t*t*t}function br(t){return--t*t*t+1}function wr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sr=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Ar=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Tr=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Pr=Math.PI,Mr=Pr/2;function Cr(t){return 1-Math.cos(t*Mr)}function Er(t){return Math.sin(t*Mr)}function Lr(t){return(1-Math.cos(Pr*t))/2}function kr(t){return Math.pow(2,10*t-10)}function Or(t){return 1-Math.pow(2,-10*t)}function Vr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Gr(t){return 1-Math.sqrt(1-t*t)}function Nr(t){return Math.sqrt(1- --t*t)}function Rr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ir=4/11,Dr=6/11,zr=8/11,Fr=.75,jr=9/11,Br=10/11,Xr=.9375,Hr=21/22,Yr=63/64,Ur=1/Ir/Ir;function qr(t){return 1-Wr(1-t)}function Wr(t){return(t=+t)<Ir?Ur*t*t:t<zr?Ur*(t-=Dr)*t+Fr:t<Br?Ur*(t-=jr)*t+Xr:Ur*(t-=Hr)*t+Yr}function Qr(t){return((t*=2)<=1?1-Wr(1-t):Wr(t-1)+1)/2}var $r=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Zr=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Kr=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),Jr=2*Math.PI,ti=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Jr);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Jr)},i.period=function(e){return t(n,e)},i}(1,.3),ni=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Jr);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Jr)},i.period=function(e){return t(n,e)},i}(1,.3),ei=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Jr);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Jr)},i.period=function(e){return t(n,e)},i}(1,.3);function ri(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var ii=function(t,n){return fetch(t,n).then(ri)};function oi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var ai=function(t,n){return fetch(t,n).then(oi)};function ui(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var si=function(t,n){return fetch(t,n).then(ui)};function ci(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),si(n,e).then(function(n){return t(n,r)})}}function li(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Object(gr.e)(t);return si(n,e).then(function(t){return i.parse(t,r)})}var fi=ci(gr.c),hi=ci(gr.h),di=function(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})};function pi(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var gi=function(t,n){return fetch(t,n).then(pi)};function _i(t){return function(n,e){return si(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var yi=_i("application/xml"),vi=_i("text/html"),xi=_i("image/svg+xml"),mi=function(t,n){var e;function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},bi=function(t){return function(){return t}},wi=function(){return 1e-6*(Math.random()-.5)};function Si(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,l,f,h,d=t._root,p={data:r},g=t._x0,_=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(_+v)/2))?_=a:v=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(_+v)/2))?_=a:v=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}var Ai=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function Ti(t){return t[0]}function Pi(t){return t[1]}function Mi(t,n,e){var r=new Ci(null==n?Ti:n,null==e?Pi:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ci(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ei(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Li=Mi.prototype=Ci.prototype;function ki(t){return t.x+t.vx}function Oi(t){return t.y+t.vy}Li.copy=function(){var t,n,e=new Ci(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ei(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ei(n));return e},Li.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Si(this.cover(n,e),n,e,t)},Li.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));for(l<s&&(s=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(s,c).cover(l,f),e=0;e<o;++e)Si(this,a[e],u[e],t[e]);return this},Li.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,s=i-e,c=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),t>(i=e+s)||n>o);break;case 1:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),(e=i-s)>t||n>o);break;case 2:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),t>(i=e+s)||r>n);break;case 3:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),(e=i-s)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Li.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Li.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Li.find=function(t,n,e){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ai(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var _=(i+a)/2,y=(o+u)/2;p.push(new Ai(g[3],_,y,a,u),new Ai(g[2],i,y,_,u),new Ai(g[1],_,o,a,y),new Ai(g[0],i,o,_,y)),(c=(n>=y)<<1|t>=_)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var v=t-+this._x.call(null,g.data),x=n-+this._y.call(null,g.data),m=v*v+x*x;if(m<e){var b=Math.sqrt(e=m);l=t-b,f=n-b,h=t+b,d=n+b,r=g.data}}return r},Li.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,l,f,h,d=this._root,p=this._x0,g=this._y0,_=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+_)/2))?p=u:_=u,(l=a>=(s=(g+y)/2))?g=s:y=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Li.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Li.root=function(){return this._root},Li.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Li.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new Ai(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(e=s[3])&&u.push(new Ai(e,c,l,o,a)),(e=s[2])&&u.push(new Ai(e,r,l,c,a)),(e=s[1])&&u.push(new Ai(e,c,i,o,l)),(e=s[0])&&u.push(new Ai(e,r,i,c,l))}return this},Li.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Ai(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&e.push(new Ai(o,a,u,l,f)),(o=i[1])&&e.push(new Ai(o,l,u,s,f)),(o=i[2])&&e.push(new Ai(o,a,f,l,c)),(o=i[3])&&e.push(new Ai(o,l,f,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Li.x=function(t){return arguments.length?(this._x=t,this):this._x},Li.y=function(t){return arguments.length?(this._y=t,this):this._y};var Vi=function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,s,c,l,f,h=n.length,d=0;d<i;++d)for(o=Mi(n,ki,Oi).visitAfter(a),t=0;t<h;++t)u=n[t],l=e[u.index],f=l*l,s=u.x+u.vx,c=u.y+u.vy,o.visit(p);function p(t,n,e,i,o){var a=t.data,h=t.r,d=l+h;if(!a)return n>s+d||i<s-d||e>c+d||o<c-d;if(a.index>u.index){var p=s-a.x-a.vx,g=c-a.y-a.vy,_=p*p+g*g;_<d*d&&(0===p&&(_+=(p=wi())*p),0===g&&(_+=(g=wi())*g),_=(d-(_=Math.sqrt(_)))/_*r,u.vx+=(p*=_)*(d=(h*=h)/(f+h)),u.vy+=(g*=_)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=bi(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:bi(+n),u(),o):t},o};function Gi(){}function Ni(t,n){var e=new Gi;if(t instanceof Gi)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}Gi.prototype=Ni.prototype={constructor:Gi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Ri=Ni;function Ii(){}var Di=Ri.prototype;function zi(t,n){var e=new Ii;if(t instanceof Ii)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ii.prototype=zi.prototype={constructor:Ii,has:Di.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Di.remove,clear:Di.clear,values:Di.keys,size:Di.size,empty:Di.empty,each:Di.each};function Fi(t){return t.index}function ji(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var Bi=function(t){var n,e,r,i,o,a=Fi,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=bi(30),c=1;function l(r){for(var i=0,a=t.length;i<c;++i)for(var u,s,l,f,h,d,p,g=0;g<a;++g)s=(u=t[g]).source,f=(l=u.target).x+l.vx-s.x-s.vx||wi(),h=l.y+l.vy-s.y-s.vy||wi(),f*=d=((d=Math.sqrt(f*f+h*h))-e[g])/d*r*n[g],h*=d,l.vx-=f*(p=o[g]),l.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function f(){if(r){var u,s,c=r.length,l=t.length,f=Ri(r,a);for(u=0,i=new Array(c);u<l;++u)(s=t[u]).index=u,"object"!=typeof s.source&&(s.source=ji(f,s.source)),"object"!=typeof s.target&&(s.target=ji(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(u=0,o=new Array(l);u<l;++u)s=t[u],o[u]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(l),h(),e=new Array(l),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(n){return arguments.length?(t=n,f(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(u="function"==typeof t?t:bi(+t),h(),l):u},l.distance=function(t){return arguments.length?(s="function"==typeof t?t:bi(+t),d(),l):s},l};function Xi(t){return t.x}function Hi(t){return t.y}var Yi=10,Ui=Math.PI*(3-Math.sqrt(5)),qi=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Ri(),s=Object(An.d)(l),c=Object(x.a)("tick","end");function l(){f(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function f(){var n,r,s=t.length;for(e+=(o-e)*i,u.each(function(t){t(e)}),n=0;n<s;++n)null==(r=t[n]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var i=Yi*Math.sqrt(e),o=e*Ui;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return s.restart(l),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,s,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(s=u,r=a);return s},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},Wi=function(){var t,n,e,r,i=bi(-30),o=1,a=1/0,u=.81;function s(r){var i,o=t.length,a=Mi(t,Xi,Hi).visitAfter(l);for(e=r,i=0;i<o;++i)n=t[i],a.visit(f)}function c(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function l(t){var n,e,i,o,a,u=0,s=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,i+=e*n.x,o+=e*n.y);t.x=i/s,t.y=o/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function f(t,i,s,c){if(!t.value)return!0;var l=t.x-n.x,f=t.y-n.y,h=c-i,d=l*l+f*f;if(h*h/u<d)return d<a&&(0===l&&(d+=(l=wi())*l),0===f&&(d+=(f=wi())*f),d<o&&(d=Math.sqrt(o*d)),n.vx+=l*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===l&&(d+=(l=wi())*l),0===f&&(d+=(f=wi())*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=l*h,n.vy+=f*h)}while(t=t.next)}}return s.initialize=function(n){t=n,c()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:bi(+t),c(),s):i},s.distanceMin=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.distanceMax=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.theta=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s},Qi=function(t,n,e){var r,i,o,a=bi(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var s=r[a],c=s.x-n||1e-6,l=s.y-e||1e-6,f=Math.sqrt(c*c+l*l),h=(o[a]-f)*i[a]*t/f;s.vx+=c*h,s.vy+=l*h}}function s(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=bi(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,s()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:bi(+t),s(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:bi(+n),s(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},$i=function(t){var n,e,r,i=bi(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=bi(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:bi(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:bi(+n),a(),o):t},o},Zi=function(t){var n,e,r,i=bi(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=bi(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:bi(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:bi(+n),a(),o):t},o},Ki=e(6),Ji=function(){return new to};function to(){this.reset()}to.prototype={constructor:to,reset:function(){this.s=this.t=0},add:function(t){eo(no,t,this.t),eo(this,no.s,this.s),this.s?this.t+=no.t:this.s=no.t},valueOf:function(){return this.s}};var no=new to;function eo(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var ro=1e-6,io=Math.PI,oo=io/2,ao=io/4,uo=2*io,so=180/io,co=io/180,lo=Math.abs,fo=Math.atan,ho=Math.atan2,po=Math.cos,go=Math.ceil,_o=Math.exp,yo=(Math.floor,Math.log),vo=Math.pow,xo=Math.sin,mo=Math.sign||function(t){return t>0?1:t<0?-1:0},bo=Math.sqrt,wo=Math.tan;function So(t){return t>1?0:t<-1?io:Math.acos(t)}function Ao(t){return t>1?oo:t<-1?-oo:Math.asin(t)}function To(t){return(t=xo(t/2))*t}function Po(){}function Mo(t,n){t&&Eo.hasOwnProperty(t.type)&&Eo[t.type](t,n)}var Co={Feature:function(t,n){Mo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Mo(e[r].geometry,n)}},Eo={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Lo(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Lo(e[r],n,0)},Polygon:function(t,n){ko(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ko(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Mo(e[r],n)}};function Lo(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ko(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Lo(t[e],n,1);n.polygonEnd()}var Oo,Vo,Go,No,Ro,Io=function(t,n){t&&Co.hasOwnProperty(t.type)?Co[t.type](t,n):Mo(t,n)},Do=Ji(),zo=Ji(),Fo={point:Po,lineStart:Po,lineEnd:Po,polygonStart:function(){Do.reset(),Fo.lineStart=jo,Fo.lineEnd=Bo},polygonEnd:function(){var t=+Do;zo.add(t<0?uo+t:t),this.lineStart=this.lineEnd=this.point=Po},sphere:function(){zo.add(uo)}};function jo(){Fo.point=Xo}function Bo(){Ho(Oo,Vo)}function Xo(t,n){Fo.point=Ho,Oo=t,Vo=n,Go=t*=co,No=po(n=(n*=co)/2+ao),Ro=xo(n)}function Ho(t,n){n=(n*=co)/2+ao;var e=(t*=co)-Go,r=e>=0?1:-1,i=r*e,o=po(n),a=xo(n),u=Ro*a,s=No*o+u*po(i),c=u*r*xo(i);Do.add(ho(c,s)),Go=t,No=o,Ro=a}var Yo=function(t){return zo.reset(),Io(t,Fo),2*zo};function Uo(t){return[ho(t[1],t[0]),Ao(t[2])]}function qo(t){var n=t[0],e=t[1],r=po(e);return[r*po(n),r*xo(n),xo(e)]}function Wo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Qo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function $o(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Zo(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Ko(t){var n=bo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Jo,ta,na,ea,ra,ia,oa,aa,ua,sa,ca=Ji(),la={point:fa,lineStart:da,lineEnd:pa,polygonStart:function(){la.point=ga,la.lineStart=_a,la.lineEnd=ya,ca.reset(),Fo.polygonStart()},polygonEnd:function(){Fo.polygonEnd(),la.point=fa,la.lineStart=da,la.lineEnd=pa,Do<0?(Jo=-(na=180),ta=-(ea=90)):ca>ro?ea=90:ca<-ro&&(ta=-90),sa[0]=Jo,sa[1]=na}};function fa(t,n){ua.push(sa=[Jo=t,na=t]),n<ta&&(ta=n),n>ea&&(ea=n)}function ha(t,n){var e=qo([t*co,n*co]);if(aa){var r=Qo(aa,e),i=Qo([r[1],-r[0],0],r);Ko(i),i=Uo(i);var o,a=t-ra,u=a>0?1:-1,s=i[0]*so*u,c=lo(a)>180;c^(u*ra<s&&s<u*t)?(o=i[1]*so)>ea&&(ea=o):c^(u*ra<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*so)<ta&&(ta=o):(n<ta&&(ta=n),n>ea&&(ea=n)),c?t<ra?va(Jo,t)>va(Jo,na)&&(na=t):va(t,na)>va(Jo,na)&&(Jo=t):na>=Jo?(t<Jo&&(Jo=t),t>na&&(na=t)):t>ra?va(Jo,t)>va(Jo,na)&&(na=t):va(t,na)>va(Jo,na)&&(Jo=t)}else ua.push(sa=[Jo=t,na=t]);n<ta&&(ta=n),n>ea&&(ea=n),aa=e,ra=t}function da(){la.point=ha}function pa(){sa[0]=Jo,sa[1]=na,la.point=fa,aa=null}function ga(t,n){if(aa){var e=t-ra;ca.add(lo(e)>180?e+(e>0?360:-360):e)}else ia=t,oa=n;Fo.point(t,n),ha(t,n)}function _a(){Fo.lineStart()}function ya(){ga(ia,oa),Fo.lineEnd(),lo(ca)>ro&&(Jo=-(na=180)),sa[0]=Jo,sa[1]=na,aa=null}function va(t,n){return(n-=t)<0?n+360:n}function xa(t,n){return t[0]-n[0]}function ma(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ba,wa,Sa,Aa,Ta,Pa,Ma,Ca,Ea,La,ka,Oa,Va,Ga,Na,Ra,Ia=function(t){var n,e,r,i,o,a,u;if(ea=na=-(Jo=ta=1/0),ua=[],Io(t,la),e=ua.length){for(ua.sort(xa),n=1,o=[r=ua[0]];n<e;++n)ma(r,(i=ua[n])[0])||ma(r,i[1])?(va(r[0],i[1])>va(r[0],r[1])&&(r[1]=i[1]),va(i[0],r[1])>va(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=va(r[1],i[0]))>a&&(a=u,Jo=i[0],na=r[1])}return ua=sa=null,Jo===1/0||ta===1/0?[[NaN,NaN],[NaN,NaN]]:[[Jo,ta],[na,ea]]},Da={sphere:Po,point:za,lineStart:ja,lineEnd:Ha,polygonStart:function(){Da.lineStart=Ya,Da.lineEnd=Ua},polygonEnd:function(){Da.lineStart=ja,Da.lineEnd=Ha}};function za(t,n){t*=co;var e=po(n*=co);Fa(e*po(t),e*xo(t),xo(n))}function Fa(t,n,e){Sa+=(t-Sa)/++ba,Aa+=(n-Aa)/ba,Ta+=(e-Ta)/ba}function ja(){Da.point=Ba}function Ba(t,n){t*=co;var e=po(n*=co);Ga=e*po(t),Na=e*xo(t),Ra=xo(n),Da.point=Xa,Fa(Ga,Na,Ra)}function Xa(t,n){t*=co;var e=po(n*=co),r=e*po(t),i=e*xo(t),o=xo(n),a=ho(bo((a=Na*o-Ra*i)*a+(a=Ra*r-Ga*o)*a+(a=Ga*i-Na*r)*a),Ga*r+Na*i+Ra*o);wa+=a,Pa+=a*(Ga+(Ga=r)),Ma+=a*(Na+(Na=i)),Ca+=a*(Ra+(Ra=o)),Fa(Ga,Na,Ra)}function Ha(){Da.point=za}function Ya(){Da.point=qa}function Ua(){Wa(Oa,Va),Da.point=za}function qa(t,n){Oa=t,Va=n,t*=co,n*=co,Da.point=Wa;var e=po(n);Ga=e*po(t),Na=e*xo(t),Ra=xo(n),Fa(Ga,Na,Ra)}function Wa(t,n){t*=co;var e=po(n*=co),r=e*po(t),i=e*xo(t),o=xo(n),a=Na*o-Ra*i,u=Ra*r-Ga*o,s=Ga*i-Na*r,c=bo(a*a+u*u+s*s),l=Ao(c),f=c&&-l/c;Ea+=f*a,La+=f*u,ka+=f*s,wa+=l,Pa+=l*(Ga+(Ga=r)),Ma+=l*(Na+(Na=i)),Ca+=l*(Ra+(Ra=o)),Fa(Ga,Na,Ra)}var Qa=function(t){ba=wa=Sa=Aa=Ta=Pa=Ma=Ca=Ea=La=ka=0,Io(t,Da);var n=Ea,e=La,r=ka,i=n*n+e*e+r*r;return i<1e-12&&(n=Pa,e=Ma,r=Ca,wa<ro&&(n=Sa,e=Aa,r=Ta),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[ho(e,n)*so,Ao(r/bo(i))*so]},$a=function(t){return function(){return t}},Za=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function Ka(t,n){return[t>io?t-uo:t<-io?t+uo:t,n]}function Ja(t,n,e){return(t%=uo)?n||e?Za(nu(t),eu(n,e)):nu(t):n||e?eu(n,e):Ka}function tu(t){return function(n,e){return[(n+=t)>io?n-uo:n<-io?n+uo:n,e]}}function nu(t){var n=tu(t);return n.invert=tu(-t),n}function eu(t,n){var e=po(t),r=xo(t),i=po(n),o=xo(n);function a(t,n){var a=po(n),u=po(t)*a,s=xo(t)*a,c=xo(n),l=c*e+u*r;return[ho(s*i-l*o,u*e-c*r),Ao(l*i+s*o)]}return a.invert=function(t,n){var a=po(n),u=po(t)*a,s=xo(t)*a,c=xo(n),l=c*i-s*o;return[ho(s*i+c*o,u*e+l*r),Ao(l*e-u*r)]},a}Ka.invert=Ka;var ru=function(t){function n(n){return(n=t(n[0]*co,n[1]*co))[0]*=so,n[1]*=so,n}return t=Ja(t[0]*co,t[1]*co,t.length>2?t[2]*co:0),n.invert=function(n){return(n=t.invert(n[0]*co,n[1]*co))[0]*=so,n[1]*=so,n},n};function iu(t,n,e,r,i,o){if(e){var a=po(n),u=xo(n),s=r*e;null==i?(i=n+r*uo,o=n-s/2):(i=ou(a,i),o=ou(a,o),(r>0?i<o:i>o)&&(i+=r*uo));for(var c,l=i;r>0?l>o:l<o;l-=s)c=Uo([a,-u*po(l),-u*xo(l)]),t.point(c[0],c[1])}}function ou(t,n){(n=qo(n))[0]-=t,Ko(n);var e=So(-n[1]);return((-n[2]<0?-e:e)+uo-ro)%uo}var au=function(){var t,n,e=$a([0,0]),r=$a(90),i=$a(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=so,e[1]*=so}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*co,s=i.apply(this,arguments)*co;return t=[],n=Ja(-a[0]*co,-a[1]*co,0).invert,iu(o,u,s,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:$a([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:$a(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:$a(+t),a):i},a},uu=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Po,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},su=function(t,n){return lo(t[0]-n[0])<ro&&lo(t[1]-n[1])<ro};function cu(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var lu=function(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(su(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new cu(r,t,null,!0)),s.push(e.o=new cu(r,null,e,!1)),u.push(e=new cu(a,t,null,!1)),s.push(e.o=new cu(a,null,e,!0))}}),u.length){for(s.sort(n),fu(u),fu(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function fu(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var hu=Ji(),du=function(t,n){var e=n[0],r=n[1],i=xo(r),o=[xo(e),-po(e),0],a=0,u=0;hu.reset(),1===i?r=oo+ro:-1===i&&(r=-oo-ro);for(var s=0,c=t.length;s<c;++s)if(f=(l=t[s]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+ao,g=xo(p),_=po(p),y=0;y<f;++y,d=x,g=b,_=w,h=v){var v=l[y],x=v[0],m=v[1]/2+ao,b=xo(m),w=po(m),S=x-d,A=S>=0?1:-1,T=A*S,P=T>io,M=g*b;if(hu.add(ho(M*A*xo(T),_*w+M*po(T))),a+=P?S+A*uo:S,P^d>=e^x>=e){var C=Qo(qo(h),qo(v));Ko(C);var E=Qo(o,C);Ko(E);var L=(P^S>=0?-1:1)*Ao(E[2]);(r>L||r===L&&(C[0]||C[1]))&&(u+=P^S>=0?1:-1)}}return(a<-ro||a<ro&&hu<-ro)^1&u},pu=function(t,n,e,i){return function(o){var a,u,s,c=n(o),l=uu(),f=n(l),h=!1,d={point:p,lineStart:_,lineEnd:y,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=m,u=[],a=[]},polygonEnd:function(){d.point=p,d.lineStart=_,d.lineEnd=y,u=Object(r.n)(u);var t=du(a,i);u.length?(h||(o.polygonStart(),h=!0),lu(u,_u,t,e,o)):t&&(h||(o.polygonStart(),h=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),u=a=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(n,e){t(n,e)&&o.point(n,e)}function g(t,n){c.point(t,n)}function _(){d.point=g,c.lineStart()}function y(){d.point=p,c.lineEnd()}function v(t,n){s.push([t,n]),f.point(t,n)}function x(){f.lineStart(),s=[]}function m(){v(s[0][0],s[0][1]),f.lineEnd();var t,n,e,r,i=f.clean(),c=l.result(),d=c.length;if(s.pop(),a.push(s),s=null,d)if(1&i){if((n=(e=c[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else d>1&&2&i&&c.push(c.pop().concat(c.shift())),u.push(c.filter(gu))}return d}};function gu(t){return t.length>1}function _u(t,n){return((t=t.x)[0]<0?t[1]-oo-ro:oo-t[1])-((n=n.x)[0]<0?n[1]-oo-ro:oo-n[1])}var yu=pu(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?io:-io,s=lo(o-e);lo(s-io)<ro?(t.point(e,r=(r+a)/2>0?oo:-oo),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=io&&(lo(e-i)<ro&&(e-=i*ro),lo(o-u)<ro&&(o-=u*ro),r=function(t,n,e,r){var i,o,a=xo(t-e);return lo(a)>ro?fo((xo(n)*(o=po(r))*xo(e)-xo(r)*(i=po(n))*xo(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*oo,r.point(-io,i),r.point(0,i),r.point(io,i),r.point(io,0),r.point(io,-i),r.point(0,-i),r.point(-io,-i),r.point(-io,0),r.point(-io,i);else if(lo(t[0]-n[0])>ro){var o=t[0]<n[0]?io:-io;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-io,-oo]);var vu=function(t){var n=po(t),e=6*co,r=n>0,i=lo(n)>ro;function o(t,e){return po(t)*po(e)>n}function a(t,e,r){var i=[1,0,0],o=Qo(qo(t),qo(e)),a=Wo(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=Qo(i,o),h=Zo(i,c);$o(h,Zo(o,l));var d=f,p=Wo(h,d),g=Wo(d,d),_=p*p-g*(Wo(h,h)-1);if(!(_<0)){var y=bo(_),v=Zo(d,(-p-y)/g);if($o(v,h),v=Uo(v),!r)return v;var x,m=t[0],b=e[0],w=t[1],S=e[1];b<m&&(x=m,m=b,b=x);var A=b-m,T=lo(A-io)<ro;if(!T&&S<w&&(x=w,w=S,S=x),T||A<ro?T?w+S>0^v[1]<(lo(v[0]-m)<ro?w:S):w<=v[1]&&v[1]<=S:A>io^(m<=v[0]&&v[0]<=b)){var P=Zo(d,(-p+y)/g);return $o(P,h),[v,Uo(P)]}}}function u(n,e){var i=r?t:io-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return pu(o,function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var d,p=[f,h],g=o(f,h),_=r?g?0:u(f,h):g?u(f+(f<0?io:-io),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||su(n,d)||su(p,d))&&(p[0]+=ro,p[1]+=ro,g=o(p[0],p[1])),g!==s)l=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;_&e||!(y=a(p,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&su(n,p)||t.point(p[0],p[1]),n=p,s=g,e=_},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}},function(n,r,i,o){iu(o,t,e,i,n,r)},r?[0,-t]:[-io,t-io])},xu=function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*h),l<1&&(n[0]=u+l*f,n[1]=s+l*h),!0}}}}},mu=1e9,bu=-mu;function wu(t,n,e,i){function o(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function a(r,o,a,s){var l=0,f=0;if(null==r||(l=u(r,a))!==(f=u(o,a))||c(r,o)<0^a>0)do{s.point(0===l||3===l?t:e,l>1?i:n)}while((l=(l+a+4)%4)!==f);else s.point(o[0],o[1])}function u(r,i){return lo(r[0]-t)<ro?i>0?0:3:lo(r[0]-e)<ro?i>0?2:1:lo(r[1]-n)<ro?i>0?1:0:i>0?3:2}function s(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,l,f,h,d,p,g,_,y,v,x,m=u,b=uu(),w={point:S,lineStart:function(){w.point=A,l&&l.push(f=[]);v=!0,y=!1,g=_=NaN},lineEnd:function(){c&&(A(h,d),p&&y&&b.rejoin(),c.push(b.result()));w.point=S,y&&m.lineEnd()},polygonStart:function(){m=b,c=[],l=[],x=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=l.length;e<r;++e)for(var o,a,u=l[e],s=1,c=u.length,f=u[0],h=f[0],d=f[1];s<c;++s)o=h,a=d,f=u[s],h=f[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++n:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--n;return n}(),e=x&&n,o=(c=Object(r.n)(c)).length;(e||o)&&(u.polygonStart(),e&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),o&&lu(c,s,n,a,u),u.polygonEnd());m=u,c=l=f=null}};function S(t,n){o(t,n)&&m.point(t,n)}function A(r,a){var u=o(r,a);if(l&&f.push([r,a]),v)h=r,d=a,p=u,v=!1,u&&(m.lineStart(),m.point(r,a));else if(u&&y)m.point(r,a);else{var s=[g=Math.max(bu,Math.min(mu,g)),_=Math.max(bu,Math.min(mu,_))],c=[r=Math.max(bu,Math.min(mu,r)),a=Math.max(bu,Math.min(mu,a))];xu(s,c,t,n,e,i)?(y||(m.lineStart(),m.point(s[0],s[1])),m.point(c[0],c[1]),u||m.lineEnd(),x=!1):u&&(m.lineStart(),m.point(r,a),x=!1)}g=r,_=a,y=u}return w}}var Su,Au,Tu,Pu=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=wu(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},Mu=Ji(),Cu={sphere:Po,point:Po,lineStart:function(){Cu.point=Lu,Cu.lineEnd=Eu},lineEnd:Po,polygonStart:Po,polygonEnd:Po};function Eu(){Cu.point=Cu.lineEnd=Po}function Lu(t,n){Su=t*=co,Au=xo(n*=co),Tu=po(n),Cu.point=ku}function ku(t,n){t*=co;var e=xo(n*=co),r=po(n),i=lo(t-Su),o=po(i),a=r*xo(i),u=Tu*e-Au*r*o,s=Au*e+Tu*r*o;Mu.add(ho(bo(a*a+u*u),s)),Su=t,Au=e,Tu=r}var Ou=function(t){return Mu.reset(),Io(t,Cu),+Mu},Vu=[null,null],Gu={type:"LineString",coordinates:Vu},Nu=function(t,n){return Vu[0]=t,Vu[1]=n,Ou(Gu)},Ru={Feature:function(t,n){return Du(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Du(e[r].geometry,n))return!0;return!1}},Iu={Sphere:function(){return!0},Point:function(t,n){return zu(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(zu(e[r],n))return!0;return!1},LineString:function(t,n){return Fu(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Fu(e[r],n))return!0;return!1},Polygon:function(t,n){return ju(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ju(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Du(e[r],n))return!0;return!1}};function Du(t,n){return!(!t||!Iu.hasOwnProperty(t.type))&&Iu[t.type](t,n)}function zu(t,n){return 0===Nu(t,n)}function Fu(t,n){var e=Nu(t[0],t[1]);return Nu(t[0],n)+Nu(n,t[1])<=e+ro}function ju(t,n){return!!du(t.map(Bu),Xu(n))}function Bu(t){return(t=t.map(Xu)).pop(),t}function Xu(t){return[t[0]*co,t[1]*co]}var Hu=function(t,n){return(t&&Ru.hasOwnProperty(t.type)?Ru[t.type]:Du)(t,n)};function Yu(t,n,e){var i=Object(r.s)(t,n-ro,e).concat(n);return function(t){return i.map(function(n){return[t,n]})}}function Uu(t,n,e){var i=Object(r.s)(t,n-ro,e).concat(n);return function(t){return i.map(function(n){return[n,t]})}}function qu(){var t,n,e,i,o,a,u,s,c,l,f,h,d=10,p=d,g=90,_=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:x()}}function x(){return Object(r.s)(go(i/g)*g,e,g).map(f).concat(Object(r.s)(go(s/_)*_,u,_).map(h)).concat(Object(r.s)(go(n/d)*d,t,d).filter(function(t){return lo(t%g)>ro}).map(c)).concat(Object(r.s)(go(a/p)*p,o,p).filter(function(t){return lo(t%_)>ro}).map(l))}return v.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(e).reverse().slice(1),h(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],e=+t[1][0],s=+t[0][1],u=+t[1][1],i>e&&(t=i,i=e,e=t),s>u&&(t=s,s=u,u=t),v.precision(y)):[[i,s],[e,u]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),v.precision(y)):[[n,a],[t,o]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(g=+t[0],_=+t[1],v):[g,_]},v.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],v):[d,p]},v.precision=function(r){return arguments.length?(y=+r,c=Yu(a,o,90),l=Uu(n,t,y),f=Yu(s,u,90),h=Uu(i,e,y),v):y},v.extentMajor([[-180,-90+ro],[180,90-ro]]).extentMinor([[-180,-80-ro],[180,80+ro]])}function Wu(){return qu()()}var Qu,$u,Zu,Ku,Ju=function(t,n){var e=t[0]*co,r=t[1]*co,i=n[0]*co,o=n[1]*co,a=po(r),u=xo(r),s=po(o),c=xo(o),l=a*po(e),f=a*xo(e),h=s*po(i),d=s*xo(i),p=2*Ao(bo(To(o-r)+a*s*To(i-e))),g=xo(p),_=p?function(t){var n=xo(t*=p)/g,e=xo(p-t)/g,r=e*l+n*h,i=e*f+n*d,o=e*u+n*c;return[ho(i,r)*so,ho(o,bo(r*r+i*i))*so]}:function(){return[e*so,r*so]};return _.distance=p,_},ts=function(t){return t},ns=Ji(),es=Ji(),rs={point:Po,lineStart:Po,lineEnd:Po,polygonStart:function(){rs.lineStart=is,rs.lineEnd=us},polygonEnd:function(){rs.lineStart=rs.lineEnd=rs.point=Po,ns.add(lo(es)),es.reset()},result:function(){var t=ns/2;return ns.reset(),t}};function is(){rs.point=os}function os(t,n){rs.point=as,Qu=Zu=t,$u=Ku=n}function as(t,n){es.add(Ku*t-Zu*n),Zu=t,Ku=n}function us(){as(Qu,$u)}var ss=rs,cs=1/0,ls=cs,fs=-cs,hs=fs;var ds,ps,gs,_s,ys={point:function(t,n){t<cs&&(cs=t);t>fs&&(fs=t);n<ls&&(ls=n);n>hs&&(hs=n)},lineStart:Po,lineEnd:Po,polygonStart:Po,polygonEnd:Po,result:function(){var t=[[cs,ls],[fs,hs]];return fs=hs=-(ls=cs=1/0),t}},vs=0,xs=0,ms=0,bs=0,ws=0,Ss=0,As=0,Ts=0,Ps=0,Ms={point:Cs,lineStart:Es,lineEnd:Os,polygonStart:function(){Ms.lineStart=Vs,Ms.lineEnd=Gs},polygonEnd:function(){Ms.point=Cs,Ms.lineStart=Es,Ms.lineEnd=Os},result:function(){var t=Ps?[As/Ps,Ts/Ps]:Ss?[bs/Ss,ws/Ss]:ms?[vs/ms,xs/ms]:[NaN,NaN];return vs=xs=ms=bs=ws=Ss=As=Ts=Ps=0,t}};function Cs(t,n){vs+=t,xs+=n,++ms}function Es(){Ms.point=Ls}function Ls(t,n){Ms.point=ks,Cs(gs=t,_s=n)}function ks(t,n){var e=t-gs,r=n-_s,i=bo(e*e+r*r);bs+=i*(gs+t)/2,ws+=i*(_s+n)/2,Ss+=i,Cs(gs=t,_s=n)}function Os(){Ms.point=Cs}function Vs(){Ms.point=Ns}function Gs(){Rs(ds,ps)}function Ns(t,n){Ms.point=Rs,Cs(ds=gs=t,ps=_s=n)}function Rs(t,n){var e=t-gs,r=n-_s,i=bo(e*e+r*r);bs+=i*(gs+t)/2,ws+=i*(_s+n)/2,Ss+=i,As+=(i=_s*t-gs*n)*(gs+t),Ts+=i*(_s+n),Ps+=3*i,Cs(gs=t,_s=n)}var Is=Ms;function Ds(t){this._context=t}Ds.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,uo)}},result:Po};var zs,Fs,js,Bs,Xs,Hs=Ji(),Ys={point:Po,lineStart:function(){Ys.point=Us},lineEnd:function(){zs&&qs(Fs,js),Ys.point=Po},polygonStart:function(){zs=!0},polygonEnd:function(){zs=null},result:function(){var t=+Hs;return Hs.reset(),t}};function Us(t,n){Ys.point=qs,Fs=Bs=t,js=Xs=n}function qs(t,n){Bs-=t,Xs-=n,Hs.add(bo(Bs*Bs+Xs*Xs)),Bs=t,Xs=n}var Ws=Ys;function Qs(){this._string=[]}function $s(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Qs.prototype={_radius:4.5,_circle:$s(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=$s(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Zs=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Io(t,e(r))),r.result()}return o.area=function(t){return Io(t,e(ss)),ss.result()},o.measure=function(t){return Io(t,e(Ws)),Ws.result()},o.bounds=function(t){return Io(t,e(ys)),ys.result()},o.centroid=function(t){return Io(t,e(Is)),Is.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,ts):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Qs):new Ds(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},Ks=function(t){return{stream:Js(t)}};function Js(t){return function(n){var e=new tc;for(var r in t)e[r]=t[r];return e.stream=n,e}}function tc(){}function nc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Io(e,t.stream(ys)),n(ys.result()),null!=r&&t.clipExtent(r),t}function ec(t,n,e){return nc(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function rc(t,n,e){return ec(t,[[0,0],n],e)}function ic(t,n,e){return nc(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function oc(t,n,e){return nc(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}tc.prototype={constructor:tc,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ac=16,uc=po(30*co),sc=function(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,h,d,p,g,_){var y=c-r,v=l-i,x=y*y+v*v;if(x>4*n&&g--){var m=a+h,b=u+d,w=s+p,S=bo(m*m+b*b+w*w),A=Ao(w/=S),T=lo(lo(w)-1)<ro||lo(o-f)<ro?(o+f)/2:ho(b,m),P=t(T,A),M=P[0],C=P[1],E=M-r,L=C-i,k=v*E-y*L;(k*k/x>n||lo((y*E+v*L)/x-.5)>.3||a*h+u*d+s*p<uc)&&(e(r,i,o,a,u,s,M,C,T,m/=S,b/=S,w,g,_),_.point(M,C),e(M,C,T,m,b,w,c,l,f,h,d,p,g,_))}}return function(n){var r,i,o,a,u,s,c,l,f,h,d,p,g={point:_,lineStart:y,lineEnd:x,polygonStart:function(){n.polygonStart(),g.lineStart=m},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function _(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,g.point=v,n.lineStart()}function v(r,i){var o=qo([r,i]),a=t(r,i);e(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],ac,n),n.point(l,f)}function x(){g.point=_,n.lineEnd()}function m(){y(),g.point=b,g.lineEnd=w}function b(t,n){v(r=t,n),i=l,o=f,a=h,u=d,s=p,g.point=v}function w(){e(l,f,c,h,d,p,i,o,r,a,u,s,ac,n),g.lineEnd=x,x()}return g}}(t,n):function(t){return Js({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var cc=Js({point:function(t,n){this.stream.point(t*co,n*co)}});function lc(t,n,e,r){var i=po(r),o=xo(r),a=i*t,u=o*t,s=i/t,c=o/t,l=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}return h.invert=function(t,n){return[s*t-c*n+l,f-c*t-s*n]},h}function fc(t){return hc(function(){return t})()}function hc(t){var n,e,r,i,o,a,u,s,c,l,f=150,h=480,d=250,p=0,g=0,_=0,y=0,v=0,x=0,m=null,b=yu,w=null,S=ts,A=.5;function T(t){return s(t[0]*co,t[1]*co)}function P(t){return(t=s.invert(t[0],t[1]))&&[t[0]*so,t[1]*so]}function M(){var t=lc(f,0,0,x).apply(null,n(p,g)),r=(x?lc:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],d-t[1],x);return e=Ja(_,y,v),u=Za(n,r),s=Za(e,u),a=sc(u,A),C()}function C(){return c=l=null,T}return T.stream=function(t){return c&&l===t?c:c=cc(function(t){return Js({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(b(a(S(l=t)))))},T.preclip=function(t){return arguments.length?(b=t,m=void 0,C()):b},T.postclip=function(t){return arguments.length?(S=t,w=r=i=o=null,C()):S},T.clipAngle=function(t){return arguments.length?(b=+t?vu(m=t*co):(m=null,yu),C()):m*so},T.clipExtent=function(t){return arguments.length?(S=null==t?(w=r=i=o=null,ts):wu(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==w?null:[[w,r],[i,o]]},T.scale=function(t){return arguments.length?(f=+t,M()):f},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],M()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*co,g=t[1]%360*co,M()):[p*so,g*so]},T.rotate=function(t){return arguments.length?(_=t[0]%360*co,y=t[1]%360*co,v=t.length>2?t[2]%360*co:0,M()):[_*so,y*so,v*so]},T.angle=function(t){return arguments.length?(x=t%360*co,M()):x*so},T.precision=function(t){return arguments.length?(a=sc(u,A=t*t),C()):bo(A)},T.fitExtent=function(t,n){return ec(T,t,n)},T.fitSize=function(t,n){return rc(T,t,n)},T.fitWidth=function(t,n){return ic(T,t,n)},T.fitHeight=function(t,n){return oc(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&P,M()}}function dc(t){var n=0,e=io/3,r=hc(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*co,e=t[1]*co):[n*so,e*so]},i}function pc(t,n){var e=xo(t),r=(e+xo(n))/2;if(lo(r)<ro)return function(t){var n=po(t);function e(t,e){return[t*n,xo(e)/n]}return e.invert=function(t,e){return[t/n,Ao(e*n)]},e}(t);var i=1+e*(2*r-e),o=bo(i)/r;function a(t,n){var e=bo(i-2*r*xo(n))/r;return[e*xo(t*=r),o-e*po(t)]}return a.invert=function(t,n){var e=o-n;return[ho(t,lo(e))/r*mo(e),Ao((i-(t*t+e*e)*r*r)/(2*r))]},a}var gc=function(){return dc(pc).scale(155.424).center([0,33.6442])},_c=function(){return gc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var yc=function(){var t,n,e,r,i,o,a=_c(),u=gc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=gc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function l(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function f(){return t=n=null,l}return l.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},l.stream=function(e){return t&&n===e?t:t=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([a.stream(n=e),u.stream(e),s.stream(e)])},l.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],l=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,l-.238*n],[o+.455*n,l+.238*n]]).stream(c),r=u.translate([o-.307*n,l+.201*n]).clipExtent([[o-.425*n+ro,l+.12*n+ro],[o-.214*n-ro,l+.234*n-ro]]).stream(c),i=s.translate([o-.205*n,l+.212*n]).clipExtent([[o-.214*n+ro,l+.166*n+ro],[o-.115*n-ro,l+.234*n-ro]]).stream(c),f()},l.fitExtent=function(t,n){return ec(l,t,n)},l.fitSize=function(t,n){return rc(l,t,n)},l.fitWidth=function(t,n){return ic(l,t,n)},l.fitHeight=function(t,n){return oc(l,t,n)},l.scale(1070)};function vc(t){return function(n,e){var r=po(n),i=po(e),o=t(r*i);return[o*i*xo(n),o*xo(e)]}}function xc(t){return function(n,e){var r=bo(n*n+e*e),i=t(r),o=xo(i),a=po(i);return[ho(n*o,r*a),Ao(r&&e*o/r)]}}var mc=vc(function(t){return bo(2/(1+t))});mc.invert=xc(function(t){return 2*Ao(t/2)});var bc=function(){return fc(mc).scale(124.75).clipAngle(179.999)},wc=vc(function(t){return(t=So(t))&&t/xo(t)});wc.invert=xc(function(t){return t});var Sc=function(){return fc(wc).scale(79.4188).clipAngle(179.999)};function Ac(t,n){return[t,yo(wo((oo+n)/2))]}Ac.invert=function(t,n){return[t,2*fo(_o(n))-oo]};var Tc=function(){return Pc(Ac).scale(961/uo)};function Pc(t){var n,e,r,i=fc(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var o=io*a(),u=i(ru(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Ac?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,n],[e,r]]},l()}function Mc(t){return wo((oo+t)/2)}function Cc(t,n){var e=po(t),r=t===n?xo(t):yo(e/po(n))/yo(Mc(n)/Mc(t)),i=e*vo(Mc(t),r)/r;if(!r)return Ac;function o(t,n){i>0?n<-oo+ro&&(n=-oo+ro):n>oo-ro&&(n=oo-ro);var e=i/vo(Mc(n),r);return[e*xo(r*t),i-e*po(r*t)]}return o.invert=function(t,n){var e=i-n,o=mo(r)*bo(t*t+e*e);return[ho(t,lo(e))/r*mo(e),2*fo(vo(i/o,1/r))-oo]},o}var Ec=function(){return dc(Cc).scale(109.5).parallels([30,30])};function Lc(t,n){return[t,n]}Lc.invert=Lc;var kc=function(){return fc(Lc).scale(152.63)};function Oc(t,n){var e=po(t),r=t===n?xo(t):(e-po(n))/(n-t),i=e/r+t;if(lo(r)<ro)return Lc;function o(t,n){var e=i-n,o=r*t;return[e*xo(o),i-e*po(o)]}return o.invert=function(t,n){var e=i-n;return[ho(t,lo(e))/r*mo(e),i-mo(r)*bo(t*t+e*e)]},o}var Vc=function(){return dc(Oc).scale(131.154).center([0,13.9389])};function Gc(t,n){var e=po(n),r=po(t)*e;return[e*xo(t)/r,xo(n)/r]}Gc.invert=xc(fo);var Nc=function(){return fc(Gc).scale(144.049).clipAngle(60)};function Rc(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?ts:Js({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}var Ic=function(){var t,n,e,r,i,o,a=1,u=0,s=0,c=1,l=1,f=ts,h=null,d=ts;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,ts):wu(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=Rc((a=+t)*c,a*l,u,s),p()):a},translate:function(t){return arguments.length?(f=Rc(a*c,a*l,u=+t[0],s=+t[1]),p()):[u,s]},reflectX:function(t){return arguments.length?(f=Rc(a*(c=t?-1:1),a*l,u,s),p()):c<0},reflectY:function(t){return arguments.length?(f=Rc(a*c,a*(l=t?-1:1),u,s),p()):l<0},fitExtent:function(t,n){return ec(o,t,n)},fitSize:function(t,n){return rc(o,t,n)},fitWidth:function(t,n){return ic(o,t,n)},fitHeight:function(t,n){return oc(o,t,n)}}};function Dc(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Dc.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(lo(e)>ro&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var zc=function(){return fc(Dc).scale(175.295)};function Fc(t,n){return[po(n)*xo(t),xo(n)]}Fc.invert=xc(Ao);var jc=function(){return fc(Fc).scale(249.5).clipAngle(90+ro)};function Bc(t,n){var e=po(n),r=1+po(t)*e;return[e*xo(t)/r,xo(n)/r]}Bc.invert=xc(function(t){return 2*fo(t)});var Xc=function(){return fc(Bc).scale(250).clipAngle(142)};function Hc(t,n){return[yo(wo((oo+n)/2)),-t]}Hc.invert=function(t,n){return[-n,2*fo(_o(t))-oo]};var Yc=function(){var t=Pc(Hc),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function Uc(t,n){return t.parent===n.parent?1:2}function qc(t,n){return t+n.x}function Wc(t,n){return Math.max(t,n.y)}var Qc=function(){var t=Uc,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(qc,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Wc,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)});var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,s)/2,l=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(l-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function $c(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Zc(t,n){var e,r,i,o,a,u=new nl(t),s=+t.value&&(u.value=t.value),c=[u];for(null==n&&(n=Kc);e=c.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)c.push(r=e.children[o]=new nl(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(tl)}function Kc(t){return t.children}function Jc(t){t.data=t.data.data}function tl(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function nl(t){this.data=t,this.depth=this.height=0,this.parent=null}nl.prototype=Zc.prototype={constructor:nl,count:function(){return this.eachAfter($c)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Zc(this).eachBefore(Jc)}};var el=Array.prototype.slice;var rl=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(el.call(t))).length,o=[];r<i;)n=t[r],e&&al(e,n)?++r:(e=sl(o=il(o,n)),r=0);return e};function il(t,n){var e,r;if(ul(n,t))return[n];for(e=0;e<t.length;++e)if(ol(n,t[e])&&ul(cl(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(ol(cl(t[e],t[r]),n)&&ol(cl(t[e],n),t[r])&&ol(cl(t[r],n),t[e])&&ul(ll(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function ol(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function al(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ul(t,n){for(var e=0;e<n.length;++e)if(!al(t,n[e]))return!1;return!0}function sl(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return cl(t[0],t[1]);case 3:return ll(t[0],t[1],t[2])}}function cl(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,s=o-e,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(e+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function ll(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,s=n.r,c=e.x,l=e.y,f=e.r,h=r-a,d=r-c,p=i-u,g=i-l,_=s-o,y=f-o,v=r*r+i*i-o*o,x=v-a*a-u*u+s*s,m=v-c*c-l*l+f*f,b=d*p-h*g,w=(p*m-g*x)/(2*b)-r,S=(g*_-p*y)/b,A=(d*x-h*m)/(2*b)-i,T=(h*y-d*_)/b,P=S*S+T*T-1,M=2*(o+w*S+A*T),C=w*w+A*A-o*o,E=-(P?(M+Math.sqrt(M*M-4*P*C))/(2*P):C/M);return{x:r+w+S*E,y:i+A+T*E,r:E}}function fl(t,n,e){var r,i,o,a,u=t.x-n.x,s=t.y-n.y,c=u*u+s*s;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*s,e.y=t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*s,e.y=n.y+r*s+o*u)):(e.x=n.x+e.r,e.y=n.y)}function hl(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function dl(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function pl(t){this._=t,this.next=null,this.previous=null}function gl(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,s,c,l,f;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;fl(e,n,r=t[2]),n=new pl(n),e=new pl(e),r=new pl(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){fl(n._,e._,r=t[u]),r=new pl(r),s=e.next,c=n.previous,l=e._.r,f=n._.r;do{if(l<=f){if(hl(s._,r._)){e=s,n.next=e,e.previous=n,--u;continue t}l+=s._.r,s=s.next}else{if(hl(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=dl(n);(r=r.next)!==e;)(a=dl(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=rl(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}var _l=function(t){return gl(t),t};function yl(t){if("function"!=typeof t)throw new Error;return t}function vl(){return 0}var xl=function(t){return function(){return t}};function ml(t){return Math.sqrt(t.value)}var bl=function(){var t=null,n=1,e=1,r=vl;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(wl(t)).eachAfter(Sl(r,.5)).eachBefore(Al(1)):i.eachBefore(wl(ml)).eachAfter(Sl(vl,1)).eachAfter(Sl(r,i.r/Math.min(n,e))).eachBefore(Al(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=function(t){return null==t?null:yl(t)}(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:xl(+t),i):r},i};function wl(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Sl(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=gl(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function Al(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var Tl=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Pl=function(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-n)/t.value;++u<s;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c},Ml=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Pl(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Tl),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},Cl="$",El={depth:-1},Ll={};function kl(t){return t.id}function Ol(t){return t.parentId}var Vl=function(){var t=kl,n=Ol;function e(e){var r,i,o,a,u,s,c,l=e.length,f=new Array(l),h={};for(i=0;i<l;++i)r=e[i],u=f[i]=new nl(r),null!=(s=t(r,i,e))&&(s+="")&&(h[c=Cl+(u.id=s)]=c in h?Ll:u);for(i=0;i<l;++i)if(u=f[i],null!=(s=n(e[i],i,e))&&(s+="")){if(!(a=h[Cl+s]))throw new Error("missing: "+s);if(a===Ll)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=El,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(tl),o.parent=null,l>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=yl(n),e):t},e.parentId=function(t){return arguments.length?(n=yl(t),e):n},e};function Gl(t,n){return t.parent===n.parent?1:2}function Nl(t){var n=t.children;return n?n[0]:t.t}function Rl(t){var n=t.children;return n?n[n.length-1]:t.t}function Il(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Dl(t,n,e){return t.a.parent===n.parent?t.a:e}function zl(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}zl.prototype=Object.create(nl.prototype);var Fl=function(){var t=Gl,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,o,a=new zl(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new zl(r[i],i)),e.parent=n;return(a.parent=new zl(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var c=i,l=i,f=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:t(c,l)/2,d=h-c.x,p=n/(l.x+h+d),g=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,s=o.parent.children[0],c=o.m,l=a.m,f=u.m,h=s.m;u=Rl(u),o=Nl(o),u&&o;)s=Nl(s),(a=Rl(a)).a=n,(i=u.z+f-o.z-c+t(u._,o._))>0&&(Il(Dl(u,n,r),n,i),c+=i,l+=i),f+=u.m,c+=o.m,h+=s.m,l+=a.m;u&&!Rl(a)&&(a.t=u,a.m+=f-l),o&&!Nl(s)&&(s.t=o,s.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},jl=function(t,n,e,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-e)/t.value;++u<s;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c},Bl=(1+Math.sqrt(5))/2;function Xl(t,n,e,r,i,o){for(var a,u,s,c,l,f,h,d,p,g,_,y=[],v=n.children,x=0,m=0,b=v.length,w=n.value;x<b;){s=i-e,c=o-r;do{l=v[m++].value}while(!l&&m<b);for(f=h=l,_=l*l*(g=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/_,_/f);m<b;++m){if(l+=u=v[m].value,u<f&&(f=u),u>h&&(h=u),_=l*l*g,(d=Math.max(h/_,_/f))>p){l-=u;break}p=d}y.push(a={value:l,dice:s<c,children:v.slice(x,m)}),a.dice?Pl(a,e,r,i,w?r+=c*l/w:o):jl(a,e,r,w?e+=s*l/w:i,o),w-=l,x=m}return y}var Hl=function t(n){function e(t,e,r,i,o){Xl(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Bl),Yl=function(){var t=Hl,n=!1,e=1,r=1,i=[0],o=vl,a=vl,u=vl,s=vl,c=vl;function l(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(Tl),t}function f(n){var e=i[n.depth],r=n.x0+e,l=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),n.x0=r,n.y0=l,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,l+=a(n)-e,f-=u(n)-e,h-=s(n)-e,f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),t(n,r,l,f,h))}return l.round=function(t){return arguments.length?(n=!!t,l):n},l.size=function(t){return arguments.length?(e=+t[0],r=+t[1],l):[e,r]},l.tile=function(n){return arguments.length?(t=yl(n),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:xl(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:xl(+t),l):a},l.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:xl(+t),l):u},l.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:xl(+t),l):s},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:xl(+t),l):c},l},Ul=function(t,n,e,r,i){var o,a,u=t.children,s=u.length,c=new Array(s+1);for(c[0]=a=o=0;o<s;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,s){if(n>=e-1){var l=u[n];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=s)}var f=c[n],h=r/2+f,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&n+1<d&&--d;var _=c[d]-f,y=r-_;if(a-i>s-o){var v=(i*y+a*_)/r;t(n,d,_,i,o,v,s),t(d,e,y,v,o,a,s)}else{var x=(o*y+s*_)/r;t(n,d,_,i,o,a,x),t(d,e,y,i,x,a,s)}}(0,s,t.value,n,e,r,i)},ql=function(t,n,e,r,i){(1&t.depth?jl:Pl)(t,n,e,r,i)},Wl=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,s,c,l,f=-1,h=a.length,d=t.value;++f<h;){for(s=(u=a[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?Pl(u,e,r,i,r+=(o-r)*u.value/d):jl(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=Xl(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Bl),Ql=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},$l=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],s=0;++r<i;)n=u,u=t[r],s+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(s*=3),a/s]},Zl=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])};function Kl(t,n){return t[0]-n[0]||t[1]-n[1]}function Jl(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Zl(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}var tf=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Kl),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Jl(r),a=Jl(i),u=a[0]===o[0],s=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-s;++n)c.push(t[r[a[n]][2]]);return c},nf=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],s=o[0],c=o[1],l=!1,f=0;f<i;++f)e=(o=t[f])[0],(r=o[1])>u!=c>u&&a<(s-e)*(u-r)/(c-r)+e&&(l=!l),s=e,c=r;return l},ef=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],s=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],s+=Math.sqrt(n*n+e*e);return s},rf=function(){return Math.random()},of=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(rf),af=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(rf),uf=function t(n){function e(){var t=af.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(rf),sf=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(rf),cf=function t(n){function e(t){var e=sf.source(n)(t);return function(){return e()/t}}return e.source=t,e}(rf),lf=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(rf),ff=Array.prototype,hf=ff.map,df=ff.slice,pf={name:"implicit"};function gf(t){var n=Fe(),e=[],r=pf;function i(i){var o=i+"",a=n.get(o);if(!a){if(r!==pf)return r;n.set(o,a=e.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:df.call(t),i.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Fe();for(var r,o,a=-1,u=t.length;++a<u;)n.has(o=(r=t[a])+"")||n.set(o,e.push(r));return i},i.range=function(n){return arguments.length?(t=df.call(n),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return gf().domain(e).range(t).unknown(r)},i}function _f(){var t,n,e=gf().unknown(void 0),i=e.domain,o=e.range,a=[0,1],u=!1,s=0,c=0,l=.5;function f(){var e=i().length,f=a[1]<a[0],h=a[f-0],d=a[1-f];t=(d-h)/Math.max(1,e-s+2*c),u&&(t=Math.floor(t)),h+=(d-h-t*(e-s))*l,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var p=Object(r.s)(e).map(function(n){return h+t*n});return o(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),f()):i()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],f()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,f()):u},e.padding=function(t){return arguments.length?(s=c=Math.max(0,Math.min(1,t)),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},e.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},e.copy=function(){return _f().domain(i()).range(a).round(u).paddingInner(s).paddingOuter(c).align(l)},f()}function yf(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(_f().paddingInner(1))}var vf=function(t){return function(){return t}},xf=function(t){return+t},mf=[0,1];function bf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:vf(n)}function wf(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function Sf(t,n,e,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<o;)a[s]=e(t[s],t[s+1]),u[s]=i(n[s],n[s+1]);return function(n){var e=Object(r.b)(t,n,1,o)-1;return u[e](a[e](n))}}function Af(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Tf(t,n){var e,r,i,o=mf,a=mf,u=Pt.a,s=!1;function c(){return e=Math.min(o.length,a.length)>2?Sf:wf,r=i=null,l}function l(n){return(r||(r=e(o,a,s?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}return l.invert=function(t){return(i||(i=e(a,o,bf,s?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},l.domain=function(t){return arguments.length?(o=hf.call(t,xf),c()):o.slice()},l.range=function(t){return arguments.length?(a=df.call(t),c()):a.slice()},l.rangeRound=function(t){return a=df.call(t),u=Pt.r,c()},l.clamp=function(t){return arguments.length?(s=!!t,c()):s},l.interpolate=function(t){return arguments.length?(u=t,c()):u},c()}var Pf=function(t,n,e){var i,o=t[0],a=t[t.length-1],u=Object(r.A)(o,a,null==n?10:n);switch((e=Object(Ki.e)(null==e?",f":e)).type){case"s":var s=Math.max(Math.abs(o),Math.abs(a));return null!=e.precision||isNaN(i=Object(Ki.g)(u,s))||(e.precision=i),Object(Ki.d)(e,s);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=Object(Ki.h)(u,Math.max(Math.abs(o),Math.abs(a))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=Object(Ki.f)(u))||(e.precision=i-2*("%"===e.type))}return Object(Ki.a)(e)};function Mf(t){var n=t.domain;return t.ticks=function(t){var e=n();return Object(r.B)(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Pf(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u];return c<s&&(i=s,s=c,c=i,i=a,a=u,u=i),(i=Object(r.z)(s,c,e))>0?(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,i=Object(r.z)(s,c,e)):i<0&&(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,i=Object(r.z)(s,c,e)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(c/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(c*i)/i,n(o)),t},t}function Cf(){var t=Tf(bf,Pt.m);return t.copy=function(){return Af(t,Cf())},Mf(t)}function Ef(){var t=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=hf.call(e,xf),n):t.slice()},n.copy=function(){return Ef().domain(t)},Mf(n)}var Lf=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t};function kf(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:vf(n)}function Of(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Vf(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gf(t){return 10===t?Vf:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Nf(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Rf(t){return function(n){return-t(-n)}}function If(){var t=Tf(kf,Of).domain([1,10]),n=t.domain,e=10,i=Nf(10),o=Gf(10);function a(){return i=Nf(e),o=Gf(e),n()[0]<0&&(i=Rf(i),o=Rf(o)),t}return t.base=function(t){return arguments.length?(e=+t,a()):e},t.domain=function(t){return arguments.length?(n(t),a()):n()},t.ticks=function(t){var a,u=n(),s=u[0],c=u[u.length-1];(a=c<s)&&(d=s,s=c,c=d);var l,f,h,d=i(s),p=i(c),g=null==t?10:+t,_=[];if(!(e%1)&&p-d<g){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(f=1,l=o(d);f<e;++f)if(!((h=l*f)<s)){if(h>c)break;_.push(h)}}else for(;d<p;++d)for(f=e-1,l=o(d);f>=1;--f)if(!((h=l*f)<s)){if(h>c)break;_.push(h)}}else _=Object(r.B)(d,p,Math.min(p-d,g)).map(o);return a?_.reverse():_},t.tickFormat=function(n,r){if(null==r&&(r=10===e?".0e":","),"function"!=typeof r&&(r=Object(Ki.a)(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,e*n/t.ticks().length);return function(t){var n=t/o(Math.round(i(t)));return n*e<e-.5&&(n*=e),n<=a?r(t):""}},t.nice=function(){return n(Lf(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return Af(t,If().base(e))},t}function Df(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function zf(){var t=1,n=Tf(function(n,e){return(e=Df(e,t)-(n=Df(n,t)))?function(r){return(Df(r,t)-n)/e}:vf(e)},function(n,e){return e=Df(e,t)-(n=Df(n,t)),function(r){return Df(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return Af(n,zf().exponent(t))},Mf(n)}function Ff(){return zf().exponent(.5)}function jf(){var t=[],n=[],e=[];function i(){var i=0,a=Math.max(1,n.length);for(e=new Array(a-1);++i<a;)e[i-1]=Object(r.r)(t,i/a);return o}function o(t){if(!isNaN(t=+t))return n[Object(r.b)(e,t)]}return o.invertExtent=function(r){var i=n.indexOf(r);return i<0?[NaN,NaN]:[i>0?e[i-1]:t[0],i<e.length?e[i]:t[t.length-1]]},o.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var e,o=0,a=n.length;o<a;++o)null==(e=n[o])||isNaN(e=+e)||t.push(e);return t.sort(r.a),i()},o.range=function(t){return arguments.length?(n=df.call(t),i()):n.slice()},o.quantiles=function(){return e.slice()},o.copy=function(){return jf().domain(t).range(n)},o}function Bf(){var t=0,n=1,e=1,i=[.5],o=[0,1];function a(t){if(t<=t)return o[Object(r.b)(i,t,0,e)]}function u(){var r=-1;for(i=new Array(e);++r<e;)i[r]=((r+1)*n-(r-e)*t)/(e+1);return a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],u()):[t,n]},a.range=function(t){return arguments.length?(e=(o=df.call(t)).length-1,u()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=e?[i[e-1],n]:[i[a-1],i[a]]},a.copy=function(){return Bf().domain([t,n]).range(o)},Mf(a)}function Xf(){var t=[.5],n=[0,1],e=1;function i(i){if(i<=i)return n[Object(r.b)(t,i,0,e)]}return i.domain=function(r){return arguments.length?(t=df.call(r),e=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(r){return arguments.length?(n=df.call(r),e=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.copy=function(){return Xf().domain(t).range(n)},i}var Hf=e(1),Yf=e(8),Uf=1e3,qf=60*Uf,Wf=60*qf,Qf=24*Wf,$f=7*Qf,Zf=30*Qf,Kf=365*Qf;function Jf(t){return new Date(t)}function th(t){return t instanceof Date?+t:+new Date(+t)}function nh(t,n,e,i,o,a,u,s,c){var l=Tf(bf,Pt.m),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),m=c("%Y"),b=[[u,1,Uf],[u,5,5*Uf],[u,15,15*Uf],[u,30,30*Uf],[a,1,qf],[a,5,5*qf],[a,15,15*qf],[a,30,30*qf],[o,1,Wf],[o,3,3*Wf],[o,6,6*Wf],[o,12,12*Wf],[i,1,Qf],[i,2,2*Qf],[e,1,$f],[n,1,Zf],[n,3,3*Zf],[t,1,Kf]];function w(r){return(u(r)<r?d:a(r)<r?p:o(r)<r?g:i(r)<r?_:n(r)<r?e(r)<r?y:v:t(r)<r?x:m)(r)}function S(n,e,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-e)/n,u=Object(r.e)(function(t){return t[2]}).right(b,a);u===b.length?(o=Object(r.A)(e/Kf,i/Kf,n),n=t):u?(o=(u=b[a/b[u-1][2]<b[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(Object(r.A)(e,i,n),1),n=s)}return null==o?n:n.every(o)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(hf.call(t,th)):h().map(Jf)},l.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=S(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},l.tickFormat=function(t,n){return null==n?w:c(n)},l.nice=function(t,n){var e=h();return(t=S(t,e[0],e[e.length-1],n))?h(Lf(e,t)):l},l.copy=function(){return Af(l,nh(t,n,e,i,o,a,u,s,c))},l}var eh=function(){return nh(Hf.D,Hf.n,Hf.B,Hf.a,Hf.e,Hf.j,Hf.r,Hf.h,Yf.c).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rh=function(){return nh(Hf.hb,Hf.R,Hf.fb,Hf.F,Hf.J,Hf.N,Hf.V,Hf.L,Yf.g).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function ih(t){var n=0,e=1,r=1,i=!1;function o(e){var o=(e-n)*r;return t(i?Math.max(0,Math.min(1,o)):o)}return o.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],r=n===e?0:1/(e-n),o):[n,e]},o.clamp=function(t){return arguments.length?(i=!!t,o):i},o.interpolator=function(n){return arguments.length?(t=n,o):t},o.copy=function(){return ih(t).domain([n,e]).clamp(i)},Mf(o)}function oh(t){var n=0,e=.5,r=1,i=1,o=1,a=!1;function u(n){var r=.5+((n=+n)-e)*(n<e?i:o);return t(a?Math.max(0,Math.min(1,r)):r)}return u.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],r=+t[2],i=n===e?0:.5/(e-n),o=e===r?0:.5/(r-e),u):[n,e,r]},u.clamp=function(t){return arguments.length?(a=!!t,u):a},u.interpolator=function(n){return arguments.length?(t=n,u):t},u.copy=function(){return oh(t).domain([n,e,r]).clamp(a)},Mf(u)}var ah=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},uh=ah("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),sh=ah("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ch=ah("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),lh=ah("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),fh=ah("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),hh=ah("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dh=ah("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ph=ah("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),gh=ah("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),_h=function(t){return Object(Pt.p)(t[t.length-1])},yh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ah),vh=_h(yh),xh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ah),mh=_h(xh),bh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ah),wh=_h(bh),Sh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ah),Ah=_h(Sh),Th=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ah),Ph=_h(Th),Mh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ah),Ch=_h(Mh),Eh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ah),Lh=_h(Eh),kh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ah),Oh=_h(kh),Vh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ah),Gh=_h(Vh),Nh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ah),Rh=_h(Nh),Ih=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ah),Dh=_h(Ih),zh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ah),Fh=_h(zh),jh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ah),Bh=_h(jh),Xh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ah),Hh=_h(Xh),Yh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ah),Uh=_h(Yh),qh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ah),Wh=_h(qh),Qh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ah),$h=_h(Qh),Zh=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ah),Kh=_h(Zh),Jh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ah),td=_h(Jh),nd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ah),ed=_h(nd),rd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ah),id=_h(rd),od=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ah),ad=_h(od),ud=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ah),sd=_h(ud),cd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ah),ld=_h(cd),fd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ah),hd=_h(fd),dd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ah),pd=_h(dd),gd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ah),_d=_h(gd),yd=Object(Pt.f)(Object(Fn.b)(300,.5,0),Object(Fn.b)(-240,.5,1)),vd=Object(Pt.f)(Object(Fn.b)(-100,.75,.35),Object(Fn.b)(80,1.5,.8)),xd=Object(Pt.f)(Object(Fn.b)(260,.75,.35),Object(Fn.b)(80,1.5,.8)),md=Object(Fn.b)(),bd=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return md.h=360*t-100,md.s=1.5-1.5*n,md.l=.8-.9*n,md+""},wd=Object(Fn.h)(),Sd=Math.PI/3,Ad=2*Math.PI/3,Td=function(t){var n;return t=(.5-t)*Math.PI,wd.r=255*(n=Math.sin(t))*n,wd.g=255*(n=Math.sin(t+Sd))*n,wd.b=255*(n=Math.sin(t+Ad))*n,wd+""};function Pd(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Md=Pd(ah("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Cd=Pd(ah("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ed=Pd(ah("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ld=Pd(ah("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),kd="http://www.w3.org/1999/xhtml",Od={svg:"http://www.w3.org/2000/svg",xhtml:kd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vd=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Od.hasOwnProperty(n)?{space:Od[n],local:t}:t};var Gd=function(t){var n=Vd(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===kd&&n.documentElement.namespaceURI===kd?n.createElement(t):n.createElementNS(e,t)}})(n)};function Nd(){}var Rd=function(t){return null==t?Nd:function(){return this.querySelector(t)}};function Id(){return[]}var Dd=function(t){return null==t?Id:function(){return this.querySelectorAll(t)}},zd=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Fd=document.documentElement;if(!Fd.matches){var jd=Fd.webkitMatchesSelector||Fd.msMatchesSelector||Fd.mozMatchesSelector||Fd.oMatchesSelector;zd=function(t){return function(){return jd.call(this,t)}}}}var Bd=zd,Xd=function(t){return new Array(t.length)};function Hd(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Hd.prototype={constructor:Hd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Yd="$";function Ud(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Hd(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function qd(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=Yd+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=Yd+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new Hd(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function Wd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Qd=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function $d(t,n){return t.style.getPropertyValue(n)||Qd(t).getComputedStyle(t,null).getPropertyValue(n)}function Zd(t){return t.trim().split(/^|\s+/)}function Kd(t){return t.classList||new Jd(t)}function Jd(t){this._node=t,this._names=Zd(t.getAttribute("class")||"")}function tp(t,n){for(var e=Kd(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function np(t,n){for(var e=Kd(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}Jd.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ep(){this.textContent=""}function rp(){this.innerHTML=""}function ip(){this.nextSibling&&this.parentNode.appendChild(this)}function op(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ap(){return null}function up(){var t=this.parentNode;t&&t.removeChild(this)}function sp(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function cp(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var lp={},fp=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(lp={mouseenter:"mouseover",mouseleave:"mouseout"}));function hp(t,n,e){return t=dp(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function dp(t,n,e){return function(r){var i=fp;fp=r;try{t.call(this,this.__data__,n,e)}finally{fp=i}}}function pp(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function gp(t,n,e){var r=lp.hasOwnProperty(t.type)?hp:dp;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function _p(t,n,e,r){var i=fp;t.sourceEvent=fp,fp=t;try{return n.apply(e,r)}finally{fp=i}}function yp(t,n,e){var r=Qd(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var vp=[null];function xp(t,n){this._groups=t,this._parents=n}function mp(){return new xp([[document.documentElement]],vp)}xp.prototype=mp.prototype={constructor:xp,select:function(t){"function"!=typeof t&&(t=Rd(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new xp(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Dd(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new xp(r,i)},filter:function(t){"function"!=typeof t&&(t=Bd(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new xp(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var e=n?qd:Ud,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=a[c]=new Array(p);e(l,f,g,_,s[c]=new Array(h),d,n);for(var y,v,x=0,m=0;x<p;++x)if(y=g[x]){for(x>=m&&(m=x+1);!(v=_[m])&&++m<p;);y._next=v||null}}return(a=new xp(a,r))._enter=u,a._exit=s,a},enter:function(){return new xp(this._enter||this._groups.map(Xd),this._parents)},exit:function(){return new xp(this._exit||this._groups.map(Xd),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new xp(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Wd);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new xp(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Vd(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):$d(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Zd(t+"");if(arguments.length<2){for(var r=Kd(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?tp:np)(this,t)}}:n?function(t){return function(){tp(this,t)}}:function(t){return function(){np(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?ep:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rp:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ip)},lower:function(){return this.each(op)},append:function(t){var n="function"==typeof t?t:Gd(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:Gd(t),r=null==n?ap:"function"==typeof n?n:Rd(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(up)},clone:function(t){return this.select(t?cp:sp)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?gp:pp,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return yp(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return yp(this,t,n)}})(t,n))}};var bp=mp,wp=function(t){return"string"==typeof t?new xp([[document.querySelector(t)]],[document.documentElement]):new xp([[t]],vp)},Sp=function(t){return wp(Gd(t).call(document.documentElement))},Ap=0;function Tp(){return new Pp}function Pp(){this._="@"+(++Ap).toString(36)}Pp.prototype=Tp.prototype={constructor:Pp,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Mp=function(){for(var t,n=fp;t=n.sourceEvent;)n=t;return n},Cp=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Ep=function(t){var n=Mp();return n.changedTouches&&(n=n.changedTouches[0]),Cp(t,n)},Lp=function(t){return"string"==typeof t?new xp([document.querySelectorAll(t)],[document.documentElement]):new xp([null==t?[]:t],vp)},kp=function(t,n,e){arguments.length<3&&(e=n,n=Mp().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Cp(t,r);return null},Op=function(t,n){null==n&&(n=Mp().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Cp(t,n[e]);return i},Vp=function(t){return function(){return t}},Gp=Math.abs,Np=Math.atan2,Rp=Math.cos,Ip=Math.max,Dp=Math.min,zp=Math.sin,Fp=Math.sqrt,jp=1e-12,Bp=Math.PI,Xp=Bp/2,Hp=2*Bp;function Yp(t){return t>=1?Xp:t<=-1?-Xp:Math.asin(t)}function Up(t){return t.innerRadius}function qp(t){return t.outerRadius}function Wp(t){return t.startAngle}function Qp(t){return t.endAngle}function $p(t){return t&&t.padAngle}function Zp(t,n,e,r,i,o,a){var u=t-e,s=n-r,c=(a?o:-o)/Fp(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=n+f,p=e+l,g=r+f,_=(h+p)/2,y=(d+g)/2,v=p-h,x=g-d,m=v*v+x*x,b=i-o,w=h*g-p*d,S=(x<0?-1:1)*Fp(Ip(0,b*b*m-w*w)),A=(w*x-v*S)/m,T=(-w*v-x*S)/m,P=(w*x+v*S)/m,M=(-w*v+x*S)/m,C=A-_,E=T-y,L=P-_,k=M-y;return C*C+E*E>L*L+k*k&&(A=P,T=M),{cx:A,cy:T,x01:-l,y01:-f,x11:A*(i/b-1),y11:T*(i/b-1)}}var Kp=function(){var t=Up,n=qp,e=Vp(0),r=null,i=Wp,o=Qp,a=$p,u=null;function s(){var s,c,l=+t.apply(this,arguments),f=+n.apply(this,arguments),h=i.apply(this,arguments)-Xp,d=o.apply(this,arguments)-Xp,p=Gp(d-h),g=d>h;if(u||(u=s=Object(ke.a)()),f<l&&(c=f,f=l,l=c),f>jp)if(p>Hp-jp)u.moveTo(f*Rp(h),f*zp(h)),u.arc(0,0,f,h,d,!g),l>jp&&(u.moveTo(l*Rp(d),l*zp(d)),u.arc(0,0,l,d,h,g));else{var _,y,v=h,x=d,m=h,b=d,w=p,S=p,A=a.apply(this,arguments)/2,T=A>jp&&(r?+r.apply(this,arguments):Fp(l*l+f*f)),P=Dp(Gp(f-l)/2,+e.apply(this,arguments)),M=P,C=P;if(T>jp){var E=Yp(T/l*zp(A)),L=Yp(T/f*zp(A));(w-=2*E)>jp?(m+=E*=g?1:-1,b-=E):(w=0,m=b=(h+d)/2),(S-=2*L)>jp?(v+=L*=g?1:-1,x-=L):(S=0,v=x=(h+d)/2)}var k=f*Rp(v),O=f*zp(v),V=l*Rp(b),G=l*zp(b);if(P>jp){var N=f*Rp(x),R=f*zp(x),I=l*Rp(m),D=l*zp(m);if(p<Bp){var z=w>jp?function(t,n,e,r,i,o,a,u){var s=e-t,c=r-n,l=a-i,f=u-o,h=(l*(n-o)-f*(t-i))/(f*s-l*c);return[t+h*s,n+h*c]}(k,O,I,D,N,R,V,G):[V,G],F=k-z[0],j=O-z[1],B=N-z[0],X=R-z[1],H=1/zp(function(t){return t>1?0:t<-1?Bp:Math.acos(t)}((F*B+j*X)/(Fp(F*F+j*j)*Fp(B*B+X*X)))/2),Y=Fp(z[0]*z[0]+z[1]*z[1]);M=Dp(P,(l-Y)/(H-1)),C=Dp(P,(f-Y)/(H+1))}}S>jp?C>jp?(_=Zp(I,D,k,O,f,C,g),y=Zp(N,R,V,G,f,C,g),u.moveTo(_.cx+_.x01,_.cy+_.y01),C<P?u.arc(_.cx,_.cy,C,Np(_.y01,_.x01),Np(y.y01,y.x01),!g):(u.arc(_.cx,_.cy,C,Np(_.y01,_.x01),Np(_.y11,_.x11),!g),u.arc(0,0,f,Np(_.cy+_.y11,_.cx+_.x11),Np(y.cy+y.y11,y.cx+y.x11),!g),u.arc(y.cx,y.cy,C,Np(y.y11,y.x11),Np(y.y01,y.x01),!g))):(u.moveTo(k,O),u.arc(0,0,f,v,x,!g)):u.moveTo(k,O),l>jp&&w>jp?M>jp?(_=Zp(V,G,N,R,l,-M,g),y=Zp(k,O,I,D,l,-M,g),u.lineTo(_.cx+_.x01,_.cy+_.y01),M<P?u.arc(_.cx,_.cy,M,Np(_.y01,_.x01),Np(y.y01,y.x01),!g):(u.arc(_.cx,_.cy,M,Np(_.y01,_.x01),Np(_.y11,_.x11),!g),u.arc(0,0,l,Np(_.cy+_.y11,_.cx+_.x11),Np(y.cy+y.y11,y.cx+y.x11),g),u.arc(y.cx,y.cy,M,Np(y.y11,y.x11),Np(y.y01,y.x01),!g))):u.arc(0,0,l,b,m,g):u.lineTo(V,G)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bp/2;return[Rp(r)*e,zp(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Vp(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Vp(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Vp(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Vp(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Vp(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Vp(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Vp(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s};function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var tg=function(t){return new Jp(t)};function ng(t){return t[0]}function eg(t){return t[1]}var rg=function(){var t=ng,n=eg,e=Vp(!0),r=null,i=tg,o=null;function a(a){var u,s,c,l=a.length,f=!1;for(null==r&&(o=i(c=Object(ke.a)())),u=0;u<=l;++u)!(u<l&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:Vp(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Vp(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Vp(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},ig=function(){var t=ng,n=null,e=Vp(0),r=eg,i=Vp(!0),o=null,a=tg,u=null;function s(s){var c,l,f,h,d,p=s.length,g=!1,_=new Array(p),y=new Array(p);for(null==o&&(u=a(d=Object(ke.a)())),c=0;c<=p;++c){if(!(c<p&&i(h=s[c],c,s))===g)if(g=!g)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(_[f],y[f]);u.lineEnd(),u.areaEnd()}g&&(_[c]=+t(h,c,s),y[c]=+e(h,c,s),u.point(n?+n(h,c,s):_[c],r?+r(h,c,s):y[c]))}if(d)return u=null,d+""||null}function c(){return rg().defined(i).curve(a).context(o)}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:Vp(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:Vp(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Vp(+t),s):n},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Vp(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:Vp(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Vp(+t),s):r},s.lineX0=s.lineY0=function(){return c().x(t).y(e)},s.lineY1=function(){return c().x(t).y(r)},s.lineX1=function(){return c().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:Vp(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s},og=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},ag=function(t){return t},ug=function(){var t=ag,n=og,e=null,r=Vp(0),i=Vp(Hp),o=Vp(0);function a(a){var u,s,c,l,f,h=a.length,d=0,p=new Array(h),g=new Array(h),_=+r.apply(this,arguments),y=Math.min(Hp,Math.max(-Hp,i.apply(this,arguments)-_)),v=Math.min(Math.abs(y)/h,o.apply(this,arguments)),x=v*(y<0?-1:1);for(u=0;u<h;++u)(f=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=f);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=e&&p.sort(function(t,n){return e(a[t],a[n])}),u=0,c=d?(y-h*x)/d:0;u<h;++u,_=l)s=p[u],l=_+((f=g[s])>0?f*c:0)+x,g[s]={data:a[s],index:u,value:f,startAngle:_,endAngle:l,padAngle:v};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:Vp(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Vp(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Vp(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Vp(+t),a):o},a},sg=lg(tg);function cg(t){this._curve=t}function lg(t){function n(n){return new cg(t(n))}return n._curve=t,n}function fg(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(lg(t)):n()._curve},t}cg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var hg=function(){return fg(rg().curve(sg))},dg=function(){var t=ig().curve(sg),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return fg(e())},delete t.lineX0,t.lineEndAngle=function(){return fg(r())},delete t.lineX1,t.lineInnerRadius=function(){return fg(i())},delete t.lineY0,t.lineOuterRadius=function(){return fg(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(lg(t)):n()._curve},t},pg=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},gg=Array.prototype.slice;function _g(t){return t.source}function yg(t){return t.target}function vg(t){var n=_g,e=yg,r=ng,i=eg,o=null;function a(){var a,u=gg.call(arguments),s=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=Object(ke.a)()),t(o,+r.apply(this,(u[0]=s,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Vp(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Vp(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function xg(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function mg(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function bg(t,n,e,r,i){var o=pg(n,e),a=pg(n,e=(e+i)/2),u=pg(r,e),s=pg(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function wg(){return vg(xg)}function Sg(){return vg(mg)}function Ag(){var t=vg(bg);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Tg={draw:function(t,n){var e=Math.sqrt(n/Bp);t.moveTo(e,0),t.arc(0,0,e,0,Hp)}},Pg={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Mg=Math.sqrt(1/3),Cg=2*Mg,Eg={draw:function(t,n){var e=Math.sqrt(n/Cg),r=e*Mg;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Lg=Math.sin(Bp/10)/Math.sin(7*Bp/10),kg=Math.sin(Hp/10)*Lg,Og=-Math.cos(Hp/10)*Lg,Vg={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=kg*e,i=Og*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Hp*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*e,-u*e),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Gg={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Ng=Math.sqrt(3),Rg={draw:function(t,n){var e=-Math.sqrt(n/(3*Ng));t.moveTo(0,2*e),t.lineTo(-Ng*e,-e),t.lineTo(Ng*e,-e),t.closePath()}},Ig=Math.sqrt(3)/2,Dg=1/Math.sqrt(12),zg=3*(Dg/2+1),Fg={draw:function(t,n){var e=Math.sqrt(n/zg),r=e/2,i=e*Dg,o=r,a=e*Dg+e,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(-.5*r-Ig*i,Ig*r+-.5*i),t.lineTo(-.5*o-Ig*a,Ig*o+-.5*a),t.lineTo(-.5*u-Ig*s,Ig*u+-.5*s),t.lineTo(-.5*r+Ig*i,-.5*i-Ig*r),t.lineTo(-.5*o+Ig*a,-.5*a-Ig*o),t.lineTo(-.5*u+Ig*s,-.5*s-Ig*u),t.closePath()}},jg=[Tg,Pg,Eg,Gg,Vg,Rg,Fg],Bg=function(){var t=Vp(Tg),n=Vp(64),e=null;function r(){var r;if(e||(e=r=Object(ke.a)()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:Vp(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Vp(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},Xg=function(){};function Hg(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Yg(t){this._context=t}Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hg(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Ug=function(t){return new Yg(t)};function qg(t){this._context=t}qg.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Hg(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Wg=function(t){return new qg(t)};function Qg(t){this._context=t}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Hg(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var $g=function(t){return new Qg(t)};function Zg(t,n){this._basis=new Yg(t),this._beta=n}Zg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Kg=function t(n){function e(t){return 1===n?new Yg(t):new Zg(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Jg(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function t_(t,n){this._context=t,this._k=(1-n)/6}t_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Jg(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var n_=function t(n){function e(t){return new t_(t,n)}return e.tension=function(n){return t(+n)},e}(0);function e_(t,n){this._context=t,this._k=(1-n)/6}e_.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Jg(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var r_=function t(n){function e(t){return new e_(t,n)}return e.tension=function(n){return t(+n)},e}(0);function i_(t,n){this._context=t,this._k=(1-n)/6}i_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jg(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var o_=function t(n){function e(t){return new i_(t,n)}return e.tension=function(n){return t(+n)},e}(0);function a_(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>jp){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>jp){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function u_(t,n){this._context=t,this._alpha=n}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:a_(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var s_=function t(n){function e(t){return n?new u_(t,n):new t_(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function c_(t,n){this._context=t,this._alpha=n}c_.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:a_(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var l_=function t(n){function e(t){return n?new c_(t,n):new e_(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function f_(t,n){this._context=t,this._alpha=n}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:a_(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var h_=function t(n){function e(t){return n?new f_(t,n):new i_(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function d_(t){this._context=t}d_.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var p_=function(t){return new d_(t)};function g_(t){return t<0?-1:1}function __(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(g_(o)+g_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function y_(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function v_(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function x_(t){this._context=t}function m_(t){this._context=new b_(t)}function b_(t){this._context=t}function w_(t){return new x_(t)}function S_(t){return new m_(t)}function A_(t){this._context=t}function T_(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}x_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v_(this,this._t0,y_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,v_(this,y_(this,e=__(this,t,n)),e);break;default:v_(this,this._t0,e=__(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(m_.prototype=Object.create(x_.prototype)).point=function(t,n){x_.prototype.point.call(this,n,t)},b_.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=T_(t),i=T_(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var P_=function(t){return new A_(t)};function M_(t,n){this._context=t,this._t=n}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var C_=function(t){return new M_(t,.5)};function E_(t){return new M_(t,0)}function L_(t){return new M_(t,1)}var k_=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},O_=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function V_(t,n){return t[n]}var G_=function(){var t=Vp([]),n=O_,e=k_,r=V_;function i(i){var o,a,u=t.apply(this,arguments),s=i.length,c=u.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=u[o],d=l[o]=new Array(s),p=0;p<s;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return e(l,a),l}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:Vp(gg.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Vp(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?O_:"function"==typeof t?t:Vp(gg.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?k_:t,i):e},i},N_=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}k_(t,n)}},R_=function(t,n){if((u=t.length)>1)for(var e,r,i,o,a,u,s=0,c=t[n[0]].length;s<c;++s)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][s])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},I_=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}k_(t,n)}},D_=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var l=t[n[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=f,c+=h*f}e[a-1][1]+=e[a-1][0]=o,s&&(o-=c/s)}e[a-1][1]+=e[a-1][0]=o,k_(t,n)}},z_=function(t){var n=t.map(F_);return O_(t).sort(function(t,e){return n[t]-n[e]})};function F_(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var j_=function(t){return z_(t).reverse()},B_=function(t){var n,e,r=t.length,i=t.map(F_),o=O_(t).sort(function(t,n){return i[n]-i[t]}),a=0,u=0,s=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],s.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(s)},X_=function(t){return O_(t).reverse()},H_=Object(x.a)("start","end","interrupt"),Y_=[],U_=0,q_=1,W_=2,Q_=3,$_=4,Z_=5,K_=6,J_=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==q_)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===Q_)return Object(An.c)(o);h.state===$_?(h.state=K_,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=K_,h.timer.stop(),delete i[c])}if(Object(An.c)(function(){e.state===Q_&&(e.state=$_,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=W_,e.on.call("start",t,t.__data__,e.index,e.group),e.state===W_){for(e.state=Q_,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=Z_,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===Z_&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=K_,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Object(An.d)(function(t){e.state=q_,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:H_,tween:Y_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:U_})};function ty(t,n){var e=ey(t,n);if(e.state>U_)throw new Error("too late; already scheduled");return e}function ny(t,n){var e=ey(t,n);if(e.state>W_)throw new Error("too late; already started");return e}function ey(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var ry=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>W_&&e.state<Z_,e.state=K_,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}};function iy(t,n,e){var r=t._id;return t.each(function(){var t=ny(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return ey(t,r).value[n]}}var oy=function(t,n){var e;return("number"==typeof n?Pt.m:n instanceof Fn.a?Pt.o:(e=Object(Fn.a)(n))?(n=e,Pt.o):Pt.s)(t,n)};var ay=bp.prototype.constructor;var uy=0;function sy(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function cy(t){return bp().transition(t)}function ly(){return++uy}var fy=bp.prototype;sy.prototype=cy.prototype={constructor:sy,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Rd(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,J_(f[h],n,e,h,f,ey(u,e)));return new sy(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Dd(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=ey(s,e),g=0,_=d.length;g<_;++g)(h=d[g])&&J_(h,n,e,g,d,p);o.push(d),a.push(s)}return new sy(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=Bd(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new sy(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new sy(a,this._parents,this._name,this._id)},selection:function(){return new ay(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ly(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=ey(a,n);J_(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new sy(r,this._parents,t,e)},call:fy.call,nodes:fy.nodes,node:fy.node,size:fy.size,empty:fy.empty,each:fy.each,on:function(t,n){var e=this._id;return arguments.length<2?ey(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?ty:ny;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Vd(t),r="transform"===e?Pt.u:oy;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,iy(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Vd(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Pt.t:oy;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=$d(this,t),a=(this.style.removeProperty(t),$d(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=$d(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=$d(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,iy(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=$d(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(iy(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ey(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=ny(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=ny(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ty(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ty(this,t).delay=n}})(n,t)):ey(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ny(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ny(this,t).duration=n}})(n,t)):ey(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){ny(this,t).ease=n}}(n,t)):ey(this.node(),n).ease}};var hy={time:null,delay:0,duration:250,ease:wr};function dy(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return hy.time=Object(An.b)(),hy;return e}bp.prototype.interrupt=function(t){return this.each(function(){ry(this,t)})},bp.prototype.transition=function(t){var n,e;t instanceof sy?(n=t._id,t=t._name):(n=ly(),(e=hy).time=Object(An.b)(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&J_(a,t,n,c,u,e||dy(a,n));return new sy(r,this._parents,t,n)};var py=[null],gy=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>q_&&e.name===n)return new sy([[t]],py,n,+r);return null},_y=function(t){return function(){return t}};function yy(t){return t[0]}function vy(t){return t[1]}function xy(){this._=null}function my(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function by(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function wy(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Sy(t){for(;t.L;)t=t.L;return t}xy.prototype={constructor:xy,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Sy(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(by(this,e),e=(t=e).U),e.C=!1,r.C=!0,wy(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(wy(this,e),e=(t=e).U),e.C=!1,r.C=!0,by(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Sy(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,by(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,wy(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,by(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,wy(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,by(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,wy(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ay=xy;function Ty(t,n,e,r){var i=[null,null],o=qy.push(i)-1;return i.left=t,i.right=n,e&&My(i,t,n,e),r&&My(i,n,t,r),Yy[t.index].halfedges.push(o),Yy[n.index].halfedges.push(o),i}function Py(t,n,e){var r=[n,e];return r.left=t,r}function My(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Cy(t,n,e,r,i){var o,a=t[0],u=t[1],s=a[0],c=a[1],l=0,f=1,h=u[0]-s,d=u[1]-c;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[s+l*h,c+l*d]),f<1&&(t[1]=[s+f*h,c+f*d]),!0)}}}}}function Ey(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],g=(f+d)/2,_=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[g,e];o=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];o=[g,e]}}else if(u=_-(a=(f-d)/(p-h))*g,a<-1||a>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(s){if(s[1]<e)return}else s=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,a*n+u];o=[r,a*r+u]}else{if(s){if(s[0]<n)return}else s=[r,a*r+u];o=[n,a*n+u]}return t[0]=s,t[1]=o,!0}function Ly(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ky(t,n){return n[+(n.left!==t.site)]}function Oy(t,n){return n[+(n.left===t.site)]}var Vy,Gy=[];function Ny(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,c=r[1]-u,l=o[0]-a,f=o[1]-u,h=2*(s*f-c*l);if(!(h>=-Qy)){var d=s*s+c*c,p=l*l+f*f,g=(f*d-c*p)/h,_=(s*p-l*d)/h,y=Gy.pop()||new function(){my(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=_+u)+Math.sqrt(g*g+_*_),t.circle=y;for(var v=null,x=Uy._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){v=x.P;break}x=x.L}else{if(!x.R){v=x;break}x=x.R}Uy.insert(v,y),v||(Vy=y)}}}}function Ry(t){var n=t.circle;n&&(n.P||(Vy=n.N),Uy.remove(n),Gy.push(n),my(n),t.circle=null)}var Iy=[];function Dy(t){var n=Iy.pop()||new function(){my(this),this.edge=this.site=this.circle=null};return n.site=t,n}function zy(t){Ry(t),Hy.remove(t),Iy.push(t),my(t)}function Fy(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];zy(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<Wy&&Math.abs(r-s.circle.cy)<Wy;)o=s.P,u.unshift(s),zy(s),s=o;u.unshift(s),Ry(s);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<Wy&&Math.abs(r-c.circle.cy)<Wy;)a=c.N,u.push(c),zy(c),c=a;u.push(c),Ry(c);var l,f=u.length;for(l=1;l<f;++l)c=u[l],s=u[l-1],My(c.edge,s.site,c.site,i);s=u[0],(c=u[f-1]).edge=Ty(s.site,c.site,null,i),Ny(s),Ny(c)}function jy(t){for(var n,e,r,i,o=t[0],a=t[1],u=Hy._;u;)if((r=By(u,a)-o)>Wy)u=u.L;else{if(!((i=o-Xy(u,a))>Wy)){r>-Wy?(n=u.P,e=u):i>-Wy?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Yy[t.index]={site:t,halfedges:[]}}(t);var s=Dy(t);if(Hy.insert(n,s),n||e){if(n===e)return Ry(n),e=Dy(n.site),Hy.insert(s,e),s.edge=e.edge=Ty(n.site,s.site),Ny(n),void Ny(e);if(e){Ry(n),Ry(e);var c=n.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=e.site,g=p[0]-l,_=p[1]-f,y=2*(h*_-d*g),v=h*h+d*d,x=g*g+_*_,m=[(_*v-d*x)/y+l,(h*x-g*v)/y+f];My(e.edge,c,p,m),s.edge=Ty(c,t,null,m),e.edge=Ty(t,p,null,m),Ny(n),Ny(e)}else s.edge=Ty(n.site,s.site)}}function By(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],s=e[1],c=s-n;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function Xy(t,n){var e=t.N;if(e)return By(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Hy,Yy,Uy,qy,Wy=1e-6,Qy=1e-12;function $y(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Zy(t,n){return n[1]-t[1]||n[0]-t[0]}function Ky(t,n){var e,r,i,o=t.sort(Zy).pop();for(qy=[],Yy=new Array(t.length),Hy=new Ay,Uy=new Ay;;)if(i=Vy,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(jy(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Fy(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Yy.length;i<o;++i)if((t=Yy[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=Ly(t,qy[n[e]]);for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],s=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=qy.length;o--;)Ey(i=qy[o],t,n,e,r)&&Cy(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Wy||Math.abs(i[0][1]-i[1][1])>Wy)||delete qy[o]}(a,u,s,c),function(t,n,e,r){var i,o,a,u,s,c,l,f,h,d,p,g,_=Yy.length,y=!0;for(i=0;i<_;++i)if(o=Yy[i]){for(a=o.site,u=(s=o.halfedges).length;u--;)qy[s[u]]||s.splice(u,1);for(u=0,c=s.length;u<c;)p=(d=Oy(o,qy[s[u]]))[0],g=d[1],f=(l=ky(o,qy[s[++u%c]]))[0],h=l[1],(Math.abs(p-f)>Wy||Math.abs(g-h)>Wy)&&(s.splice(u,0,qy.push(Py(a,d,Math.abs(p-t)<Wy&&r-g>Wy?[t,Math.abs(f-t)<Wy?h:r]:Math.abs(g-r)<Wy&&e-p>Wy?[Math.abs(h-r)<Wy?f:e,r]:Math.abs(p-e)<Wy&&g-n>Wy?[e,Math.abs(f-e)<Wy?h:n]:Math.abs(g-n)<Wy&&p-t>Wy?[Math.abs(h-n)<Wy?f:t,n]:null))-1),++c);c&&(y=!1)}if(y){var v,x,m,b=1/0;for(i=0,y=null;i<_;++i)(o=Yy[i])&&(m=(v=(a=o.site)[0]-t)*v+(x=a[1]-n)*x)<b&&(b=m,y=o);if(y){var w=[t,n],S=[t,r],A=[e,r],T=[e,n];y.halfedges.push(qy.push(Py(a=y.site,w,S))-1,qy.push(Py(a,S,A))-1,qy.push(Py(a,A,T))-1,qy.push(Py(a,T,w))-1)}}for(i=0;i<_;++i)(o=Yy[i])&&(o.halfedges.length||delete Yy[i])}(a,u,s,c)}this.edges=qy,this.cells=Yy,Hy=Uy=qy=Yy=null}Ky.prototype={constructor:Ky,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return ky(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u=e.site,s=-1,c=n[i[o-1]],l=c.left===u?c.right:c.left;++s<o;)a=l,l=(c=n[i[s]]).left===u?c.right:c.left,a&&l&&r<a.index&&r<l.index&&$y(u,a,l)<0&&t.push([u.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var s=t-i.site[0],c=n-i.site[1],l=s*s+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],c=n-u[1],f=s*s+c*c;f<l&&(l=f,a=u.index)}})}while(null!==a);return o._found=r,null==e||l<=e*e?i.site:null}};var Jy=function(){var t=yy,n=vy,e=null;function r(r){return new Ky(r.map(function(e,i){var o=[Math.round(t(e,i,r)/Wy)*Wy,Math.round(n(e,i,r)/Wy)*Wy];return o.index=i,o.data=e,o}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:_y(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:_y(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},tv="http://www.w3.org/1999/xhtml",nv={svg:"http://www.w3.org/2000/svg",xhtml:tv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ev=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),nv.hasOwnProperty(n)?{space:nv[n],local:t}:t};var rv=function(t){var n=ev(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===tv&&n.documentElement.namespaceURI===tv?n.createElement(t):n.createElementNS(e,t)}})(n)};function iv(){}var ov=function(t){return null==t?iv:function(){return this.querySelector(t)}};function av(){return[]}var uv=function(t){return null==t?av:function(){return this.querySelectorAll(t)}},sv=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var cv=document.documentElement;if(!cv.matches){var lv=cv.webkitMatchesSelector||cv.msMatchesSelector||cv.mozMatchesSelector||cv.oMatchesSelector;sv=function(t){return function(){return lv.call(this,t)}}}}var fv=sv,hv=function(t){return new Array(t.length)};function dv(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}dv.prototype={constructor:dv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var pv="$";function gv(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new dv(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function _v(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=pv+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=pv+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new dv(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function yv(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var vv=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function xv(t,n){return t.style.getPropertyValue(n)||vv(t).getComputedStyle(t,null).getPropertyValue(n)}function mv(t){return t.trim().split(/^|\s+/)}function bv(t){return t.classList||new wv(t)}function wv(t){this._node=t,this._names=mv(t.getAttribute("class")||"")}function Sv(t,n){for(var e=bv(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Av(t,n){for(var e=bv(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}wv.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Tv(){this.textContent=""}function Pv(){this.innerHTML=""}function Mv(){this.nextSibling&&this.parentNode.appendChild(this)}function Cv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ev(){return null}function Lv(){var t=this.parentNode;t&&t.removeChild(this)}function kv(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ov(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Vv={},Gv=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Vv={mouseenter:"mouseover",mouseleave:"mouseout"}));function Nv(t,n,e){return t=Rv(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Rv(t,n,e){return function(r){var i=Gv;Gv=r;try{t.call(this,this.__data__,n,e)}finally{Gv=i}}}function Iv(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Dv(t,n,e){var r=Vv.hasOwnProperty(t.type)?Nv:Rv;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function zv(t,n,e){var r=vv(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Fv=[null];function jv(t,n){this._groups=t,this._parents=n}function Bv(){return new jv([[document.documentElement]],Fv)}jv.prototype=Bv.prototype={constructor:jv,select:function(t){"function"!=typeof t&&(t=ov(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new jv(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=uv(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new jv(r,i)},filter:function(t){"function"!=typeof t&&(t=fv(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new jv(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var e=n?_v:gv,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=a[c]=new Array(p);e(l,f,g,_,s[c]=new Array(h),d,n);for(var y,v,x=0,m=0;x<p;++x)if(y=g[x]){for(x>=m&&(m=x+1);!(v=_[m])&&++m<p;);y._next=v||null}}return(a=new jv(a,r))._enter=u,a._exit=s,a},enter:function(){return new jv(this._enter||this._groups.map(hv),this._parents)},exit:function(){return new jv(this._exit||this._groups.map(hv),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new jv(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=yv);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new jv(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=ev(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):xv(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=mv(t+"");if(arguments.length<2){for(var r=bv(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Sv:Av)(this,t)}}:n?function(t){return function(){Sv(this,t)}}:function(t){return function(){Av(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Tv:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Pv:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Mv)},lower:function(){return this.each(Cv)},append:function(t){var n="function"==typeof t?t:rv(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:rv(t),r=null==n?Ev:"function"==typeof n?n:ov(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Lv)},clone:function(t){return this.select(t?Ov:kv)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Dv:Iv,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return zv(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return zv(this,t,n)}})(t,n))}};var Xv=Bv,Hv=function(t){return"string"==typeof t?new jv([[document.querySelector(t)]],[document.documentElement]):new jv([[t]],Fv)},Yv=0;function Uv(){this._="@"+(++Yv).toString(36)}Uv.prototype=function(){return new Uv}.prototype={constructor:Uv,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var qv=function(){for(var t,n=Gv;t=n.sourceEvent;)n=t;return n},Wv=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Qv=function(t){var n=qv();return n.changedTouches&&(n=n.changedTouches[0]),Wv(t,n)},$v=function(t,n,e){arguments.length<3&&(e=n,n=qv().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Wv(t,r);return null},Zv=Object(x.a)("start","end","interrupt"),Kv=[],Jv=0,tx=1,nx=2,ex=3,rx=4,ix=5,ox=6,ax=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==tx)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===ex)return Object(An.c)(o);h.state===rx?(h.state=ox,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=ox,h.timer.stop(),delete i[c])}if(Object(An.c)(function(){e.state===ex&&(e.state=rx,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=nx,e.on.call("start",t,t.__data__,e.index,e.group),e.state===nx){for(e.state=ex,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=ix,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===ix&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=ox,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Object(An.d)(function(t){e.state=tx,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Zv,tween:Kv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jv})};function ux(t,n){var e=cx(t,n);if(e.state>Jv)throw new Error("too late; already scheduled");return e}function sx(t,n){var e=cx(t,n);if(e.state>nx)throw new Error("too late; already started");return e}function cx(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var lx=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>nx&&e.state<ix,e.state=ox,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}};function fx(t,n,e){var r=t._id;return t.each(function(){var t=sx(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return cx(t,r).value[n]}}var hx=function(t,n){var e;return("number"==typeof n?Pt.m:n instanceof Fn.a?Pt.o:(e=Object(Fn.a)(n))?(n=e,Pt.o):Pt.s)(t,n)};var dx=Xv.prototype.constructor;var px=0;function gx(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function _x(){return++px}var yx=Xv.prototype;gx.prototype=function(t){return Xv().transition(t)}.prototype={constructor:gx,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ov(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,ax(f[h],n,e,h,f,cx(u,e)));return new gx(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=uv(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=cx(s,e),g=0,_=d.length;g<_;++g)(h=d[g])&&ax(h,n,e,g,d,p);o.push(d),a.push(s)}return new gx(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=fv(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new gx(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new gx(a,this._parents,this._name,this._id)},selection:function(){return new dx(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=_x(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=cx(a,n);ax(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new gx(r,this._parents,t,e)},call:yx.call,nodes:yx.nodes,node:yx.node,size:yx.size,empty:yx.empty,each:yx.each,on:function(t,n){var e=this._id;return arguments.length<2?cx(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?ux:sx;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=ev(t),r="transform"===e?Pt.u:hx;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,fx(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=ev(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Pt.t:hx;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=xv(this,t),a=(this.style.removeProperty(t),xv(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=xv(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=xv(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,fx(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=xv(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(fx(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=cx(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=sx(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=sx(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ux(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ux(this,t).delay=n}})(n,t)):cx(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){sx(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){sx(this,t).duration=n}})(n,t)):cx(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){sx(this,t).ease=n}}(n,t)):cx(this.node(),n).ease}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var vx=2*Math.PI,xx=(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vx);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*vx)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vx);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*vx)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=vx);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*vx)},i.period=function(e){return t(n,e)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function mx(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return xx.time=Object(An.b)(),xx;return e}Xv.prototype.interrupt=function(t){return this.each(function(){lx(this,t)})},Xv.prototype.transition=function(t){var n,e;t instanceof gx?(n=t._id,t=t._name):(n=_x(),(e=xx).time=Object(An.b)(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&ax(a,t,n,c,u,e||mx(a,n));return new gx(r,this._parents,t,n)};var bx=function(t){return function(){return t}};function wx(t,n,e){this.k=t,this.x=n,this.y=e}wx.prototype={constructor:wx,scale:function(t){return 1===t?this:new wx(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new wx(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sx=new wx(1,0,0);function Ax(t){return t.__zoom||Sx}function Tx(){Gv.stopImmediatePropagation()}Ax.prototype=wx.prototype;var Px=function(){Gv.preventDefault(),Gv.stopImmediatePropagation()};function Mx(){return!Gv.button}function Cx(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Ex(){return this.__zoom||Sx}function Lx(){return-Gv.deltaY*(Gv.deltaMode?120:1)/500}function kx(){return"ontouchstart"in this}function Ox(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Vx=function(){var t,n,e=Mx,r=Cx,i=Ox,o=Lx,a=kx,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,l=Pt.v,f=[],h=Object(x.a)("start","zoom","end"),d=500,p=150,g=0;function _(t){t.property("__zoom",Ex).on("wheel.zoom",A).on("mousedown.zoom",T).on("dblclick.zoom",P).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new wx(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new wx(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=w(this,t),o=r.apply(this,t),a=e||m(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,c="function"==typeof n?n.apply(this,t):n,f=l(s.invert(a).concat(u/s.k),c.invert(a).concat(u/c.k));return function(t){if(1===t)t=c;else{var n=f(t),e=u/n[2];t=new wx(e,a[0]-n[0]*e,a[1]-n[1]*e)}i.zoom(null,t)}})}function w(t,n){for(var e,r=0,i=f.length;r<i;++r)if((e=f[r]).that===t)return e;return new S(t,n)}function S(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=r.apply(t,n)}function A(){if(e.apply(this,arguments)){var t=w(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,o.apply(this,arguments)))),a=Qv(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],lx(this),t.start()}Px(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",i(v(y(n,r),t.mouse[0],t.mouse[1]),t.extent,s))}}function T(){if(!n&&e.apply(this,arguments)){var t=w(this,arguments),r=Hv(Gv.view).on("mousemove.zoom",function(){if(Px(),!t.moved){var n=Gv.clientX-a,e=Gv.clientY-u;t.moved=n*n+e*e>g}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=Qv(t.that),t.mouse[1]),t.extent,s))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),vt(Gv.view,t.moved),Px(),t.end()},!0),o=Qv(this),a=Gv.clientX,u=Gv.clientY;yt(Gv.view),Tx(),t.mouse=[o,this.__zoom.invert(o)],lx(this),t.start()}}function P(){if(e.apply(this,arguments)){var t=this.__zoom,n=Qv(this),o=t.invert(n),a=t.k*(Gv.shiftKey?.5:2),u=i(v(y(t,a),n,o),r.apply(this,arguments),s);Px(),c>0?Hv(this).transition().duration(c).call(b,u,n):Hv(this).call(_.transform,u)}}function M(){if(e.apply(this,arguments)){var n,r,i,o,a=w(this,arguments),u=Gv.changedTouches,s=u.length;for(Tx(),r=0;r<s;++r)i=u[r],o=[o=$v(this,u,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,n=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((o=Hv(this).on("dblclick.zoom"))&&o.apply(this,arguments));n&&(t=setTimeout(function(){t=null},d),lx(this),a.start())}}function C(){var n,e,r,o,a=w(this,arguments),u=Gv.changedTouches,c=u.length;for(Px(),t&&(t=clearTimeout(t)),n=0;n<c;++n)e=u[n],r=$v(this,u,e.identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],h=a.touch1[0],d=a.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;e=y(e,Math.sqrt(p/g)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(e,r,o),a.extent,s))}function E(){var t,e,r=w(this,arguments),i=Gv.changedTouches,o=i.length;for(Tx(),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return _.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Ex),t!==e?b(t,n):e.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},_.scaleBy=function(t,n){_.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},_.scaleTo=function(t,n){_.transform(t,function(){var t=r.apply(this,arguments),e=this.__zoom,o=m(t),a=e.invert(o),u="function"==typeof n?n.apply(this,arguments):n;return i(v(y(e,u),o,a),t,s)})},_.translateBy=function(t,n,e){_.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),s)})},_.translateTo=function(t,n,e){_.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,a=m(t);return i(Sx.translate(a[0],a[1]).scale(o.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)})},S.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var i=Gv;t.sourceEvent=Gv,Gv=t;try{n.apply(e,r)}finally{Gv=i}}(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(_,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},_.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:bx(+t),_):o},_.filter=function(t){return arguments.length?(e="function"==typeof t?t:bx(!!t),_):e},_.touchable=function(t){return arguments.length?(a="function"==typeof t?t:bx(!!t),_):a},_.extent=function(t){return arguments.length?(r="function"==typeof t?t:bx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),_):r},_.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],_):[u[0],u[1]]},_.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(t){return arguments.length?(i=t,_):i},_.duration=function(t){return arguments.length?(c=+t,_):c},_.interpolate=function(t){return arguments.length?(l=t,_):l},_.on=function(){var t=h.on.apply(h,arguments);return t===h?_:t},_.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,_):Math.sqrt(g)},_};e.d(n,"version",function(){return"5.5.0"}),e.d(n,"bisect",function(){return r.b}),e.d(n,"bisectRight",function(){return r.d}),e.d(n,"bisectLeft",function(){return r.c}),e.d(n,"ascending",function(){return r.a}),e.d(n,"bisector",function(){return r.e}),e.d(n,"cross",function(){return r.f}),e.d(n,"descending",function(){return r.g}),e.d(n,"deviation",function(){return r.h}),e.d(n,"extent",function(){return r.i}),e.d(n,"histogram",function(){return r.j}),e.d(n,"thresholdFreedmanDiaconis",function(){return r.w}),e.d(n,"thresholdScott",function(){return r.x}),e.d(n,"thresholdSturges",function(){return r.y}),e.d(n,"max",function(){return r.k}),e.d(n,"mean",function(){return r.l}),e.d(n,"median",function(){return r.m}),e.d(n,"merge",function(){return r.n}),e.d(n,"min",function(){return r.o}),e.d(n,"pairs",function(){return r.p}),e.d(n,"permute",function(){return r.q}),e.d(n,"quantile",function(){return r.r}),e.d(n,"range",function(){return r.s}),e.d(n,"scan",function(){return r.t}),e.d(n,"shuffle",function(){return r.u}),e.d(n,"sum",function(){return r.v}),e.d(n,"ticks",function(){return r.B}),e.d(n,"tickIncrement",function(){return r.z}),e.d(n,"tickStep",function(){return r.A}),e.d(n,"transpose",function(){return r.C}),e.d(n,"variance",function(){return r.D}),e.d(n,"zip",function(){return r.E}),e.d(n,"axisTop",function(){return g}),e.d(n,"axisRight",function(){return _}),e.d(n,"axisBottom",function(){return y}),e.d(n,"axisLeft",function(){return v}),e.d(n,"brush",function(){return me}),e.d(n,"brushX",function(){return ve}),e.d(n,"brushY",function(){return xe}),e.d(n,"brushSelection",function(){return ye}),e.d(n,"chord",function(){return Ce}),e.d(n,"ribbon",function(){return Ie}),e.d(n,"nest",function(){return je}),e.d(n,"set",function(){return Qe}),e.d(n,"map",function(){return Fe}),e.d(n,"keys",function(){return $e}),e.d(n,"values",function(){return Ze}),e.d(n,"entries",function(){return Ke}),e.d(n,"color",function(){return Fn.a}),e.d(n,"rgb",function(){return Fn.h}),e.d(n,"hsl",function(){return Fn.e}),e.d(n,"lab",function(){return Fn.f}),e.d(n,"hcl",function(){return Fn.d}),e.d(n,"lch",function(){return Fn.g}),e.d(n,"gray",function(){return Fn.c}),e.d(n,"cubehelix",function(){return Fn.b}),e.d(n,"contours",function(){return sr}),e.d(n,"contourDensity",function(){return pr}),e.d(n,"dispatch",function(){return x.a}),e.d(n,"drag",function(){return Tt}),e.d(n,"dragDisable",function(){return yt}),e.d(n,"dragEnable",function(){return vt}),e.d(n,"dsvFormat",function(){return gr.e}),e.d(n,"csvParse",function(){return gr.c}),e.d(n,"csvParseRows",function(){return gr.d}),e.d(n,"csvFormat",function(){return gr.a}),e.d(n,"csvFormatRows",function(){return gr.b}),e.d(n,"tsvParse",function(){return gr.h}),e.d(n,"tsvParseRows",function(){return gr.i}),e.d(n,"tsvFormat",function(){return gr.f}),e.d(n,"tsvFormatRows",function(){return gr.g}),e.d(n,"easeLinear",function(){return _r}),e.d(n,"easeQuad",function(){return xr}),e.d(n,"easeQuadIn",function(){return yr}),e.d(n,"easeQuadOut",function(){return vr}),e.d(n,"easeQuadInOut",function(){return xr}),e.d(n,"easeCubic",function(){return wr}),e.d(n,"easeCubicIn",function(){return mr}),e.d(n,"easeCubicOut",function(){return br}),e.d(n,"easeCubicInOut",function(){return wr}),e.d(n,"easePoly",function(){return Tr}),e.d(n,"easePolyIn",function(){return Sr}),e.d(n,"easePolyOut",function(){return Ar}),e.d(n,"easePolyInOut",function(){return Tr}),e.d(n,"easeSin",function(){return Lr}),e.d(n,"easeSinIn",function(){return Cr}),e.d(n,"easeSinOut",function(){return Er}),e.d(n,"easeSinInOut",function(){return Lr}),e.d(n,"easeExp",function(){return Vr}),e.d(n,"easeExpIn",function(){return kr}),e.d(n,"easeExpOut",function(){return Or}),e.d(n,"easeExpInOut",function(){return Vr}),e.d(n,"easeCircle",function(){return Rr}),e.d(n,"easeCircleIn",function(){return Gr}),e.d(n,"easeCircleOut",function(){return Nr}),e.d(n,"easeCircleInOut",function(){return Rr}),e.d(n,"easeBounce",function(){return Wr}),e.d(n,"easeBounceIn",function(){return qr}),e.d(n,"easeBounceOut",function(){return Wr}),e.d(n,"easeBounceInOut",function(){return Qr}),e.d(n,"easeBack",function(){return Kr}),e.d(n,"easeBackIn",function(){return $r}),e.d(n,"easeBackOut",function(){return Zr}),e.d(n,"easeBackInOut",function(){return Kr}),e.d(n,"easeElastic",function(){return ni}),e.d(n,"easeElasticIn",function(){return ti}),e.d(n,"easeElasticOut",function(){return ni}),e.d(n,"easeElasticInOut",function(){return ei}),e.d(n,"blob",function(){return ii}),e.d(n,"buffer",function(){return ai}),e.d(n,"dsv",function(){return li}),e.d(n,"csv",function(){return fi}),e.d(n,"tsv",function(){return hi}),e.d(n,"image",function(){return di}),e.d(n,"json",function(){return gi}),e.d(n,"text",function(){return si}),e.d(n,"xml",function(){return yi}),e.d(n,"html",function(){return vi}),e.d(n,"svg",function(){return xi}),e.d(n,"forceCenter",function(){return mi}),e.d(n,"forceCollide",function(){return Vi}),e.d(n,"forceLink",function(){return Bi}),e.d(n,"forceManyBody",function(){return Wi}),e.d(n,"forceRadial",function(){return Qi}),e.d(n,"forceSimulation",function(){return qi}),e.d(n,"forceX",function(){return $i}),e.d(n,"forceY",function(){return Zi}),e.d(n,"formatDefaultLocale",function(){return Ki.b}),e.d(n,"format",function(){return Ki.a}),e.d(n,"formatPrefix",function(){return Ki.d}),e.d(n,"formatLocale",function(){return Ki.c}),e.d(n,"formatSpecifier",function(){return Ki.e}),e.d(n,"precisionFixed",function(){return Ki.f}),e.d(n,"precisionPrefix",function(){return Ki.g}),e.d(n,"precisionRound",function(){return Ki.h}),e.d(n,"geoArea",function(){return Yo}),e.d(n,"geoBounds",function(){return Ia}),e.d(n,"geoCentroid",function(){return Qa}),e.d(n,"geoCircle",function(){return au}),e.d(n,"geoClipAntimeridian",function(){return yu}),e.d(n,"geoClipCircle",function(){return vu}),e.d(n,"geoClipExtent",function(){return Pu}),e.d(n,"geoClipRectangle",function(){return wu}),e.d(n,"geoContains",function(){return Hu}),e.d(n,"geoDistance",function(){return Nu}),e.d(n,"geoGraticule",function(){return qu}),e.d(n,"geoGraticule10",function(){return Wu}),e.d(n,"geoInterpolate",function(){return Ju}),e.d(n,"geoLength",function(){return Ou}),e.d(n,"geoPath",function(){return Zs}),e.d(n,"geoAlbers",function(){return _c}),e.d(n,"geoAlbersUsa",function(){return yc}),e.d(n,"geoAzimuthalEqualArea",function(){return bc}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return mc}),e.d(n,"geoAzimuthalEquidistant",function(){return Sc}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return wc}),e.d(n,"geoConicConformal",function(){return Ec}),e.d(n,"geoConicConformalRaw",function(){return Cc}),e.d(n,"geoConicEqualArea",function(){return gc}),e.d(n,"geoConicEqualAreaRaw",function(){return pc}),e.d(n,"geoConicEquidistant",function(){return Vc}),e.d(n,"geoConicEquidistantRaw",function(){return Oc}),e.d(n,"geoEquirectangular",function(){return kc}),e.d(n,"geoEquirectangularRaw",function(){return Lc}),e.d(n,"geoGnomonic",function(){return Nc}),e.d(n,"geoGnomonicRaw",function(){return Gc}),e.d(n,"geoIdentity",function(){return Ic}),e.d(n,"geoProjection",function(){return fc}),e.d(n,"geoProjectionMutator",function(){return hc}),e.d(n,"geoMercator",function(){return Tc}),e.d(n,"geoMercatorRaw",function(){return Ac}),e.d(n,"geoNaturalEarth1",function(){return zc}),e.d(n,"geoNaturalEarth1Raw",function(){return Dc}),e.d(n,"geoOrthographic",function(){return jc}),e.d(n,"geoOrthographicRaw",function(){return Fc}),e.d(n,"geoStereographic",function(){return Xc}),e.d(n,"geoStereographicRaw",function(){return Bc}),e.d(n,"geoTransverseMercator",function(){return Yc}),e.d(n,"geoTransverseMercatorRaw",function(){return Hc}),e.d(n,"geoRotation",function(){return ru}),e.d(n,"geoStream",function(){return Io}),e.d(n,"geoTransform",function(){return Ks}),e.d(n,"cluster",function(){return Qc}),e.d(n,"hierarchy",function(){return Zc}),e.d(n,"pack",function(){return bl}),e.d(n,"packSiblings",function(){return _l}),e.d(n,"packEnclose",function(){return rl}),e.d(n,"partition",function(){return Ml}),e.d(n,"stratify",function(){return Vl}),e.d(n,"tree",function(){return Fl}),e.d(n,"treemap",function(){return Yl}),e.d(n,"treemapBinary",function(){return Ul}),e.d(n,"treemapDice",function(){return Pl}),e.d(n,"treemapSlice",function(){return jl}),e.d(n,"treemapSliceDice",function(){return ql}),e.d(n,"treemapSquarify",function(){return Hl}),e.d(n,"treemapResquarify",function(){return Wl}),e.d(n,"interpolate",function(){return Pt.a}),e.d(n,"interpolateArray",function(){return Pt.b}),e.d(n,"interpolateBasis",function(){return Pt.c}),e.d(n,"interpolateBasisClosed",function(){return Pt.d}),e.d(n,"interpolateDate",function(){return Pt.g}),e.d(n,"interpolateNumber",function(){return Pt.m}),e.d(n,"interpolateObject",function(){return Pt.n}),e.d(n,"interpolateRound",function(){return Pt.r}),e.d(n,"interpolateString",function(){return Pt.s}),e.d(n,"interpolateTransformCss",function(){return Pt.t}),e.d(n,"interpolateTransformSvg",function(){return Pt.u}),e.d(n,"interpolateZoom",function(){return Pt.v}),e.d(n,"interpolateRgb",function(){return Pt.o}),e.d(n,"interpolateRgbBasis",function(){return Pt.p}),e.d(n,"interpolateRgbBasisClosed",function(){return Pt.q}),e.d(n,"interpolateHsl",function(){return Pt.j}),e.d(n,"interpolateHslLong",function(){return Pt.k}),e.d(n,"interpolateLab",function(){return Pt.l}),e.d(n,"interpolateHcl",function(){return Pt.h}),e.d(n,"interpolateHclLong",function(){return Pt.i}),e.d(n,"interpolateCubehelix",function(){return Pt.e}),e.d(n,"interpolateCubehelixLong",function(){return Pt.f}),e.d(n,"piecewise",function(){return Pt.w}),e.d(n,"quantize",function(){return Pt.x}),e.d(n,"path",function(){return ke.a}),e.d(n,"polygonArea",function(){return Ql}),e.d(n,"polygonCentroid",function(){return $l}),e.d(n,"polygonHull",function(){return tf}),e.d(n,"polygonContains",function(){return nf}),e.d(n,"polygonLength",function(){return ef}),e.d(n,"quadtree",function(){return Mi}),e.d(n,"randomUniform",function(){return of}),e.d(n,"randomNormal",function(){return af}),e.d(n,"randomLogNormal",function(){return uf}),e.d(n,"randomBates",function(){return cf}),e.d(n,"randomIrwinHall",function(){return sf}),e.d(n,"randomExponential",function(){return lf}),e.d(n,"scaleBand",function(){return _f}),e.d(n,"scalePoint",function(){return yf}),e.d(n,"scaleIdentity",function(){return Ef}),e.d(n,"scaleLinear",function(){return Cf}),e.d(n,"scaleLog",function(){return If}),e.d(n,"scaleOrdinal",function(){return gf}),e.d(n,"scaleImplicit",function(){return pf}),e.d(n,"scalePow",function(){return zf}),e.d(n,"scaleSqrt",function(){return Ff}),e.d(n,"scaleQuantile",function(){return jf}),e.d(n,"scaleQuantize",function(){return Bf}),e.d(n,"scaleThreshold",function(){return Xf}),e.d(n,"scaleTime",function(){return eh}),e.d(n,"scaleUtc",function(){return rh}),e.d(n,"scaleSequential",function(){return ih}),e.d(n,"scaleDiverging",function(){return oh}),e.d(n,"schemeCategory10",function(){return uh}),e.d(n,"schemeAccent",function(){return sh}),e.d(n,"schemeDark2",function(){return ch}),e.d(n,"schemePaired",function(){return lh}),e.d(n,"schemePastel1",function(){return fh}),e.d(n,"schemePastel2",function(){return hh}),e.d(n,"schemeSet1",function(){return dh}),e.d(n,"schemeSet2",function(){return ph}),e.d(n,"schemeSet3",function(){return gh}),e.d(n,"interpolateBrBG",function(){return vh}),e.d(n,"schemeBrBG",function(){return yh}),e.d(n,"interpolatePRGn",function(){return mh}),e.d(n,"schemePRGn",function(){return xh}),e.d(n,"interpolatePiYG",function(){return wh}),e.d(n,"schemePiYG",function(){return bh}),e.d(n,"interpolatePuOr",function(){return Ah}),e.d(n,"schemePuOr",function(){return Sh}),e.d(n,"interpolateRdBu",function(){return Ph}),e.d(n,"schemeRdBu",function(){return Th}),e.d(n,"interpolateRdGy",function(){return Ch}),e.d(n,"schemeRdGy",function(){return Mh}),e.d(n,"interpolateRdYlBu",function(){return Lh}),e.d(n,"schemeRdYlBu",function(){return Eh}),e.d(n,"interpolateRdYlGn",function(){return Oh}),e.d(n,"schemeRdYlGn",function(){return kh}),e.d(n,"interpolateSpectral",function(){return Gh}),e.d(n,"schemeSpectral",function(){return Vh}),e.d(n,"interpolateBuGn",function(){return Rh}),e.d(n,"schemeBuGn",function(){return Nh}),e.d(n,"interpolateBuPu",function(){return Dh}),e.d(n,"schemeBuPu",function(){return Ih}),e.d(n,"interpolateGnBu",function(){return Fh}),e.d(n,"schemeGnBu",function(){return zh}),e.d(n,"interpolateOrRd",function(){return Bh}),e.d(n,"schemeOrRd",function(){return jh}),e.d(n,"interpolatePuBuGn",function(){return Hh}),e.d(n,"schemePuBuGn",function(){return Xh}),e.d(n,"interpolatePuBu",function(){return Uh}),e.d(n,"schemePuBu",function(){return Yh}),e.d(n,"interpolatePuRd",function(){return Wh}),e.d(n,"schemePuRd",function(){return qh}),e.d(n,"interpolateRdPu",function(){return $h}),e.d(n,"schemeRdPu",function(){return Qh}),e.d(n,"interpolateYlGnBu",function(){return Kh}),e.d(n,"schemeYlGnBu",function(){return Zh}),e.d(n,"interpolateYlGn",function(){return td}),e.d(n,"schemeYlGn",function(){return Jh}),e.d(n,"interpolateYlOrBr",function(){return ed}),e.d(n,"schemeYlOrBr",function(){return nd}),e.d(n,"interpolateYlOrRd",function(){return id}),e.d(n,"schemeYlOrRd",function(){return rd}),e.d(n,"interpolateBlues",function(){return ad}),e.d(n,"schemeBlues",function(){return od}),e.d(n,"interpolateGreens",function(){return sd}),e.d(n,"schemeGreens",function(){return ud}),e.d(n,"interpolateGreys",function(){return ld}),e.d(n,"schemeGreys",function(){return cd}),e.d(n,"interpolatePurples",function(){return hd}),e.d(n,"schemePurples",function(){return fd}),e.d(n,"interpolateReds",function(){return pd}),e.d(n,"schemeReds",function(){return dd}),e.d(n,"interpolateOranges",function(){return _d}),e.d(n,"schemeOranges",function(){return gd}),e.d(n,"interpolateCubehelixDefault",function(){return yd}),e.d(n,"interpolateRainbow",function(){return bd}),e.d(n,"interpolateWarm",function(){return vd}),e.d(n,"interpolateCool",function(){return xd}),e.d(n,"interpolateSinebow",function(){return Td}),e.d(n,"interpolateViridis",function(){return Md}),e.d(n,"interpolateMagma",function(){return Cd}),e.d(n,"interpolateInferno",function(){return Ed}),e.d(n,"interpolatePlasma",function(){return Ld}),e.d(n,"create",function(){return Sp}),e.d(n,"creator",function(){return Gd}),e.d(n,"local",function(){return Tp}),e.d(n,"matcher",function(){return Bd}),e.d(n,"mouse",function(){return Ep}),e.d(n,"namespace",function(){return Vd}),e.d(n,"namespaces",function(){return Od}),e.d(n,"clientPoint",function(){return Cp}),e.d(n,"select",function(){return wp}),e.d(n,"selectAll",function(){return Lp}),e.d(n,"selection",function(){return bp}),e.d(n,"selector",function(){return Rd}),e.d(n,"selectorAll",function(){return Dd}),e.d(n,"style",function(){return $d}),e.d(n,"touch",function(){return kp}),e.d(n,"touches",function(){return Op}),e.d(n,"window",function(){return Qd}),e.d(n,"event",function(){return fp}),e.d(n,"customEvent",function(){return _p}),e.d(n,"arc",function(){return Kp}),e.d(n,"area",function(){return ig}),e.d(n,"line",function(){return rg}),e.d(n,"pie",function(){return ug}),e.d(n,"areaRadial",function(){return dg}),e.d(n,"radialArea",function(){return dg}),e.d(n,"lineRadial",function(){return hg}),e.d(n,"radialLine",function(){return hg}),e.d(n,"pointRadial",function(){return pg}),e.d(n,"linkHorizontal",function(){return wg}),e.d(n,"linkVertical",function(){return Sg}),e.d(n,"linkRadial",function(){return Ag}),e.d(n,"symbol",function(){return Bg}),e.d(n,"symbols",function(){return jg}),e.d(n,"symbolCircle",function(){return Tg}),e.d(n,"symbolCross",function(){return Pg}),e.d(n,"symbolDiamond",function(){return Eg}),e.d(n,"symbolSquare",function(){return Gg}),e.d(n,"symbolStar",function(){return Vg}),e.d(n,"symbolTriangle",function(){return Rg}),e.d(n,"symbolWye",function(){return Fg}),e.d(n,"curveBasisClosed",function(){return Wg}),e.d(n,"curveBasisOpen",function(){return $g}),e.d(n,"curveBasis",function(){return Ug}),e.d(n,"curveBundle",function(){return Kg}),e.d(n,"curveCardinalClosed",function(){return r_}),e.d(n,"curveCardinalOpen",function(){return o_}),e.d(n,"curveCardinal",function(){return n_}),e.d(n,"curveCatmullRomClosed",function(){return l_}),e.d(n,"curveCatmullRomOpen",function(){return h_}),e.d(n,"curveCatmullRom",function(){return s_}),e.d(n,"curveLinearClosed",function(){return p_}),e.d(n,"curveLinear",function(){return tg}),e.d(n,"curveMonotoneX",function(){return w_}),e.d(n,"curveMonotoneY",function(){return S_}),e.d(n,"curveNatural",function(){return P_}),e.d(n,"curveStep",function(){return C_}),e.d(n,"curveStepAfter",function(){return L_}),e.d(n,"curveStepBefore",function(){return E_}),e.d(n,"stack",function(){return G_}),e.d(n,"stackOffsetExpand",function(){return N_}),e.d(n,"stackOffsetDiverging",function(){return R_}),e.d(n,"stackOffsetNone",function(){return k_}),e.d(n,"stackOffsetSilhouette",function(){return I_}),e.d(n,"stackOffsetWiggle",function(){return D_}),e.d(n,"stackOrderAscending",function(){return z_}),e.d(n,"stackOrderDescending",function(){return j_}),e.d(n,"stackOrderInsideOut",function(){return B_}),e.d(n,"stackOrderNone",function(){return O_}),e.d(n,"stackOrderReverse",function(){return X_}),e.d(n,"timeInterval",function(){return Hf.g}),e.d(n,"timeMillisecond",function(){return Hf.h}),e.d(n,"timeMilliseconds",function(){return Hf.i}),e.d(n,"utcMillisecond",function(){return Hf.L}),e.d(n,"utcMilliseconds",function(){return Hf.M}),e.d(n,"timeSecond",function(){return Hf.r}),e.d(n,"timeSeconds",function(){return Hf.s}),e.d(n,"utcSecond",function(){return Hf.V}),e.d(n,"utcSeconds",function(){return Hf.W}),e.d(n,"timeMinute",function(){return Hf.j}),e.d(n,"timeMinutes",function(){return Hf.k}),e.d(n,"timeHour",function(){return Hf.e}),e.d(n,"timeHours",function(){return Hf.f}),e.d(n,"timeDay",function(){return Hf.a}),e.d(n,"timeDays",function(){return Hf.b}),e.d(n,"timeWeek",function(){return Hf.B}),e.d(n,"timeWeeks",function(){return Hf.C}),e.d(n,"timeSunday",function(){return Hf.t}),e.d(n,"timeSundays",function(){return Hf.u}),e.d(n,"timeMonday",function(){return Hf.l}),e.d(n,"timeMondays",function(){return Hf.m}),e.d(n,"timeTuesday",function(){return Hf.x}),e.d(n,"timeTuesdays",function(){return Hf.y}),e.d(n,"timeWednesday",function(){return Hf.z}),e.d(n,"timeWednesdays",function(){return Hf.A}),e.d(n,"timeThursday",function(){return Hf.v}),e.d(n,"timeThursdays",function(){return Hf.w}),e.d(n,"timeFriday",function(){return Hf.c}),e.d(n,"timeFridays",function(){return Hf.d}),e.d(n,"timeSaturday",function(){return Hf.p}),e.d(n,"timeSaturdays",function(){return Hf.q}),e.d(n,"timeMonth",function(){return Hf.n}),e.d(n,"timeMonths",function(){return Hf.o}),e.d(n,"timeYear",function(){return Hf.D}),e.d(n,"timeYears",function(){return Hf.E}),e.d(n,"utcMinute",function(){return Hf.N}),e.d(n,"utcMinutes",function(){return Hf.O}),e.d(n,"utcHour",function(){return Hf.J}),e.d(n,"utcHours",function(){return Hf.K}),e.d(n,"utcDay",function(){return Hf.F}),e.d(n,"utcDays",function(){return Hf.G}),e.d(n,"utcWeek",function(){return Hf.fb}),e.d(n,"utcWeeks",function(){return Hf.gb}),e.d(n,"utcSunday",function(){return Hf.X}),e.d(n,"utcSundays",function(){return Hf.Y}),e.d(n,"utcMonday",function(){return Hf.P}),e.d(n,"utcMondays",function(){return Hf.Q}),e.d(n,"utcTuesday",function(){return Hf.bb}),e.d(n,"utcTuesdays",function(){return Hf.cb}),e.d(n,"utcWednesday",function(){return Hf.db}),e.d(n,"utcWednesdays",function(){return Hf.eb}),e.d(n,"utcThursday",function(){return Hf.Z}),e.d(n,"utcThursdays",function(){return Hf.ab}),e.d(n,"utcFriday",function(){return Hf.H}),e.d(n,"utcFridays",function(){return Hf.I}),e.d(n,"utcSaturday",function(){return Hf.T}),e.d(n,"utcSaturdays",function(){return Hf.U}),e.d(n,"utcMonth",function(){return Hf.R}),e.d(n,"utcMonths",function(){return Hf.S}),e.d(n,"utcYear",function(){return Hf.hb}),e.d(n,"utcYears",function(){return Hf.ib}),e.d(n,"timeFormatDefaultLocale",function(){return Yf.d}),e.d(n,"timeFormat",function(){return Yf.c}),e.d(n,"timeParse",function(){return Yf.f}),e.d(n,"utcFormat",function(){return Yf.g}),e.d(n,"utcParse",function(){return Yf.h}),e.d(n,"timeFormatLocale",function(){return Yf.e}),e.d(n,"isoFormat",function(){return Yf.a}),e.d(n,"isoParse",function(){return Yf.b}),e.d(n,"now",function(){return An.b}),e.d(n,"timer",function(){return An.d}),e.d(n,"timerFlush",function(){return An.e}),e.d(n,"timeout",function(){return An.c}),e.d(n,"interval",function(){return An.a}),e.d(n,"transition",function(){return cy}),e.d(n,"active",function(){return gy}),e.d(n,"interrupt",function(){return ry}),e.d(n,"voronoi",function(){return Jy}),e.d(n,"zoom",function(){return Vx}),e.d(n,"zoomTransform",function(){return Ax}),e.d(n,"zoomIdentity",function(){return Sx})},function(t,n,e){"use strict";e.r(n);var r=e(0);function i(){}function o(t,n){var e=new i;if(t instanceof i)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==n)for(;++o<a;)e.set(o,t[o]);else for(;++o<a;)e.set(n(r=t[o],o,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}i.prototype=o.prototype={constructor:i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var a=o;function u(){return{}}function s(t,n,e){t[n]=e}function c(){return a()}function l(t,n,e){t.set(n,e)}function f(){}var h=a.prototype;function d(t,n){var e=new f;if(t instanceof f)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}f.prototype=d.prototype={constructor:f,has:h.has,add:function(t){return this["$"+(t+="")]=t,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each};var p=Array.prototype,g=p.map,_=p.slice;var y=e(2),v=function(t){return function(){return t}},x=function(t){return+t},m=[0,1];function b(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:v(n)}function w(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function S(t,n,e,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<o;)a[s]=e(t[s],t[s+1]),u[s]=i(n[s],n[s+1]);return function(n){var e=Object(r.b)(t,n,1,o)-1;return u[e](a[e](n))}}function A(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function T(t,n){var e,r,i,o=m,a=m,u=y.a,s=!1;function c(){return e=Math.min(o.length,a.length)>2?S:w,r=i=null,l}function l(n){return(r||(r=e(o,a,s?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}return l.invert=function(t){return(i||(i=e(a,o,b,s?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},l.domain=function(t){return arguments.length?(o=g.call(t,x),c()):o.slice()},l.range=function(t){return arguments.length?(a=_.call(t),c()):a.slice()},l.rangeRound=function(t){return a=_.call(t),u=y.r,c()},l.clamp=function(t){return arguments.length?(s=!!t,c()):s},l.interpolate=function(t){return arguments.length?(u=t,c()):u},c()}var P=e(6),M=function(t,n,e){var i,o=t[0],a=t[t.length-1],u=Object(r.A)(o,a,null==n?10:n);switch((e=Object(P.e)(null==e?",f":e)).type){case"s":var s=Math.max(Math.abs(o),Math.abs(a));return null!=e.precision||isNaN(i=Object(P.g)(u,s))||(e.precision=i),Object(P.d)(e,s);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=Object(P.h)(u,Math.max(Math.abs(o),Math.abs(a))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=Object(P.f)(u))||(e.precision=i-2*("%"===e.type))}return Object(P.a)(e)};function C(t){var n=t.domain;return t.ticks=function(t){var e=n();return Object(r.B)(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return M(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u];return c<s&&(i=s,s=c,c=i,i=a,a=u,u=i),(i=Object(r.z)(s,c,e))>0?(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,i=Object(r.z)(s,c,e)):i<0&&(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,i=Object(r.z)(s,c,e)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(c/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(c*i)/i,n(o)),t},t}e(1),e(8);var E=e(5),L=function(t){return function(){return t}},k=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),O=Math.PI,V=2*O;function G(t){this._context=t}G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var N=function(t){return new G(t)};function R(t){return t[0]}function I(t){return t[1]}var D=function(){var t=R,n=I,e=L(!0),r=null,i=N,o=null;function a(a){var u,s,c,l=a.length,f=!1;for(null==r&&(o=i(c=Object(E.a)())),u=0;u<=l;++u)!(u<l&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:L(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:L(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:L(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a};F(N);function z(t){this._curve=t}function F(t){function n(n){return new z(t(n))}return n._curve=t,n}z.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var j=Math.sin(O/10)/Math.sin(7*O/10),B=(Math.sin(V/10),Math.cos(V/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function X(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function H(t){this._context=t}H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:X(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:X(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Y(t){this._context=t}Y.prototype={areaStart:B,areaEnd:B,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:X(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function U(t){this._context=t}U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:X(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function q(t,n){this._basis=new H(t),this._beta=n}q.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*n[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(t){return 1===n?new H(t):new q(t,n)}return e.beta=function(n){return t(+n)},e})(.85);function W(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Q(t,n){this._context=t,this._k=(1-n)/6}Q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:W(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:W(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Q(t,n)}return e.tension=function(n){return t(+n)},e})(0);function $(t,n){this._context=t,this._k=(1-n)/6}$.prototype={areaStart:B,areaEnd:B,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:W(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new $(t,n)}return e.tension=function(n){return t(+n)},e})(0);function Z(t,n){this._context=t,this._k=(1-n)/6}Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:W(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return new Z(t,n)}return e.tension=function(n){return t(+n)},e})(0);function K(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>k){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>k){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function J(t,n){this._context=t,this._alpha=n}J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:K(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new J(t,n):new Q(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function tt(t,n){this._context=t,this._alpha=n}tt.prototype={areaStart:B,areaEnd:B,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:K(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new tt(t,n):new $(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function nt(t,n){this._context=t,this._alpha=n}nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:K(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(t){return n?new nt(t,n):new Z(t,0)}return e.alpha=function(n){return t(+n)},e})(.5);function et(t){this._context=t}et.prototype={areaStart:B,areaEnd:B,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function rt(t){return t<0?-1:1}function it(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(rt(o)+rt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function ot(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function at(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function ut(t){this._context=t}function st(t){this._context=new ct(t)}function ct(t){this._context=t}function lt(t){this._context=t}function ft(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:at(this,this._t0,ot(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,at(this,ot(this,e=it(this,t,n)),e);break;default:at(this,this._t0,e=it(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(st.prototype=Object.create(ut.prototype)).point=function(t,n){ut.prototype.point.call(this,n,t)},ct.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=ft(t),i=ft(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function ht(t,n){this._context=t,this._t=n}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var dt="http://www.w3.org/1999/xhtml",pt={svg:"http://www.w3.org/2000/svg",xhtml:dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),pt.hasOwnProperty(n)?{space:pt[n],local:t}:t};var _t=function(t){var n=gt(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===dt&&n.documentElement.namespaceURI===dt?n.createElement(t):n.createElementNS(e,t)}})(n)};function yt(){}var vt=function(t){return null==t?yt:function(){return this.querySelector(t)}};function xt(){return[]}var mt=function(t){return null==t?xt:function(){return this.querySelectorAll(t)}},bt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var wt=document.documentElement;if(!wt.matches){var St=wt.webkitMatchesSelector||wt.msMatchesSelector||wt.mozMatchesSelector||wt.oMatchesSelector;bt=function(t){return function(){return St.call(this,t)}}}}var At=bt,Tt=function(t){return new Array(t.length)};function Pt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Pt.prototype={constructor:Pt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Mt="$";function Ct(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Pt(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Et(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=Mt+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=Mt+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new Pt(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function Lt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var kt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ot(t,n){return t.style.getPropertyValue(n)||kt(t).getComputedStyle(t,null).getPropertyValue(n)}function Vt(t){return t.trim().split(/^|\s+/)}function Gt(t){return t.classList||new Nt(t)}function Nt(t){this._node=t,this._names=Vt(t.getAttribute("class")||"")}function Rt(t,n){for(var e=Gt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function It(t,n){for(var e=Gt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}Nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dt(){this.textContent=""}function zt(){this.innerHTML=""}function Ft(){this.nextSibling&&this.parentNode.appendChild(this)}function jt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bt(){return null}function Xt(){var t=this.parentNode;t&&t.removeChild(this)}function Ht(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Yt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ut={},qt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function Wt(t,n,e){return t=Qt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Qt(t,n,e){return function(r){var i=qt;qt=r;try{t.call(this,this.__data__,n,e)}finally{qt=i}}}function $t(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Zt(t,n,e){var r=Ut.hasOwnProperty(t.type)?Wt:Qt;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function Kt(t,n,e){var r=kt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Jt=[null];function tn(t,n){this._groups=t,this._parents=n}function nn(){return new tn([[document.documentElement]],Jt)}tn.prototype=nn.prototype={constructor:tn,select:function(t){"function"!=typeof t&&(t=vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new tn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=mt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new tn(r,i)},filter:function(t){"function"!=typeof t&&(t=At(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new tn(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var e=n?Et:Ct,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=a[c]=new Array(p);e(l,f,g,_,s[c]=new Array(h),d,n);for(var y,v,x=0,m=0;x<p;++x)if(y=g[x]){for(x>=m&&(m=x+1);!(v=_[m])&&++m<p;);y._next=v||null}}return(a=new tn(a,r))._enter=u,a._exit=s,a},enter:function(){return new tn(this._enter||this._groups.map(Tt),this._parents)},exit:function(){return new tn(this._exit||this._groups.map(Tt),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new tn(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Lt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new tn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=gt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):Ot(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Vt(t+"");if(arguments.length<2){for(var r=Gt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Rt:It)(this,t)}}:n?function(t){return function(){Rt(this,t)}}:function(t){return function(){It(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Dt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?zt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Ft)},lower:function(){return this.each(jt)},append:function(t){var n="function"==typeof t?t:_t(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:_t(t),r=null==n?Bt:"function"==typeof n?n:vt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Xt)},clone:function(t){return this.select(t?Yt:Ht)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Zt:$t,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Kt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Kt(this,t,n)}})(t,n))}};var en=nn,rn=function(t){return"string"==typeof t?new tn([[document.querySelector(t)]],[document.documentElement]):new tn([[t]],Jt)},on=0;function an(){this._="@"+(++on).toString(36)}an.prototype=function(){return new an}.prototype={constructor:an,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var un=e(7),sn=e(4),cn=Object(un.a)("start","end","interrupt"),ln=[],fn=0,hn=1,dn=2,pn=3,gn=4,_n=5,yn=6,vn=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==hn)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===pn)return Object(sn.c)(o);h.state===gn?(h.state=yn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=yn,h.timer.stop(),delete i[c])}if(Object(sn.c)(function(){e.state===pn&&(e.state=gn,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=dn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===dn){for(e.state=pn,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=_n,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===_n&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=yn,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Object(sn.d)(function(t){e.state=hn,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:cn,tween:ln,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fn})};function xn(t,n){var e=bn(t,n);if(e.state>fn)throw new Error("too late; already scheduled");return e}function mn(t,n){var e=bn(t,n);if(e.state>dn)throw new Error("too late; already started");return e}function bn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function wn(t,n,e){var r=t._id;return t.each(function(){var t=mn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return bn(t,r).value[n]}}var Sn=e(3),An=function(t,n){var e;return("number"==typeof n?y.m:n instanceof Sn.a?y.o:(e=Object(Sn.a)(n))?(n=e,y.o):y.s)(t,n)};var Tn=en.prototype.constructor;var Pn=0;function Mn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Cn(t){return en().transition(t)}function En(){return++Pn}var Ln=en.prototype;Mn.prototype=Cn.prototype={constructor:Mn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=vt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,vn(f[h],n,e,h,f,bn(u,e)));return new Mn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=bn(s,e),g=0,_=d.length;g<_;++g)(h=d[g])&&vn(h,n,e,g,d,p);o.push(d),a.push(s)}return new Mn(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=At(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Mn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Mn(a,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=En(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=bn(a,n);vn(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Mn(r,this._parents,t,e)},call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:function(t,n){var e=this._id;return arguments.length<2?bn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?xn:mn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=gt(t),r="transform"===e?y.u:An;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,wn(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=gt(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?y.t:An;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Ot(this,t),a=(this.style.removeProperty(t),Ot(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=Ot(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=Ot(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,wn(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=Ot(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(wn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=bn(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=mn(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=mn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){xn(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){xn(this,t).delay=n}})(n,t)):bn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){mn(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){mn(this,t).duration=n}})(n,t)):bn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){mn(this,t).ease=n}}(n,t)):bn(this.node(),n).ease}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var kn=2*Math.PI,On=(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=kn);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*kn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=kn);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*kn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=kn);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*kn)},i.period=function(e){return t(n,e)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Vn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return On.time=Object(sn.b)(),On;return e}en.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>dn&&e.state<_n,e.state=yn,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},en.prototype.transition=function(t){var n,e;t instanceof Mn?(n=t._id,t=t._name):(n=En(),(e=On).time=Object(sn.b)(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&vn(a,t,n,c,u,e||Vn(a,n));return new Mn(r,this._parents,t,n)};var Gn=e(9);function Nn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Rn=function(t,n){return fetch(t,n).then(Nn)};function In(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Rn(n,e).then(function(n){return t(n,r)})}}var Dn=In(Gn.c);In(Gn.h);function zn(t){return function(n,e){return Rn(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}zn("application/xml"),zn("text/html"),zn("image/svg+xml");(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var Fn=2*Math.PI,jn=(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Fn);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Fn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Fn);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Fn)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Fn);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Fn)},i.period=function(e){return t(n,e)},i}(1,.3),function(){return new Bn});function Bn(){this.reset()}Bn.prototype={constructor:Bn,reset:function(){this.s=this.t=0},add:function(t){Hn(Xn,t,this.t),Hn(this,Xn.s,this.s),this.s?this.t+=Xn.t:this.s=Xn.t},valueOf:function(){return this.s}};var Xn=new Bn;function Hn(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Yn=1e-6,Un=Math.PI,qn=Un/2,Wn=Un/4,Qn=2*Un,$n=180/Un,Zn=Un/180,Kn=Math.abs,Jn=Math.atan,te=Math.atan2,ne=Math.cos,ee=(Math.ceil,Math.exp),re=(Math.floor,Math.log),ie=(Math.pow,Math.sin),oe=(Math.sign,Math.sqrt),ae=Math.tan;function ue(t){return t>1?0:t<-1?Un:Math.acos(t)}function se(t){return t>1?qn:t<-1?-qn:Math.asin(t)}function ce(){}function le(t,n){t&&he.hasOwnProperty(t.type)&&he[t.type](t,n)}var fe={Feature:function(t,n){le(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)le(e[r].geometry,n)}},he={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){de(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)de(e[r],n,0)},Polygon:function(t,n){pe(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)pe(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)le(e[r],n)}};function de(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function pe(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)de(t[e],n,1);n.polygonEnd()}var ge=function(t,n){t&&fe.hasOwnProperty(t.type)?fe[t.type](t,n):le(t,n)};jn(),jn();function _e(t){return[te(t[1],t[0]),se(t[2])]}function ye(t){var n=t[0],e=t[1],r=ne(e);return[r*ne(n),r*ie(n),ie(e)]}function ve(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function xe(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function me(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function be(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function we(t){var n=oe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}jn();var Se=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function Ae(t,n){return[t>Un?t-Qn:t<-Un?t+Qn:t,n]}function Te(t,n,e){return(t%=Qn)?n||e?Se(Me(t),Ce(n,e)):Me(t):n||e?Ce(n,e):Ae}function Pe(t){return function(n,e){return[(n+=t)>Un?n-Qn:n<-Un?n+Qn:n,e]}}function Me(t){var n=Pe(t);return n.invert=Pe(-t),n}function Ce(t,n){var e=ne(t),r=ie(t),i=ne(n),o=ie(n);function a(t,n){var a=ne(n),u=ne(t)*a,s=ie(t)*a,c=ie(n),l=c*e+u*r;return[te(s*i-l*o,u*e-c*r),se(l*i+s*o)]}return a.invert=function(t,n){var a=ne(n),u=ne(t)*a,s=ie(t)*a,c=ie(n),l=c*i-s*o;return[te(s*i+c*o,u*e+l*r),se(l*e-u*r)]},a}Ae.invert=Ae;var Ee=function(t){function n(n){return(n=t(n[0]*Zn,n[1]*Zn))[0]*=$n,n[1]*=$n,n}return t=Te(t[0]*Zn,t[1]*Zn,t.length>2?t[2]*Zn:0),n.invert=function(n){return(n=t.invert(n[0]*Zn,n[1]*Zn))[0]*=$n,n[1]*=$n,n},n};function Le(t,n,e,r,i,o){if(e){var a=ne(n),u=ie(n),s=r*e;null==i?(i=n+r*Qn,o=n-s/2):(i=ke(a,i),o=ke(a,o),(r>0?i<o:i>o)&&(i+=r*Qn));for(var c,l=i;r>0?l>o:l<o;l-=s)c=_e([a,-u*ne(l),-u*ie(l)]),t.point(c[0],c[1])}}function ke(t,n){(n=ye(n))[0]-=t,we(n);var e=ue(-n[1]);return((-n[2]<0?-e:e)+Qn-Yn)%Qn}var Oe=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:ce,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},Ve=function(t,n){return Kn(t[0]-n[0])<Yn&&Kn(t[1]-n[1])<Yn};function Ge(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var Ne=function(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Ve(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new Ge(r,t,null,!0)),s.push(e.o=new Ge(r,null,e,!1)),u.push(e=new Ge(a,t,null,!1)),s.push(e.o=new Ge(a,null,e,!0))}}),u.length){for(s.sort(n),Re(u),Re(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function Re(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var Ie=jn(),De=function(t,n){var e=n[0],r=n[1],i=ie(r),o=[ie(e),-ne(e),0],a=0,u=0;Ie.reset(),1===i?r=qn+Yn:-1===i&&(r=-qn-Yn);for(var s=0,c=t.length;s<c;++s)if(f=(l=t[s]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+Wn,g=ie(p),_=ne(p),y=0;y<f;++y,d=x,g=b,_=w,h=v){var v=l[y],x=v[0],m=v[1]/2+Wn,b=ie(m),w=ne(m),S=x-d,A=S>=0?1:-1,T=A*S,P=T>Un,M=g*b;if(Ie.add(te(M*A*ie(T),_*w+M*ne(T))),a+=P?S+A*Qn:S,P^d>=e^x>=e){var C=xe(ye(h),ye(v));we(C);var E=xe(o,C);we(E);var L=(P^S>=0?-1:1)*se(E[2]);(r>L||r===L&&(C[0]||C[1]))&&(u+=P^S>=0?1:-1)}}return(a<-Yn||a<Yn&&Ie<-Yn)^1&u},ze=function(t,n,e,i){return function(o){var a,u,s,c=n(o),l=Oe(),f=n(l),h=!1,d={point:p,lineStart:_,lineEnd:y,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=m,u=[],a=[]},polygonEnd:function(){d.point=p,d.lineStart=_,d.lineEnd=y,u=Object(r.n)(u);var t=De(a,i);u.length?(h||(o.polygonStart(),h=!0),Ne(u,je,t,e,o)):t&&(h||(o.polygonStart(),h=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),u=a=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(n,e){t(n,e)&&o.point(n,e)}function g(t,n){c.point(t,n)}function _(){d.point=g,c.lineStart()}function y(){d.point=p,c.lineEnd()}function v(t,n){s.push([t,n]),f.point(t,n)}function x(){f.lineStart(),s=[]}function m(){v(s[0][0],s[0][1]),f.lineEnd();var t,n,e,r,i=f.clean(),c=l.result(),d=c.length;if(s.pop(),a.push(s),s=null,d)if(1&i){if((n=(e=c[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else d>1&&2&i&&c.push(c.pop().concat(c.shift())),u.push(c.filter(Fe))}return d}};function Fe(t){return t.length>1}function je(t,n){return((t=t.x)[0]<0?t[1]-qn-Yn:qn-t[1])-((n=n.x)[0]<0?n[1]-qn-Yn:qn-n[1])}var Be=ze(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Un:-Un,s=Kn(o-e);Kn(s-Un)<Yn?(t.point(e,r=(r+a)/2>0?qn:-qn),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=Un&&(Kn(e-i)<Yn&&(e-=i*Yn),Kn(o-u)<Yn&&(o-=u*Yn),r=function(t,n,e,r){var i,o,a=ie(t-e);return Kn(a)>Yn?Jn((ie(n)*(o=ne(r))*ie(e)-ie(r)*(i=ne(n))*ie(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*qn,r.point(-Un,i),r.point(0,i),r.point(Un,i),r.point(Un,0),r.point(Un,-i),r.point(0,-i),r.point(-Un,-i),r.point(-Un,0),r.point(-Un,i);else if(Kn(t[0]-n[0])>Yn){var o=t[0]<n[0]?Un:-Un;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Un,-qn]);var Xe=function(t){var n=ne(t),e=6*Zn,r=n>0,i=Kn(n)>Yn;function o(t,e){return ne(t)*ne(e)>n}function a(t,e,r){var i=[1,0,0],o=xe(ye(t),ye(e)),a=ve(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=xe(i,o),h=be(i,c);me(h,be(o,l));var d=f,p=ve(h,d),g=ve(d,d),_=p*p-g*(ve(h,h)-1);if(!(_<0)){var y=oe(_),v=be(d,(-p-y)/g);if(me(v,h),v=_e(v),!r)return v;var x,m=t[0],b=e[0],w=t[1],S=e[1];b<m&&(x=m,m=b,b=x);var A=b-m,T=Kn(A-Un)<Yn;if(!T&&S<w&&(x=w,w=S,S=x),T||A<Yn?T?w+S>0^v[1]<(Kn(v[0]-m)<Yn?w:S):w<=v[1]&&v[1]<=S:A>Un^(m<=v[0]&&v[0]<=b)){var P=be(d,(-p+y)/g);return me(P,h),[v,_e(P)]}}}function u(n,e){var i=r?t:Un-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return ze(o,function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var d,p=[f,h],g=o(f,h),_=r?g?0:u(f,h):g?u(f+(f<0?Un:-Un),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||Ve(n,d)||Ve(p,d))&&(p[0]+=Yn,p[1]+=Yn,g=o(p[0],p[1])),g!==s)l=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;_&e||!(y=a(p,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&Ve(n,p)||t.point(p[0],p[1]),n=p,s=g,e=_},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}},function(n,r,i,o){Le(o,t,e,i,n,r)},r?[0,-t]:[-Un,t-Un])},He=function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*h),l<1&&(n[0]=u+l*f,n[1]=s+l*h),!0}}}}},Ye=1e9,Ue=-Ye;function qe(t,n,e,i){function o(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function a(r,o,a,s){var l=0,f=0;if(null==r||(l=u(r,a))!==(f=u(o,a))||c(r,o)<0^a>0)do{s.point(0===l||3===l?t:e,l>1?i:n)}while((l=(l+a+4)%4)!==f);else s.point(o[0],o[1])}function u(r,i){return Kn(r[0]-t)<Yn?i>0?0:3:Kn(r[0]-e)<Yn?i>0?2:1:Kn(r[1]-n)<Yn?i>0?1:0:i>0?3:2}function s(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,l,f,h,d,p,g,_,y,v,x,m=u,b=Oe(),w={point:S,lineStart:function(){w.point=A,l&&l.push(f=[]);v=!0,y=!1,g=_=NaN},lineEnd:function(){c&&(A(h,d),p&&y&&b.rejoin(),c.push(b.result()));w.point=S,y&&m.lineEnd()},polygonStart:function(){m=b,c=[],l=[],x=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=l.length;e<r;++e)for(var o,a,u=l[e],s=1,c=u.length,f=u[0],h=f[0],d=f[1];s<c;++s)o=h,a=d,f=u[s],h=f[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++n:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--n;return n}(),e=x&&n,o=(c=Object(r.n)(c)).length;(e||o)&&(u.polygonStart(),e&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),o&&Ne(c,s,n,a,u),u.polygonEnd());m=u,c=l=f=null}};function S(t,n){o(t,n)&&m.point(t,n)}function A(r,a){var u=o(r,a);if(l&&f.push([r,a]),v)h=r,d=a,p=u,v=!1,u&&(m.lineStart(),m.point(r,a));else if(u&&y)m.point(r,a);else{var s=[g=Math.max(Ue,Math.min(Ye,g)),_=Math.max(Ue,Math.min(Ye,_))],c=[r=Math.max(Ue,Math.min(Ye,r)),a=Math.max(Ue,Math.min(Ye,a))];He(s,c,t,n,e,i)?(y||(m.lineStart(),m.point(s[0],s[1])),m.point(c[0],c[1]),u||m.lineEnd(),x=!1):u&&(m.lineStart(),m.point(r,a),x=!1)}g=r,_=a,y=u}return w}}jn();var We,Qe,$e,Ze,Ke=function(t){return t},Je=jn(),tr=jn(),nr={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){nr.lineStart=er,nr.lineEnd=or},polygonEnd:function(){nr.lineStart=nr.lineEnd=nr.point=ce,Je.add(Kn(tr)),tr.reset()},result:function(){var t=Je/2;return Je.reset(),t}};function er(){nr.point=rr}function rr(t,n){nr.point=ir,We=$e=t,Qe=Ze=n}function ir(t,n){tr.add(Ze*t-$e*n),$e=t,Ze=n}function or(){ir(We,Qe)}var ar=nr,ur=1/0,sr=ur,cr=-ur,lr=cr;var fr,hr,dr,pr,gr={point:function(t,n){t<ur&&(ur=t);t>cr&&(cr=t);n<sr&&(sr=n);n>lr&&(lr=n)},lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var t=[[ur,sr],[cr,lr]];return cr=lr=-(sr=ur=1/0),t}},_r=0,yr=0,vr=0,xr=0,mr=0,br=0,wr=0,Sr=0,Ar=0,Tr={point:Pr,lineStart:Mr,lineEnd:Lr,polygonStart:function(){Tr.lineStart=kr,Tr.lineEnd=Or},polygonEnd:function(){Tr.point=Pr,Tr.lineStart=Mr,Tr.lineEnd=Lr},result:function(){var t=Ar?[wr/Ar,Sr/Ar]:br?[xr/br,mr/br]:vr?[_r/vr,yr/vr]:[NaN,NaN];return _r=yr=vr=xr=mr=br=wr=Sr=Ar=0,t}};function Pr(t,n){_r+=t,yr+=n,++vr}function Mr(){Tr.point=Cr}function Cr(t,n){Tr.point=Er,Pr(dr=t,pr=n)}function Er(t,n){var e=t-dr,r=n-pr,i=oe(e*e+r*r);xr+=i*(dr+t)/2,mr+=i*(pr+n)/2,br+=i,Pr(dr=t,pr=n)}function Lr(){Tr.point=Pr}function kr(){Tr.point=Vr}function Or(){Gr(fr,hr)}function Vr(t,n){Tr.point=Gr,Pr(fr=dr=t,hr=pr=n)}function Gr(t,n){var e=t-dr,r=n-pr,i=oe(e*e+r*r);xr+=i*(dr+t)/2,mr+=i*(pr+n)/2,br+=i,wr+=(i=pr*t-dr*n)*(dr+t),Sr+=i*(pr+n),Ar+=3*i,Pr(dr=t,pr=n)}var Nr=Tr;function Rr(t){this._context=t}Rr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Qn)}},result:ce};var Ir,Dr,zr,Fr,jr,Br=jn(),Xr={point:ce,lineStart:function(){Xr.point=Hr},lineEnd:function(){Ir&&Yr(Dr,zr),Xr.point=ce},polygonStart:function(){Ir=!0},polygonEnd:function(){Ir=null},result:function(){var t=+Br;return Br.reset(),t}};function Hr(t,n){Xr.point=Yr,Dr=Fr=t,zr=jr=n}function Yr(t,n){Fr-=t,jr-=n,Br.add(oe(Fr*Fr+jr*jr)),Fr=t,jr=n}var Ur=Xr;function qr(){this._string=[]}function Wr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}qr.prototype={_radius:4.5,_circle:Wr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Wr(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Qr(t){return function(n){var e=new $r;for(var r in t)e[r]=t[r];return e.stream=n,e}}function $r(){}function Zr(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ge(e,t.stream(gr)),n(gr.result()),null!=r&&t.clipExtent(r),t}function Kr(t,n,e){return Zr(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function Jr(t,n,e){return Kr(t,[[0,0],n],e)}function ti(t,n,e){return Zr(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function ni(t,n,e){return Zr(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}$r.prototype={constructor:$r,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ei=16,ri=ne(30*Zn),ii=function(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,h,d,p,g,_){var y=c-r,v=l-i,x=y*y+v*v;if(x>4*n&&g--){var m=a+h,b=u+d,w=s+p,S=oe(m*m+b*b+w*w),A=se(w/=S),T=Kn(Kn(w)-1)<Yn||Kn(o-f)<Yn?(o+f)/2:te(b,m),P=t(T,A),M=P[0],C=P[1],E=M-r,L=C-i,k=v*E-y*L;(k*k/x>n||Kn((y*E+v*L)/x-.5)>.3||a*h+u*d+s*p<ri)&&(e(r,i,o,a,u,s,M,C,T,m/=S,b/=S,w,g,_),_.point(M,C),e(M,C,T,m,b,w,c,l,f,h,d,p,g,_))}}return function(n){var r,i,o,a,u,s,c,l,f,h,d,p,g={point:_,lineStart:y,lineEnd:x,polygonStart:function(){n.polygonStart(),g.lineStart=m},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function _(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,g.point=v,n.lineStart()}function v(r,i){var o=ye([r,i]),a=t(r,i);e(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],ei,n),n.point(l,f)}function x(){g.point=_,n.lineEnd()}function m(){y(),g.point=b,g.lineEnd=w}function b(t,n){v(r=t,n),i=l,o=f,a=h,u=d,s=p,g.point=v}function w(){e(l,f,c,h,d,p,i,o,r,a,u,s,ei,n),g.lineEnd=x,x()}return g}}(t,n):function(t){return Qr({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var oi=Qr({point:function(t,n){this.stream.point(t*Zn,n*Zn)}});function ai(t,n,e,r){var i=ne(r),o=ie(r),a=i*t,u=o*t,s=i/t,c=o/t,l=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}return h.invert=function(t,n){return[s*t-c*n+l,f-c*t-s*n]},h}function ui(t){return si(function(){return t})()}function si(t){var n,e,r,i,o,a,u,s,c,l,f=150,h=480,d=250,p=0,g=0,_=0,y=0,v=0,x=0,m=null,b=Be,w=null,S=Ke,A=.5;function T(t){return s(t[0]*Zn,t[1]*Zn)}function P(t){return(t=s.invert(t[0],t[1]))&&[t[0]*$n,t[1]*$n]}function M(){var t=ai(f,0,0,x).apply(null,n(p,g)),r=(x?ai:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],d-t[1],x);return e=Te(_,y,v),u=Se(n,r),s=Se(e,u),a=ii(u,A),C()}function C(){return c=l=null,T}return T.stream=function(t){return c&&l===t?c:c=oi(function(t){return Qr({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(b(a(S(l=t)))))},T.preclip=function(t){return arguments.length?(b=t,m=void 0,C()):b},T.postclip=function(t){return arguments.length?(S=t,w=r=i=o=null,C()):S},T.clipAngle=function(t){return arguments.length?(b=+t?Xe(m=t*Zn):(m=null,Be),C()):m*$n},T.clipExtent=function(t){return arguments.length?(S=null==t?(w=r=i=o=null,Ke):qe(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==w?null:[[w,r],[i,o]]},T.scale=function(t){return arguments.length?(f=+t,M()):f},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],M()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*Zn,g=t[1]%360*Zn,M()):[p*$n,g*$n]},T.rotate=function(t){return arguments.length?(_=t[0]%360*Zn,y=t[1]%360*Zn,v=t.length>2?t[2]%360*Zn:0,M()):[_*$n,y*$n,v*$n]},T.angle=function(t){return arguments.length?(x=t%360*Zn,M()):x*$n},T.precision=function(t){return arguments.length?(a=ii(u,A=t*t),C()):oe(A)},T.fitExtent=function(t,n){return Kr(T,t,n)},T.fitSize=function(t,n){return Jr(T,t,n)},T.fitWidth=function(t,n){return ti(T,t,n)},T.fitHeight=function(t,n){return ni(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&P,M()}}function ci(t){return function(n,e){var r=ne(n),i=ne(e),o=t(r*i);return[o*i*ie(n),o*ie(e)]}}function li(t){return function(n,e){var r=oe(n*n+e*e),i=t(r),o=ie(i),a=ne(i);return[te(n*o,r*a),se(r&&e*o/r)]}}var fi=ci(function(t){return oe(2/(1+t))});fi.invert=li(function(t){return 2*se(t/2)});var hi=ci(function(t){return(t=ue(t))&&t/ie(t)});hi.invert=li(function(t){return t});function di(t,n){return[t,re(ae((qn+n)/2))]}di.invert=function(t,n){return[t,2*Jn(ee(n))-qn]};function pi(t){var n,e,r,i=ui(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var o=Un*a(),u=i(Ee(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===di?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,n],[e,r]]},l()}function gi(t,n){return[t,n]}gi.invert=gi;function _i(t,n){var e=ne(n),r=ne(t)*e;return[e*ie(t)/r,ie(n)/r]}_i.invert=li(Jn);function yi(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}yi.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Kn(e)>Yn&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function vi(t,n){return[ne(n)*ie(t),ie(n)]}vi.invert=li(se);function xi(t,n){var e=ne(n),r=1+ne(t)*e;return[e*ie(t)/r,ie(n)/r]}xi.invert=li(function(t){return 2*Jn(t)});function mi(t,n){return[re(ae((qn+n)/2)),-t]}mi.invert=function(t,n){return[-n,2*Jn(ee(t))-qn]};var bi=e(10),wi=e(11),Si=e.n(wi);const Ai={scaleLinear:function t(){var n=T(b,y.m);return n.copy=function(){return A(n,t())},C(n)},line:D,select:rn,selectAll:function(t){return"string"==typeof t?new tn([document.querySelectorAll(t)],[document.documentElement]):new tn([null==t?[]:t],Jt)},transition:Cn,csv:Dn,nest:function(){var t,n,e,r=[],i=[];function o(e,i,u,s){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,l,f,h=-1,d=e.length,p=r[i++],g=a(),_=u();++h<d;)(f=g.get(c=p(l=e[h])+""))?f.push(l):g.set(c,[l]);return g.each(function(t,n){s(_,n,o(t,i,u,s))}),_}return e={object:function(t){return o(t,0,u,s)},map:function(t){return o(t,0,c,l)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var a,u=i[o-1];return null!=n&&o>=r.length?a=e.entries():(a=[],e.each(function(n,e){a.push({key:e,values:t(n,o)})})),null!=u?a.sort(function(t,n){return u(t.key,n.key)}):a}(o(t,0,c,l),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}},easeLinear:function(t){return+t},geoMercator:function(){return pi(di).scale(961/Qn)},geoPath:function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ge(t,e(r))),r.result()}return o.area=function(t){return ge(t,e(ar)),ar.result()},o.measure=function(t){return ge(t,e(Ur)),Ur.result()},o.bounds=function(t){return ge(t,e(gr)),gr.result()},o.centroid=function(t){return ge(t,e(Nr)),Nr.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Ke):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new qr):new Rr(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},get event(){return qt}};var Ti=Ai.select("#map").append("svg").attr("width",600).attr("height",600),Pi=Ai.select("body").append("div").attr("class","mdl-tooltip mdl-tooltip--fancy").style("position","absolute").style("opacity",0),Mi=Ai.geoMercator().scale(1).translate([0,0]).precision(0),Ci=Ai.geoPath().projection(Mi),Ei=Ci.bounds(bi),Li=600/Math.abs(Ei[1][0]-Ei[0][0]),ki=600/Math.abs(Ei[1][1]-Ei[0][1]),Oi=Li<ki?Li:ki,Vi=[(600-Oi*(Ei[1][0]+Ei[0][0]))/2,(600-Oi*(Ei[1][1]+Ei[0][1]))/2];Mi.scale(Oi).translate(Vi),Ti.selectAll("path").data(bi.features).enter().append("path").attr("d",Ci).attr("data-id",function(t){return t.id}).attr("data-name",function(t){return t.properties.name}).style("fill","#FB5B1F").style("stroke","#ffffff").on("mouseover",function(t){Ai.select(this).style("opacity",.2);Pi.transition().duration(200).style("opacity",.9),Pi.html('<p style="color:white;padding:7px;">'+t.properties.id+"</p>").style("left",Ai.event.pageX+30+"px").style("top",Ai.event.pageY+30+"px")}).on("mousemove",function(t){Ai.select(this).style("opacity",.2);Pi.transition().duration(1).style("opacity",.9).style("left",Ai.event.pageX+30+"px").style("top",Ai.event.pageY+30+"px")}).on("mouseout",function(t){Ai.select(this).style("opacity",1);Pi.transition().duration(500).style("opacity",0)});Si.a.generate({bindto:"#chart",data:{columns:[["data1",30,200,100,400,150,250],["data2",50,20,10,40,15,25]]}})}]);